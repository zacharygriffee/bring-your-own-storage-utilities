var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(function(e){function n(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"message",{enumerable:!1,value:t}),Object.defineProperty(n,"name",{enumerable:!1,value:n.constructor.name}),"captureStackTrace"in Error?Error.captureStackTrace(n,n.constructor):Object.defineProperty(n,"stack",{enumerable:!1,value:Error(t).stack,writable:!0,configurable:!0}),n}return t(n,e),n}(Error)),o=function(e){function n(t,n,r,i){return e.call(this,"".concat(t,": expected ").concat(n," to be ").concat(r,", but got ").concat(i,"."))||this}return t(n,e),n.assert=function(e,t,r,i,s){if(!e)throw new n(t,r,i,s);return e},n}(s),a=function(e){function n(t,n,r){var i=t.toString(),s=n.map((function(e){return e.name.toString()}));s.push(i);var o=s.join(" -> "),a="Could not resolve '".concat(i,"'.");return r&&(a+=" ".concat(r)),a+="\n\n",a+="Resolution path: ".concat(o),e.call(this,a)||this}return t(n,e),n}(s),u=function(e){function n(t,n){var r=t.toString(),i="Could not register '".concat(r,"'.");return n&&(i+=" ".concat(n)),e.call(this,i)||this}return t(n,e),n}(s),c={PROXY:"PROXY",CLASSIC:"CLASSIC"},l={SINGLETON:"SINGLETON",TRANSIENT:"TRANSIENT",SCOPED:"SCOPED"};function h(e){var t=e.length,n=0,r="EOF",i="",s=0,o=0,a=0;return{next:function(e){return void 0===e&&(e=0),s=e,u(),i?{value:i,type:r}:{type:r}},done:function(){return"EOF"===r}};function u(){for(i="",r="EOF";;){if(n>=t)return r="EOF";var u=e.charAt(n);if(p(u))n++;else switch(u){case"(":return n++,o++,r=u;case")":return n++,a++,r=u;case"*":case",":return n++,r=u;case"=":return n++,0==(1&s)&&l((function(e){var t=o===a+1;return!((","!==e||!t)&&("("===e?(o++,1):")"!==e||(a++,!t)))})),r=u;case"/":n++;var h=e.charAt(n);"/"===h&&(l((function(e){return"\n"===e}),!0),n++),"*"===h&&(l((function(t){var r=e.charAt(n+1);return"*"===t&&"/"===r}),!0),n++);continue;default:if(m(u))return c(),r;n++}}}function c(){for(var t,s=e.charAt(n),o=++n;t=e.charAt(n),x.test(t);)n++;return i=""+s+e.substring(o,n),"ident"!==(r="function"===i||"class"===i?i:"ident")&&(i=""),i}function l(t,r){for(void 0===r&&(r=!1);n<e.length;){var i=e.charAt(n);if(t(i))return;if(!r){if(p(i)){n++;continue}if(f(i)){h();continue}}n++}}function h(){var t=e.charAt(n);for(n++;n<e.length;){var r=e.charAt(n),i=e.charAt(n-1);if(r===t&&"\\"!==i)return void n++;"`"===t&&"$"===e.charAt(n+1)&&"{"===e.charAt(n+2)&&(n+=2,l((function(e){return"}"===e}))),n++}}}function p(e){switch(e){case"\r":case"\n":case" ":return!0}return!1}function f(e){switch(e){case"'":case'"':case"`":return!0}return!1}var d=/^[_$a-zA-Z\xA0-\uFFFF]$/,x=/^[._$a-zA-Z0-9\xA0-\uFFFF]$/;function m(e){return d.test(e)}function b(e){return"function"==typeof e}var g=Symbol("Awilix Resolver Config");function y(e){return{resolve:function(){return e},isLeakSafe:!0}}function v(e,t){if(!b(e))throw new o("asFunction","fn","function",e);t=F({lifetime:l.TRANSIENT},t,e[g]);var r=O(e);return E(S(n({resolve:r},t)))}function w(e,t){if(!b(e))throw new o("asClass","Type","class",e);t=F({lifetime:l.TRANSIENT},t,e[g]);var r=O((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Reflect.construct(e,t)}),e);return E(S(n(n({},t),{resolve:r})))}function _(e){return{resolve:function(t){return t.resolve(e)},isLeakSafe:!0}}function S(e){function t(e){return S(n(n({},this),{lifetime:e}))}function r(e){return S(n(n({},this),{injectionMode:e}))}return k(e,{setLifetime:t,inject:function(e){return S(n(n({},this),{injector:e}))},transient:A(t,l.TRANSIENT),scoped:A(t,l.SCOPED),singleton:A(t,l.SINGLETON),setInjectionMode:r,proxy:A(r,c.PROXY),classic:A(r,c.CLASSIC)})}function E(e){return k(e,{disposer:function(e){return E(n(n({},this),{dispose:e}))}})}function A(e,t){return function(){return e.call(this,t)}}function F(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object.assign.apply(Object,i([{},e],t,!1))}function k(e,t){return n(n({},e),t)}function O(e,t){t||(t=e);var n=j(t);return function(t){if((this.injectionMode||t.options.injectionMode||c.PROXY)!==c.CLASSIC){var s=this.injector?function(e,t){var n,s=t(e),o=(n=i(i([],Reflect.ownKeys(e.cradle),!0),Reflect.ownKeys(s),!0),Array.from(new Set(n)));return new Proxy({},{get:function(t,n){return n===Symbol.iterator?function(){var t,n,i,o,a,u,c,l;return r(this,(function(r){switch(r.label){case 0:for(i in t=e.cradle,n=[],t)n.push(i);o=0,r.label=1;case 1:return o<n.length?(i=n[o])in t?[4,i]:[3,3]:[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:for(c in u=[],a=s)u.push(c);l=0,r.label=5;case 5:return l<u.length?(c=u[l])in a?[4,c]:[3,7]:[3,8];case 6:r.sent(),r.label=7;case 7:return l++,[3,5];case 8:return[2]}}))}:n in s?s[n]:e.resolve(n)},ownKeys:function(){return o},getOwnPropertyDescriptor:function(e,t){if(o.indexOf(t)>-1)return{enumerable:!0,configurable:!0}}})}(t,this.injector):t.cradle;return e(s)}if(n.length>0){var o=this.injector?function(e,t){return function(n,r){return n in t?t[n]:e.resolve(n,r)}}(t,this.injector(t)):t.resolve,a=n.map((function(e){return o(e.name,{allowUnregistered:e.optional})}));return e.apply(void 0,a)}return e()}}function j(e){var t=function(e){var t=h(e),n=t.next,r=t.done,i=[],s=null;for(p();!r();)switch(s.type){case"class":if(c(),!l())return null;p();break;case"function":"ident"!==(o=p()).type&&"*"!==o.type||p();break;case"(":u();break;case")":return i;case"ident":var o,a={name:s.value,optional:!1};if("async"===s.value&&(o=p())&&"="!==o.type)break;return i.push(a),i;default:throw f()}return i;function u(){for(var e={name:"",optional:!1};!r();)switch(p(),s.type){case"ident":e.name=s.value;break;case"=":e.optional=!0;break;case",":i.push(e),e={name:"",optional:!1};break;case")":return void(e.name&&i.push(e));default:throw f()}}function c(){for(;!l()&&!r();)p(1)}function l(){return"ident"===s.type&&"constructor"===s.value}function p(e){return void 0===e&&(e=0),s=n(e)}function f(){return new SyntaxError("Parsing parameter list, did not expect ".concat(s.type," token").concat(s.value?" (".concat(s.value,")"):""))}}(e.toString());if(!t){var n=Object.getPrototypeOf(e);return"function"==typeof n&&n!==Function.prototype?j(n):[]}return t}var L=Symbol("familyTree"),T=Symbol("rollUpRegistrations"),C="AwilixContainerCradle";function P(e){return void 0===e&&(e={}),M(e)}function M(e,t,s){var p;e=n({injectionMode:c.PROXY,strict:!1},e);var f=null!=s?s:[],d={},x=new Proxy({},{get:function(e,t){return F(t)},set:function(e,t){throw new Error('Attempted setting property "'.concat(t,'" on container cradle - this is not allowed.'))},ownKeys:function(){return Array.from(x)},getOwnPropertyDescriptor:function(e,t){var n=_();if(Object.getOwnPropertyDescriptor(n,t))return{enumerable:!0,configurable:!0}}}),m=((p={options:e,cradle:x,inspect:function(){return"[AwilixContainer (".concat(t?"scoped, ":"","registrations: ").concat(Object.keys(m.registrations).length,")]")},cache:new Map,loadModules:function(){throw new Error("loadModules is not supported in the browser.")},createScope:function(){return M(e,m,f)},register:function(n,r){for(var s=function(e,t){var n,r=e;return"string"==typeof r||"symbol"==typeof r?((n={})[e]=t,n):r}(n,r),o=0,a=i(i([],Object.keys(s),!0),Object.getOwnPropertySymbols(s),!0);o<a.length;o++){var c=a[o],h=s[c];if(e.strict&&h.lifetime===l.SINGLETON&&t)throw new u(c,"Cannot register a singleton on a scoped container.");d[c]=h}return m},build:function(e,t){if(e&&e.resolve)return e.resolve(m);var n="build",r="targetOrResolver";return o.assert(e,n,r,"a registration, function or class",e),o.assert("function"==typeof e,n,r,"a function or class",e),(function(e){if("function"!=typeof e)return!1;var t=h(e.toString()),n=t.next();if("class"===n.type)return!0;var r=t.next();return!("function"!==n.type||!r.value||r.value[0]!==r.value[0].toUpperCase())}(e)?w(e,t):v(e,t)).resolve(m)},resolve:F,hasRegistration:function(e){return!!A(e)},dispose:function(){var e=Array.from(m.cache.entries());return m.cache.clear(),Promise.all(e.map((function(e){var t=e[1],n=t.resolver,r=t.value,i=n;return i.dispose?Promise.resolve().then((function(){return i.dispose(r)})):Promise.resolve()}))).then((function(){}))},getRegistration:A})[T]=_,Object.defineProperty(p,"registrations",{get:function(){return _()},enumerable:!1,configurable:!0}),p),b=t?[m].concat(t[L]):[m];m[L]=b;var g,y=(g=b)[g.length-1];return m;function _(){return n(n({},t&&t[T]()),d)}function S(){var e,t,n,i,s;return r(this,(function(r){switch(r.label){case 0:for(i in e=_(),n=[],t=e)n.push(i);s=0,r.label=1;case 1:return s<n.length?(i=n[s])in t?[4,i]:[3,3]:[3,4];case 2:r.sent(),r.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}function E(){return Object.prototype.toString.call(x)}function A(e){return d[e]||(t?t.getRegistration(e):null)}function F(t,n){n=n||{};try{var r=A(t);if(f.some((function(e){return e.name===t})))throw new a(t,f,"Cyclic dependencies detected.");if("toJSON"===t)return E;if("constructor"===t)return P;if(!r){switch(t){case"inspect":case"toString":return E;case Symbol.toStringTag:return C;case"then":return;case Symbol.iterator:return S}if(n.allowUnregistered)return;throw new a(t,f)}var i=r.lifetime||l.TRANSIENT;if(e.strict&&!r.isLeakSafe){var s=f.findIndex((function(e){var t,n,r=e.lifetime;return n=i,(t=r)===l.SINGLETON&&n!==l.SINGLETON||t===l.SCOPED&&n===l.TRANSIENT}));if(s>-1)throw new a(t,f,"Dependency '".concat(t.toString(),"' has a shorter lifetime than its ancestor: '").concat(f[s].name.toString(),"'"))}f.push({name:t,lifetime:i});var o=void 0,u=void 0;switch(i){case l.TRANSIENT:u=r.resolve(m);break;case l.SINGLETON:(o=y.cache.get(t))?u=o.value:(u=r.resolve(e.strict?y:m),y.cache.set(t,{resolver:r,value:u}));break;case l.SCOPED:if(void 0!==(o=m.cache.get(t))){u=o.value;break}u=r.resolve(m),m.cache.set(t,{resolver:r,value:u});break;default:throw new a(t,f,'Unknown lifetime "'.concat(r.lifetime,'"'))}return f.pop(),u}catch(e){throw f.length=0,e}}}function I(e){return Array.isArray(e)?e:[e]}function N(e){return null!=e&&"string"==typeof e.valueOf()}function z(e,t){if(!Array.isArray(e)){const n=Object.entries(e),r=[];for(const[e,i]of n)r.push(t(i,e));return r}return e.map(t)}function B(e,t,n){return e&&e.startsWith(t,n)}function D(e,t,n=!0){const r=Array.isArray(t)?t:t.split("");if(r.indexOf(e[0])>-1){const t=Array.isArray(e)?e:e.split("");for(;r.indexOf(t[0])>-1;)t.shift();return n?t.join(""):t}return e}function W(e,t){return D((Array.isArray(e)?e:e.split("")).reverse(),t,!1).reverse().join("")}function R(e,t){return W(D(e,t),t)}function $(e){return B(e,"../")||B(e,"./")}function U(e){return B(e,"/")}function V(e="/"){return"/"===e||""===e}function q(e){return"function"==typeof e}function G(e){const t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const H=G((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function J(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Y{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const e of t)e.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(q(n))try{n()}catch(t){e=t instanceof H?t.errors:[t]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const t of r)try{X(t)}catch(t){e=null!=e?e:[],t instanceof H?e=[...e,...t.errors]:e.push(t)}}if(e)throw new H(e)}}add(e){var t;if(e&&e!==this)if(this.closed)X(e);else{if(e instanceof Y){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&J(t,e)}remove(e){const{_finalizers:t}=this;t&&J(t,e),e instanceof Y&&e._removeParent(this)}}Y.EMPTY=(()=>{const e=new Y;return e.closed=!0,e})();const Z=Y.EMPTY;function K(e){return e instanceof Y||e&&"closed"in e&&q(e.remove)&&q(e.add)&&q(e.unsubscribe)}function X(e){q(e)?e():e.unsubscribe()}const Q={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(e,t,...n){const{delegate:r}=ee;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ee;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function te(e){ee.setTimeout((()=>{const{onUnhandledError:t}=Q;if(!t)throw e;t(e)}))}function ne(){}const re=ie("C",void 0,void 0);function ie(e,t,n){return{kind:e,value:t,error:n}}function se(e){e()}class oe extends Y{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,K(e)&&e.add(this)):this.destination=fe}static create(e,t,n){return new le(e,t,n)}next(e){this.isStopped?pe(function(e){return ie("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?pe(ie("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ae=Function.prototype.bind;function ue(e,t){return ae.call(e,t)}class ce{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){he(e)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){he(e)}else he(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){he(e)}}}class le extends oe{constructor(e,t,n){let r;if(super(),q(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0};else{let t;this&&Q.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ue(e.next,t),error:e.error&&ue(e.error,t),complete:e.complete&&ue(e.complete,t)}):r=e}this.destination=new ce(r)}}function he(e){te(e)}function pe(e,t){const{onStoppedNotification:n}=Q;n&&ee.setTimeout((()=>n(e,t)))}const fe={closed:!0,next:ne,error:function(e){throw e},complete:ne},de="function"==typeof Symbol&&Symbol.observable||"@@observable";function xe(e){return e}class me{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new me;return t.source=this,t.operator=e,t}subscribe(e,t,n){const r=(i=e)&&i instanceof oe||function(e){return e&&q(e.next)&&q(e.error)&&q(e.complete)}(i)&&K(i)?e:new le(e,t,n);var i;return se((()=>{const{operator:e,source:t}=this;r.add(e?e.call(r,t):t?this._subscribe(r):this._trySubscribe(r))})),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=be(t))(((t,n)=>{const r=new le({next:t=>{try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});this.subscribe(r)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[de](){return this}pipe(...e){return(0===(t=e).length?xe:1===t.length?t[0]:function(e){return t.reduce(((e,t)=>t(e)),e)})(this);var t}toPromise(e){return new(e=be(e))(((e,t)=>{let n;this.subscribe((e=>n=e),(e=>t(e)),(()=>e(n)))}))}}function be(e){var t;return null!==(t=null!=e?e:Q.Promise)&&void 0!==t?t:Promise}function ge(e){return q(null==e?void 0:e.lift)}function ye(e){return t=>{if(ge(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ve(e,t,n,r,i){return new we(e,t,n,r,i)}me.create=e=>new me(e);class we extends oe{constructor(e,t,n,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(n){try{t(n)}catch(t){e.error(t)}}:super._next,this._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}class _e extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ge(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Y;const t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,(()=>{this._teardown(),t.complete()}),(e=>{this._teardown(),t.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=Y.EMPTY)}return e}refCount(){return ye(((e,t)=>{let n=null;e._refCount++;const r=ve(t,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}const Se={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=Se;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t((t=>{n=void 0,e(t)}));return new Y((()=>null==n?void 0:n(i)))},requestAnimationFrame(...e){const{delegate:t}=Se;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=Se;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0},Ee=G((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class Ae extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new Fe(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new Ee}next(e){se((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}}))}error(e){se((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){se((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:r}=this;return t||n?Z:(this.currentObservers=null,r.push(e),new Y((()=>{this.currentObservers=null,J(r,e)})))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new me;return e.source=this,e}}Ae.create=(e,t)=>new Fe(e,t);class Fe extends Ae{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Z}}const ke={now:()=>(ke.delegate||Date).now(),delegate:void 0};class Oe extends Ae{constructor(e=1/0,t=1/0,n=ke){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(n.push(e),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let t=0;t<i.length&&!e.closed;t+=n?1:2)e.next(i[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}class je extends Y{constructor(e,t){super()}schedule(e,t=0){return this}}const Le={setInterval(e,t,...n){const{delegate:r}=Le;return(null==r?void 0:r.setInterval)?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Le;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};class Te extends je{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return Le.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Le.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,J(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let Ce,Pe=1;const Me={};function Ie(e){return e in Me&&(delete Me[e],!0)}const Ne={setImmediate(e){const t=Pe++;return Me[t]=!0,Ce||(Ce=Promise.resolve()),Ce.then((()=>Ie(t)&&e())),t},clearImmediate(e){Ie(e)}},{setImmediate:ze,clearImmediate:Be}=Ne,De={setImmediate(...e){const{delegate:t}=De;return((null==t?void 0:t.setImmediate)||ze)(...e)},clearImmediate(e){const{delegate:t}=De;return((null==t?void 0:t.clearImmediate)||Be)(e)},delegate:void 0};class We{constructor(e,t=We.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}We.now=ke.now;class Re extends We{constructor(e,t=We.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const $e=new class extends Re{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends Te{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=De.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(De.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),Ue=new Re(Te),Ve=Ue;new class extends Re{}(class extends Te{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}});new class extends Re{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends Te{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=Se.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(Se.cancelAnimationFrame(t),e._scheduled=void 0)}});(class extends Re{constructor(e=qe,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,r;for(;(r=e[0])&&r.delay<=t&&(e.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=e.shift();)r.unsubscribe();throw n}}}).frameTimeFactor=10;class qe extends Te{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(Number.isFinite(t)){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new qe(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}return Y.EMPTY}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:r}=e;return r.push(this),r.sort(qe.sortActions),1}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}const Ge=new me((e=>e.complete()));function He(e){return e&&q(e.schedule)}function Je(e){return e[e.length-1]}function Ye(e){return q(Je(e))?e.pop():void 0}function Ze(e){return He(Je(e))?e.pop():void 0}function Ke(e,t){return"number"==typeof Je(e)?e.pop():t}function Xe(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))}function Qe(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(e){return this instanceof et?(this.v=e,this):new et(e)}function tt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof et?Promise.resolve(e.value.v).then(u,c):l(s[0][2],e)}(i[e](t))}catch(e){l(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function nt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Qe(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const rt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function it(e){return q(null==e?void 0:e.then)}function st(e){return q(e[de])}function ot(e){return Symbol.asyncIterator&&q(null==e?void 0:e[Symbol.asyncIterator])}function at(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ut="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ct(e){return q(null==e?void 0:e[ut])}function lt(e){return tt(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield et(t.read());if(n)return yield et(void 0);yield yield et(e)}}finally{t.releaseLock()}}))}function ht(e){return q(null==e?void 0:e.getReader)}function pt(e){if(e instanceof me)return e;if(null!=e){if(st(e))return i=e,new me((e=>{const t=i[de]();if(q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(rt(e))return r=e,new me((e=>{for(let t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(it(e))return n=e,new me((e=>{n.then((t=>{e.closed||(e.next(t),e.complete())}),(t=>e.error(t))).then(null,te)}));if(ot(e))return ft(e);if(ct(e))return t=e,new me((e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()}));if(ht(e))return ft(lt(e))}var t,n,r,i;throw at(e)}function ft(e){return new me((t=>{(function(e,t){var n,r,i,s;return Xe(this,void 0,void 0,(function*(){try{for(n=nt(e);!(r=yield n.next()).done;){const e=r.value;if(t.next(e),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function dt(e,t,n,r=0,i=!1){const s=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!i)return s}function xt(e,t=0){return ye(((n,r)=>{n.subscribe(ve(r,(n=>dt(r,e,(()=>r.next(n)),t)),(()=>dt(r,e,(()=>r.complete()),t)),(n=>dt(r,e,(()=>r.error(n)),t))))}))}function mt(e,t=0){return ye(((n,r)=>{r.add(e.schedule((()=>n.subscribe(r)),t))}))}function bt(e,t){if(!e)throw new Error("Iterable cannot be null");return new me((n=>{dt(n,t,(()=>{const r=e[Symbol.asyncIterator]();dt(n,t,(()=>{r.next().then((e=>{e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function gt(e,t){if(null!=e){if(st(e))return function(e,t){return pt(e).pipe(mt(t),xt(t))}(e,t);if(rt(e))return function(e,t){return new me((n=>{let r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(it(e))return function(e,t){return pt(e).pipe(mt(t),xt(t))}(e,t);if(ot(e))return bt(e,t);if(ct(e))return function(e,t){return new me((n=>{let r;return dt(n,t,(()=>{r=e[ut](),dt(n,t,(()=>{let e,t;try{({value:e,done:t}=r.next())}catch(e){return void n.error(e)}t?n.complete():n.next(e)}),0,!0)})),()=>q(null==r?void 0:r.return)&&r.return()}))}(e,t);if(ht(e))return function(e,t){return bt(lt(e),t)}(e,t)}throw at(e)}function yt(e,t){return t?gt(e,t):pt(e)}function vt(...e){return yt(e,Ze(e))}var wt;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(wt||(wt={}));class _t{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){return St(this,e)}do(e,t,n){const{kind:r,value:i,error:s}=this;return"N"===r?null==e?void 0:e(i):"E"===r?null==t?void 0:t(s):null==n?void 0:n()}accept(e,t,n){var r;return q(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)}toObservable(){const{kind:e,value:t,error:n}=this,r="N"===e?vt(t):"E"===e?function(e,t){const n=q(e)?e:()=>e,r=e=>e.error(n());return new me(t?e=>t.schedule(r,0,e):r)}((()=>n)):"C"===e?Ge:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new _t("N",e)}static createError(e){return new _t("E",void 0,e)}static createComplete(){return _t.completeNotification}}function St(e,t){var n,r,i;const{kind:s,value:o,error:a}=e;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,o):"E"===s?null===(r=t.error)||void 0===r||r.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}_t.completeNotification=new _t("C");const Et=G((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function At(e,t){const n="object"==typeof t;return new Promise(((r,i)=>{const s=new le({next:e=>{r(e),s.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new Et)}});e.subscribe(s)}))}function Ft(e,t){return ye(((n,r)=>{let i=0;n.subscribe(ve(r,(n=>{r.next(e.call(t,n,i++))})))}))}function kt(e,t,n,r,i,s,o,a){const u=[];let c=0,l=0,h=!1;const p=()=>{!h||u.length||c||t.complete()},f=e=>c<r?d(e):u.push(e),d=e=>{s&&t.next(e),c++;let a=!1;pt(n(e,l++)).subscribe(ve(t,(e=>{null==i||i(e),s?f(e):t.next(e)}),(()=>{a=!0}),void 0,(()=>{if(a)try{for(c--;u.length&&c<r;){const e=u.shift();o?dt(t,o,(()=>d(e))):d(e)}p()}catch(e){t.error(e)}})))};return e.subscribe(ve(t,f,(()=>{h=!0,p()}))),()=>{null==a||a()}}function Ot(e,t,n=1/0){return q(t)?Ot(((n,r)=>Ft(((e,i)=>t(n,e,r,i)))(pt(e(n,r)))),n):("number"==typeof t&&(n=t),ye(((t,r)=>kt(t,r,e,n))))}function jt(e=1/0){return Ot(xe,e)}function Lt(){return jt(1)}function Tt(...e){return Lt()(yt(e,Ze(e)))}function Ct(e){return new me((t=>{pt(e()).subscribe(t)}))}function Pt(e=0,t,n=Ve){let r=-1;return null!=t&&(He(t)?n=t:r=t),new me((t=>{let i=(s=e)instanceof Date&&!isNaN(s)?+e-n.now():e;var s;i<0&&(i=0);let o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function Mt(...e){const t=Ze(e),n=Ke(e,1/0),r=e;return r.length?1===r.length?pt(r[0]):jt(n)(yt(r,t)):Ge}G((e=>function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"})),G((e=>function(t){e(this),this.name="NotFoundError",this.message=t})),G((e=>function(t){e(this),this.name="SequenceError",this.message=t})),G((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));const It=new me(ne),{isArray:Nt}=Array;function zt(e){return 1===e.length&&Nt(e[0])?e[0]:e}function Bt(e,t){return ye(((n,r)=>{let i=0;n.subscribe(ve(r,(n=>e.call(t,n,i++)&&r.next(n))))}))}function Dt(...e){return 1===(e=zt(e)).length?pt(e[0]):new me(function(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(pt(e[r]).subscribe(ve(t,(e=>{if(n){for(let e=0;e<n.length;e++)e!==r&&n[e].unsubscribe();n=null}t.next(e)}))))}}(e))}function Wt(e,t){return new me((n=>{const r=e(),i=t(r);return(i?pt(i):Ge).subscribe(n),()=>{r&&r.unsubscribe()}}))}function Rt(...e){const t=Ye(e),n=zt(e);return n.length?new me((e=>{let r=n.map((()=>[])),i=n.map((()=>!1));e.add((()=>{r=i=null}));for(let s=0;!e.closed&&s<n.length;s++)pt(n[s]).subscribe(ve(e,(n=>{if(r[s].push(n),r.every((e=>e.length))){const n=r.map((e=>e.shift()));e.next(t?t(...n):n),r.some(((e,t)=>!e.length&&i[t]))&&e.complete()}}),(()=>{i[s]=!0,!r[s].length&&e.complete()})));return()=>{r=i=null}})):Ge}function $t(e){return ye(((t,n)=>{let r,i=null,s=!1;i=t.subscribe(ve(n,void 0,void 0,(o=>{r=pt(e(o,$t(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):s=!0}))),s&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function Ut(e,t,n,r,i){return(s,o)=>{let a=n,u=t,c=0;s.subscribe(ve(o,(t=>{const n=c++;u=a?e(u,t,n):(a=!0,t),r&&o.next(u)}),i&&(()=>{a&&o.next(u),o.complete()})))}}function Vt(e,t){return ye(Ut(e,t,arguments.length>=2,!1,!0))}const qt=(e,t)=>(e.push(t),e);function Gt(){return ye(((e,t)=>{Vt(qt,[])(e).subscribe(t)}))}function Ht(e,t){return q(t)?Ot(e,t,1):Ot(e,1)}const Jt={connector:()=>new Ae};function Yt(e,t=Jt){const{connector:n}=t;return ye(((t,r)=>{const i=n();var s;pt(e((s=i,new me((e=>s.subscribe(e)))))).subscribe(r),r.add(t.subscribe(i))}))}function Zt(e){return ye(((t,n)=>{let r=!1;t.subscribe(ve(n,(e=>{r=!0,n.next(e)}),(()=>{r||n.next(e),n.complete()})))}))}function Kt(e){return e<=0?()=>Ge:ye(((t,n)=>{let r=0;t.subscribe(ve(n,(t=>{++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Xt(){return ye(((e,t)=>{e.subscribe(ve(t,ne))}))}function Qt(e){return Ft((()=>e))}function en(e,t){return t?n=>Tt(t.pipe(Kt(1),Xt()),n.pipe(en(e))):Ot(((t,n)=>pt(e(t,n)).pipe(Kt(1),Qt(t))))}function tn(e,t=Ue){const n=Pt(e,t);return en((()=>n))}function nn(e,t=xe){return e=null!=e?e:rn,ye(((n,r)=>{let i,s=!0;n.subscribe(ve(r,(n=>{const o=t(n);!s&&e(i,o)||(s=!1,i=o,r.next(n))})))}))}function rn(e,t){return e===t}function sn(e=on){return ye(((t,n)=>{let r=!1;t.subscribe(ve(n,(e=>{r=!0,n.next(e)}),(()=>r?n.complete():n.error(e()))))}))}function on(){return new Et}function an(e,t){return t?n=>n.pipe(an(((n,r)=>pt(e(n,r)).pipe(Ft(((e,i)=>t(n,e,r,i))))))):ye(((t,n)=>{let r=0,i=null,s=!1;t.subscribe(ve(n,(t=>{i||(i=ve(n,void 0,(()=>{i=null,s&&n.complete()})),pt(e(t,r++)).subscribe(i))}),(()=>{s=!0,!i&&n.complete()})))}))}function un(e){return ye(((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}}))}function cn(e,t){return ye(function(e,t,n){const r="index"===n;return(n,i)=>{let s=0;n.subscribe(ve(i,(o=>{const a=s++;e.call(t,o,a,n)&&(i.next(r?a:o),i.complete())}),(()=>{i.next(r?-1:void 0),i.complete()})))}}(e,t,"value"))}function ln(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Bt(((t,n)=>e(t,n,r))):xe,Kt(1),n?Zt(t):sn((()=>new Et)))}function hn(){return ye(((e,t)=>{e.subscribe(ve(t,(()=>{t.next(!1),t.complete()}),(()=>{t.next(!0),t.complete()})))}))}function pn(e){return e<=0?()=>Ge:ye(((t,n)=>{let r=[];t.subscribe(ve(n,(t=>{r.push(t),e<r.length&&r.shift()}),(()=>{for(const e of r)n.next(e);n.complete()}),void 0,(()=>{r=null})))}))}function fn(){return ye(((e,t)=>{e.subscribe(ve(t,(e=>{t.next(_t.createNext(e))}),(()=>{t.next(_t.createComplete()),t.complete()}),(e=>{t.next(_t.createError(e)),t.complete()})))}))}function dn(e,t){const n=q(e)?e:()=>e;return q(t)?Yt(t,{connector:n}):e=>new _e(e,n)}function xn(e){return e?t=>Yt(e)(t):e=>dn(new Ae)(e)}function mn(e,t,n,r){n&&!q(n)&&(r=n);const i=q(n)?n:void 0;return n=>dn(new Oe(e,t,r),i)(n)}function bn(e,t){return ye(Ut(e,t,arguments.length>=2,!0))}function gn(...e){const t=Ze(e);return ye(((n,r)=>{(t?Tt(e,n,t):Tt(e,n)).subscribe(r)}))}function yn(e,t){return ye(((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ve(r,(n=>{null==i||i.unsubscribe();let o=0;const u=s++;pt(e(n,u)).subscribe(i=ve(r,(e=>r.next(t?t(n,e,u,o++):e)),(()=>{i=null,a()})))}),(()=>{o=!0,a()})))}))}function vn(e){return ye(((t,n)=>{pt(e).subscribe(ve(n,(()=>n.complete()),ne)),!n.closed&&t.subscribe(n)}))}function wn(e,t,n){const r=q(e)||t||n?{next:e,error:t,complete:n}:e;return r?ye(((e,t)=>{var n;null===(n=r.subscribe)||void 0===n||n.call(r);let i=!0;e.subscribe(ve(t,(e=>{var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(()=>{var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(e=>{var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(()=>{var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):xe}function _n(e,t){if(V(t))return vt(!1);const n=(e.exists||e.entry).bind(e);return Ct((()=>Promise.resolve(n(t)))).pipe(Ft((e=>!!e)),$t((e=>vt(!1))))}const Sn={catchError:$t,first:ln,map:Ft,switchMap:yn,firstValueFrom:At,of:vt};function En(e,t){return V(t)?Sn.of(!0):_n(e,t).pipe(Sn.switchMap((n=>n?Sn.of(!1):Sa(e,{cwd:t}).pipe(Sn.first(),Sn.map((()=>!0))))),Sn.catchError((()=>Sn.of(!1))))}let An=class extends me{constructor(e){super((e=>{const t=this._count++,n=this._notifications.pipe(ln((e=>e===t))).subscribe(e);return this._indices.next(t),n})),this._count=0,this._indices=new Ae,this._notifications=Rt(e,this._indices).pipe(Ft((([,e])=>e)),xn())}connect(){return this._notifications.connect()}};const Fn=oe.prototype._complete,kn=oe.prototype._error,On=oe.prototype._next;let jn=class extends oe{constructor(e,t){super(e);const{complete:n,error:r,next:i}=t;this._complete=n?()=>{try{n()}catch(t){e.error(t)}this.unsubscribe()}:Fn,this._error=r?t=>{try{r(t)}catch(t){e.error(t)}this.unsubscribe()}:kn,this._next=i?t=>{try{i(t)}catch(t){e.error(t)}}:On}};function Ln(e){const t=Object.entries(e);return function(...e){let t=e[0],n=e[1];if(0===t.length)return vt(n?n([]):[]);const r=t.slice();return n&&r.push(((...e)=>n(e))),Rt.apply(null,r)}(t.map((([,e])=>function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.subscribe)}(e)?e:vt(e)))).pipe(Ft((e=>e.reduce(((e,n,r)=>(e[t[r][0]]=n,e)),{}))))}function Tn(e,t,n=(()=>new Ae)){return r=>r.lift(new Cn(e,t,n))}let Cn=class{constructor(e,t,n){this.count=e,this.hashSelector=t,this.subjectSelector=n}call(e,t){return t.subscribe(new Pn(e,this.count,this.hashSelector,this.subjectSelector))}},Pn=class extends oe{constructor(e,t,n,r){super(e),this.count=t,this.hashSelector=n,this.subjectSelector=r,this.index=0;const i=this.buckets=new Array(t);for(let e=0;e<t;++e)i[e]=r();e.next(i.map((e=>e.asObservable())))}_next(e){const{buckets:t,closed:n,count:r,hashSelector:i}=this;if(n)return;let s;try{const t=i(e,this.index++);s=Math.abs(Math.floor(t))%r}catch(e){return void this.error(e)}t[s].next(e)}_error(e){const{buckets:t,closed:n,destination:r}=this;n||(t.forEach((t=>t.error(e))),r.error(e))}_complete(){const{buckets:e,closed:t,destination:n}=this;t||(e.forEach((e=>e.complete())),n.complete())}};function Mn(e){return t=>t.pipe(xn((t=>Mt(t,t.pipe(hn(),Ot((t=>t?e:Ge)))))))}function In(...e){let t=e[e.length-1];return function(e){return Boolean(e&&"function"==typeof e.schedule)}(t)?e.pop():t=null,n=>Tt(n,yt(e,t))}function Nn(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(xn((e=>Tt(e.pipe(Kt(n)),e.pipe(t)))))}const zn=Mn,Bn=Mn;let Dn=class{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Wn(e,this.callback))}},Wn=class extends oe{constructor(e,t){super(e),this.callback=t,this.kind="U",this.subscription=void 0}complete(){this.kind="C",this.defer((()=>super.complete()))}error(e){this.kind="E",this.defer((()=>super.error(e)))}unsubscribe(){this.defer((()=>super.unsubscribe()))}defer(e){if(this.subscription)return void this.subscription.add(e);const t=new Y;this.subscription=t,t.add(e);yt(this.callback(this.kind)).pipe(un((()=>t.unsubscribe()))).subscribe()}},Rn=class{constructor(e){this.callback=e}call(e,t){const n=t.subscribe(e);return n.add(this.callback),n}};function $n(e){return t=>Ct((()=>{let n="U";return t.pipe(wn({complete:()=>n="C",error:()=>n="E"}),un((()=>e(n))))}))}function Un(e){return t=>t.lift(new qn(e))}const Vn=Un;let qn=class{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Gn(e,this.callback))}},Gn=class extends oe{constructor(e,t){super(e),this.add(new Y((()=>t(this.notification))))}complete(){this.notification=new _t("C"),super.complete()}error(e){this.notification=new _t("E",void 0,e),super.error(e)}};function Hn(e,t=$e){return n=>{const r=n;let i=null,s=null;const o=new Ae,a=o.pipe(bn(((e,t)=>e+t),0),yn((n=>0===n?Pt(e,t).pipe(wn((()=>{i&&(i.unsubscribe(),i=null),s&&(s.unsubscribe(),s=null)}))):!i&&n>0?Pt(0,t).pipe(wn((()=>{i||(i=r.connect())}))):It)));return Wt((()=>(s||(s=a.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)})),(()=>n))}}const Jn=Hn;let Yn=class{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Zn(e,this.scheduler,this.delay))}},Zn=class extends oe{constructor(e,t,n){super(e),this.scheduler=t,this.delay=n}unsubscribe(){const{delay:e,scheduler:t}=this;t.schedule((()=>super.unsubscribe()),e)}};var Kn=Object.freeze({__proto__:null,auditMap:function(e){return t=>{let n,r=!1;return t.pipe(Ot(((t,i)=>r?(n=[t,i],Ge):(r=!0,yt(e(t,i)).pipe(Tt(Ct((()=>{if(!n)return Ge;const t=e(...n);return n=void 0,yt(t)}))),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Bt(((t,n)=>e(t,n,r))):xe,pn(1),n?Zt(t):sn((()=>new Et)))}(),wn({complete:()=>r=!1}))))))}},bucketBy:Tn,bufferRecent:function(e){return e<1?e=>e.pipe(Qt([])):1===e?e=>e.pipe(Ft((e=>[e]))):t=>t.pipe(bn(((t,n)=>[...t.slice(1-e),n]),[]))},concatIfEmpty:Mn,concatTap:function(e){return t=>t.pipe(Ht((t=>yt(e(t)).pipe(Xt(),In(t)))))},concatMapEager:function(e,t){return n=>Ct((()=>{let r=0;const i=new Map;return n.pipe(Ot(((t,n)=>yt(e(t,n)).pipe(fn(),Ft((e=>({index:n,notification:e}))))),t),Ot((({index:e,notification:t})=>{let n=i.get(e);switch(n||(n={complete:!1,index:e,values:[]},i.set(e,n)),t.kind){case"N":n.values.push(t.value);break;case"C":n.complete=!0;break;case"E":return t.toObservable()}return n.index!==r?Ge:function(){const e=[];let t=i.get(r);for(;t&&(e.push(...t.values),t.values.length=0,t.complete);)i.delete(r),t=i.get(++r);return e}()})))}))},debounceAfter:function(e,t,n){return r=>r.pipe(xn((r=>e.pipe(yn((()=>Tt(vt(!0),vt(!1).pipe(tn(t,n))))),gn(!1),nn(),xn((e=>e.pipe(Ht((t=>t?r.pipe(vn(e.pipe(Bt((e=>!e)))),pn(1)):r.pipe(vn(e.pipe(Bt((e=>e))))))))))))))},debounceSync:function(){return e=>new me((t=>{let n,r;e.subscribe(new jn(t,{complete:()=>{n&&t.next(r),t.complete()},error:e=>t.error(e),next:e=>{r=e,n||(n=$e.schedule((()=>{t.next(r),n=void 0})),t.add(n))}}))}))},debounceTimeSubsequent:function(e,t,n){let r;return"number"==typeof t?r=t:(r=1,n=t),Nn(r,function(e,t=Ue){return ye(((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const e=s;s=null,r.next(e)}};function u(){const n=o+e,s=t.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(ve(r,(n=>{s=n,o=t.now(),i||(i=t.schedule(u,e),r.add(i))}),(()=>{a(),r.complete()}),void 0,(()=>{s=i=null})))}))}(e,n))},defaultObservableIfEmpty:zn,switchIfEmpty:Bn,deferFinalize:function(e){return t=>t.lift(new Dn(e))},delayUntil:function(e){return t=>t.pipe(xn((t=>{const n=new me((n=>{let r=!0;const i=[],s=new Y;return s.add(e.subscribe((()=>{i.forEach((e=>n.next(e))),n.complete()}),(e=>n.error(e)),(()=>{r=!1,i.length=0}))),s.add((()=>{i.length=0})),s.add(t.subscribe((e=>r&&i.push(e)),(e=>n.error(e)))),s}));return Tt(n,t)})))},dispose:function(e){return t=>t.lift(new Rn(e))},endWith:In,equals:function(e){return t=>t.pipe(Bt((t=>e===t)))},exhaustTap:function(e){return t=>t.pipe(mn(1,void 0,(t=>t.pipe(an((n=>Tt(t,It).pipe(vn(yt(e(n)).pipe(Xt(),In(null))),Gt(),jt())))))))},finalizeWithKind:$n,guard:function(e,t){return n=>n.pipe(Ft((n=>{if(e(n))return n;const r=new Error(t||"Guard rejection.");throw r.value=n,r})))},hold:function(e){return t=>{return t.pipe((n=e,ye(((e,t)=>{let r=[];return e.subscribe(ve(t,(e=>r.push(e)),(()=>{t.next(r),t.complete()}))),pt(n).subscribe(ve(t,(()=>{const e=r;r=[],t.next(e)}),ne)),()=>{r=null}}))),Lt());var n}},holdToggle:function(e,t){return n=>{return n.pipe((r=e,i=t,ye(((e,t)=>{const n=[];pt(r).subscribe(ve(t,(e=>{const r=[];n.push(r);const s=new Y;s.add(pt(i(e)).subscribe(ve(t,(()=>{J(n,r),t.next(r),s.unsubscribe()}),ne)))}),ne)),e.subscribe(ve(t,(e=>{for(const t of n)t.push(e)}),(()=>{for(;n.length>0;)t.next(n.shift());t.complete()})))}))),Lt());var r,i}},holdWhen:function(e){return t=>{return t.pipe((n=e,ye(((e,t)=>{let r=null,i=null;const s=()=>{null==i||i.unsubscribe();const e=r;r=[],e&&t.next(e),pt(n()).subscribe(i=ve(t,s,ne))};s(),e.subscribe(ve(t,(e=>null==r?void 0:r.push(e)),(()=>{r&&t.next(r),t.complete()}),void 0,(()=>r=i=null)))}))),Lt());var n}},indexElements:function(e=((e,t)=>t)){return Ft(e)},inexorably:Un,finalize:Vn,initial:function(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(xn((e=>{return Mt(e.pipe(Kt(n),t),e.pipe((r=n,Bt(((e,t)=>r<=t)))));var r})))},instanceOf:function(e){return Bt("function"==typeof e?t=>t instanceof e:t=>Object.keys(e).some((n=>t instanceof e[n])))},materializeTap:function(e){return t=>t.pipe(wn({complete:()=>e(new _t("C")),error:t=>e(new _t("E",void 0,t)),next:t=>e(new _t("N",t))}))},materializeTo:function(e){return t=>t.pipe(function(e,t,n=1/0){return q(t)?Ot((()=>e),t,n):("number"==typeof t&&(n=t),Ot((()=>e),n))}(yt(e).pipe(fn())),ye(((e,t)=>{e.subscribe(ve(t,(e=>St(e,t))))})))},mergeTap:function(e){return t=>t.pipe(Ot((t=>yt(e(t)).pipe(Xt(),In(t)))))},multicastWithKind:function(e,t){return n=>{let r,i;return n.pipe($n((e=>r=e)),dn((()=>(i=e(r,i),r=void 0,i)),t))}},pairwiseStartWith:function(e){return t=>t.pipe(gn(e),ye(((e,t)=>{let n,r=!1;e.subscribe(ve(t,(e=>{const i=n;n=e,r&&t.next([i,e]),r=!0})))})))},pause:function(e,t="resumed"){return n=>e.pipe(gn(t),mn(1,void 0,(e=>n.pipe(Ot((t=>e.pipe(Bt((e=>"resumed"===e)),ln(),Ft((()=>t)))))))))},percolate:function e(...t){const[n,...r]=t;return 1===t.length&&Array.isArray(n)?e(...n):new me((t=>yt(n).subscribe({complete:()=>{t.complete()},next(e){t.next(e)},error:n=>{0===r.length?t.error(n):t.add(e(...r).subscribe(t))}})))},pluck:function(...e){return t=>function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return Ft((n=>{let r=n;for(let n=0;n<t;n++){const t=null==r?void 0:r[e[n]];if(void 0===t)return;r=t}return r}))}(...e)(t)},prioritize:function(e){return t=>new me((n=>{const r=xn()(t),i=[],s=new Y,o=Math.max(e.length,2);for(let e=0;e<o;++e){const e=new Ae;i.push(e),s.add(r.subscribe(e))}const[a,u,...c]=i;return s.add(e(a,u,...c).subscribe(n)),s.add(r.connect()),s}))},rateLimit:function(e,...t){let n=1,r=$e;1===t.length?"number"==typeof t[0]?n=t[0]:r=t[0]:2===t.length&&(n=t[0],r=t[1]);const i=n||1;return t=>t.pipe(bn(((t,n)=>{const s=r.now(),o=s-e;if((t=t.filter((e=>e.until>o))).length>=i){const r=t[0],o=t[t.length-1],a=r.until+e*Math.floor(t.length/i);t.push({delay:o.until<s?a-s:a-o.until,until:a,value:n})}else t.push({delay:0,until:s,value:n});return t}),[]),Ft((e=>e[e.length-1])),Ht((e=>{const t=vt(e.value);return e.delay?t.pipe(tn(e.delay,r)):t})))},refCountDelay:Hn,refCountAuditTime:Jn,refCountForever:function(){return e=>{const t=e;let n=null;return Wt((()=>(n||(n=t.connect()),{unsubscribe:()=>{}})),(()=>e))}},refCountOn:function(e){return t=>{const n=t;let r=0,i=null;return Wt((()=>(++r,e.schedule((()=>{!i&&r>0&&(i=n.connect())})),{unsubscribe:()=>{--r,e.schedule((()=>{i&&0===r&&(i.unsubscribe(),i=null)}))}})),(()=>t))}},reschedule:function(e=$e){return Ht((t=>vt(t,e)))},skipSync:function(){return e=>new me((t=>{let n=!1;const r=e.subscribe((e=>n&&t.next(e)),t.error.bind(t),t.complete.bind(t));return n=!0,r}))},splitBy:function(e,t=(()=>new Ae)){return Tn(2,((t,n)=>e(t,n)?0:1),t)},spread:function(...e){return t=>e.reduce(((e,t)=>e.pipe(t)),t)},startWithDeferred:function(e,t){return n=>Tt(Ct((()=>{const n=e();return t?vt(n,t):vt(n)})),n)},startWithTimeout:function(e,t,n){return 0!==t||n?r=>r.pipe(xn((r=>Dt(r,Tt(Pt(t,n).pipe(Qt(e)),r))))):t=>new me((n=>{let r=!1;const i=t.subscribe((e=>{r=!0,n.next(e)}),n.error.bind(n),n.complete.bind(n));return r||n.next(e),i}))},subsequent:Nn,switchMapUntil:function(e,t){return n=>n.pipe(xn((n=>n.pipe(e,yn(((e,r)=>t(e,r).pipe(vn(n))))))))},switchTap:function(e){return t=>t.pipe(xn((t=>t.pipe(Ht((n=>Tt(yt(e(n)).pipe(Xt(),vn(t)),vt(n))))))))},takeSync:function(){return e=>new me((t=>{const n=e.subscribe(t);return t.complete(),n}))},takeWhileInclusive:function(e){return t=>t.pipe(dn((()=>new Oe(1)),(t=>Tt(t.pipe(function(e,t=!1){return ye(((n,r)=>{let i=0;n.subscribe(ve(r,(n=>{const s=e(n,i++);(s||t)&&r.next(n),!s&&r.complete()})))}))}(e)),t.pipe(Kt(1),Bt((t=>!e(t))))))))},tapSubscribe:function(e){const{ignore:t={},subscribe:n=ne,unsubscribe:r=ne}="function"==typeof e?{subscribe:e}:e;return e=>Ct((()=>{let i=!1,s=!1;return n(),e.pipe(wn({complete:()=>i=!0,error:()=>s=!0}),un((()=>{i&&t.complete||s&&t.error||r()})))}))},tapWithIndex:function(e,t,n){return r=>Ct((()=>{let i,s,o,a,u=-1;return e&&"function"!=typeof e?(i=e,s=e.next||ne,o=e.error||ne,a=e.complete||ne):(i=void 0,s=e||ne,o=t||ne,a=n||ne),r.pipe(wn((e=>s.call(i,[e,++u])),(e=>o.call(i,e)),(()=>a.call(i))))}))},throttleAfter:function(e,t,n){return r=>r.pipe(xn((r=>e.pipe(yn((()=>Tt(vt(!0),tn(t,n)(vt(!1))))),gn(!1),nn(),xn((e=>e.pipe(Ht((t=>t?r.pipe(Kt(1),vn(e.pipe(Bt((e=>!e))))):r.pipe(vn(e.pipe(Bt((e=>e))))))))))))))},withLatestFromWhen:function(...e){const t=e.pop(),n=e;return e=>new me((r=>{const i=xn()(e),s=n.map((e=>yt(e).pipe(xn()))),o=new Y;return o.add(t().pipe(gn(void 0),yn((()=>i.pipe(function(...e){const t=Ye(e);return ye(((n,r)=>{const i=e.length,s=new Array(i);let o=e.map((()=>!1)),a=!1;for(let t=0;t<i;t++)pt(e[t]).subscribe(ve(r,(e=>{s[t]=e,a||o[t]||(o[t]=!0,(a=o.every(xe))&&(o=null))}),ne));n.subscribe(ve(r,(e=>{if(a){const n=[e,...s];r.next(t?t(...n):n)}})))}))}(...s))))).subscribe(r)),s.forEach((e=>o.add(e.connect()))),o.add(i.connect()),o}))},unsubscribeOn:function(e,t=0){return n=>n.lift(new Yn(e,t))}});const Xn=Kn;var Qn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},er={},tr={},nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.fromHex=nr.toHex=void 0;const rr=e=>new Number(e).toString(16).toLowerCase();nr.toHex=e=>`0x${1===rr(e).length?"0"+rr(e):rr(e)}`,nr.fromHex=e=>new Number(e);var ir={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=e=>({typename:e.typename,mime:e.info.mime,extension:e.info.extension}),n=e=>e[0],r=e=>e.slice(1,e.length);e.merge=(i,s)=>{if(0===i.bytes.length)return s;const o=n(i.bytes),a=r(i.bytes);if(((e,t)=>e&&0===t.length)(s.bytes[o],a)){const e=s.bytes[o];return s.bytes[o]={...e,matches:[...e.matches?e.matches:[],t(i)]},s}return s.bytes[o]?(s.bytes[o]=e.merge(e.createNode(i.typename,a,i.info),s.bytes[o]),s):(s.bytes[o]||(s.bytes[o]={...s.bytes[o],...e.createComplexNode(i.typename,a,i.info)}),s)},e.createNode=(e,t,n)=>({typename:e,bytes:t,info:n||{}}),e.createComplexNode=(i,s,o)=>{let a={bytes:{},matches:void 0};const u=n(s),c=r(s);return 0===s.length?{matches:[t({typename:i,info:o?{extension:o.extension,mime:o.mime}:{}})],bytes:{}}:(a.bytes[u]=e.createComplexNode(i,c,o),a)}}(ir),Object.defineProperty(tr,"__esModule",{value:!0});const sr=nr,or=ir;let ar={noOffset:null,offset:{}};const ur=(e,t,n,r)=>{if(r){const i=ar.offset[sr.toHex(r)];if(i){const s=or.merge(or.createNode(e,t.map((e=>e.toLowerCase())),n),{...i});ar.offset[sr.toHex(r)]=s}else ar.offset[sr.toHex(r)]=or.createComplexNode(e,t.map((e=>e.toLowerCase())),n)}else null===ar.noOffset?ar.noOffset=or.createComplexNode(e,t.map((e=>e.toLowerCase())),n):ar.noOffset=or.merge(or.createNode(e,t.map((e=>e.toLowerCase())),n),ar.noOffset)};ur("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),ur("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),ur("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),ur("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),ur("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),ur("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),ur("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),ur("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),ur("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),ur("rpm",["0xed","0xab","0xee","0xdb"]),ur("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),ur("pic",["0x00"]),ur("pif",["0x00"]),ur("sea",["0x00"]),ur("ytr",["0x00"]),ur("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),ur("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),ur("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),ur("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),ur("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),ur("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),ur("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),ur("dba",["0xBE","0xBA","0xFE","0xCA"]),ur("dba2",["0x00","0x01","0x42","0x44"]),ur("tda",["0x00","0x01","0x44","0x54"]),ur("tda2",["0x00","0x01","0x00","0x00"]),ur("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),ur("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),ur("z",["0x1F","0x9D"]),ur("tar.z",["0x1F","0xA0"]),ur("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),ur("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),ur("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),ur("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),ur("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),ur("cin",["0x80","0x2A","0x5F","0xD7"]),ur("cin1",["0x52","0x4E","0x43","0x01"]),ur("cin2",["0x52","0x4E","0x43","0x02"]),ur("dpx",["0x53","0x44","0x50","0x58"]),ur("dpx2",["0x58","0x50","0x44","0x53"]),ur("exr",["0x76","0x2F","0x31","0x01"]),ur("bpg",["0x42","0x50","0x47","0xFB"]),ur("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),ur("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),ur("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),ur("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),ur("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),ur("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),ur("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),ur("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),ur("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),ur("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),ur("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),ur("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),ur("idx",["0x49","0x4E","0x44","0x58"]),ur("lz",["0x4C","0x5A","0x49","0x50"]),ur("exe",["0x4D","0x5A"]),ur("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),ur("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),ur("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),ur("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),ur("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),ur("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),ur("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),ur("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),ur("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),ur("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),ur("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),ur("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),ur("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),ur("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),ur("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),ur("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),ur("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),ur("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),ur("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),ur("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),ur("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),ur("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),ur("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),ur("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),ur("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),ur("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),ur("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),ur("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),ur("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),ur("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),ur("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),ur("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),ur("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),ur("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),ur("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),ur("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),ur("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),ur("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),ur("class",["0xCA","0xFE","0xBA","0xBE"]),ur("class",["0xEF","0xBB","0xBF"]),ur("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),ur("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),ur("class",["0xCE","0xFA","0xed","0xFE"]),ur("class",["0xCF","0xFA","0xed","0xFE"]),ur("class",["0xFF","0xFE"]),ur("class",["0xFF","0xFE"]),ur("class",["0xFF","0xFE","0x00","0x00"]),ur("ps",["0x25","0x21","0x50","0x53"]),ur("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),ur("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),ur("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),ur("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),ur("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),ur("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),ur("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),ur("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),ur("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),ur("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),ur("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),ur("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),ur("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),ur("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),ur("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),ur("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),ur("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),ur("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),ur("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),ur("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),ur("iso",["0x43","0x44","0x30","0x30","0x31"]),ur("flac",["0x66","0x4C","0x61","0x43"]),ur("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),ur("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),ur("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),ur("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),ur("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),ur("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),ur("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),ur("vmdk",["0x4B","0x44","0x4D"]),ur("crx",["0x43","0x72","0x32","0x34"]),ur("fh8",["0x41","0x47","0x44","0x33"]),ur("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),ur("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),ur("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),ur("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),ur("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),ur("xar",["0x78","0x61","0x72","0x21"]),ur("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),ur("nes",["0x4E","0x45","0x53","0x1A"]),ur("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),ur("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),ur("tox",["0x74","0x6F","0x78","0x33"]),ur("mlv",["0x4D","0x4C","0x56","0x49"]),ur("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),ur("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),ur("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),ur("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),ur("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),ur("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),ur("lz2",["0x04","0x22","0x4D","0x18"]),ur("cab",["0x4D","0x53","0x43","0x46"]),ur("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),ur("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),ur("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),ur("mk3d",["0x1A","0x45","0xDF","0xA3"]),ur("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),ur("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),ur("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),ur("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),ur("lep",["0xCF","0x84","0x01"]),ur("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),ur("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),ur("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),ur("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),ur("m2p",["0x00","0x00","0x01","0xBA"]),ur("vob",["0x00","0x00","0x01","0xBA"]),ur("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),ur("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),ur("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),ur("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),ur("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),ur("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),ur("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),ur("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),ur("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),ur("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),ur("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),ur("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),ur("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),ur("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),ur("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),ur("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),ur("Json",["0x7B"],{mime:"application/json",extension:".json"}),ur("Json",["0x5B"],{mime:"application/json",extension:".json"}),ur("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),ur("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),ur("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),ur("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),tr.default=()=>ar,function(e){var t=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(tr),r=nr,i=n.default();e.filetypeinfo=e=>{let t=i;for(const n of Object.keys(t.offset)){const t=r.fromHex(n);if(t>=e.length)continue;const o=i.offset[n],a=s(t,e,o);if(a.length>0)return a}return null===t.noOffset?[]:s(0,e,t.noOffset)};const s=(e,t,n)=>{let i=n,s=[];for(;;){const n=r.toHex(t[e]);if(i=i.bytes["?"]&&!i.bytes[n]?i.bytes["?"]:i.bytes[n],!i)return s;i&&i.matches&&(s=i.matches.slice(0)),e+=1}};e.default=e.filetypeinfo,e.filetypename=t=>e.filetypeinfo(t).map((e=>e.typename)),e.filetypemime=t=>e.filetypeinfo(t).map((e=>e.mime?e.mime:null)).filter((e=>null!==e)),e.filetypeextension=t=>e.filetypeinfo(t).map((e=>e.extension?e.extension:null)).filter((e=>null!==e))}(er);var cr=er.filetypemime;function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hr(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var pr,fr={exports:{}},dr="object"==typeof Reflect?Reflect:null,xr=dr&&"function"==typeof dr.apply?dr.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};pr=dr&&"function"==typeof dr.ownKeys?dr.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var mr=Number.isNaN||function(e){return e!=e};function br(){br.init.call(this)}fr.exports=br,fr.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}kr(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&kr(e,"error",t,n)}(e,i,{once:!0})}))},br.EventEmitter=br,br.prototype._events=void 0,br.prototype._eventsCount=0,br.prototype._maxListeners=void 0;var gr=10;function yr(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function vr(e){return void 0===e._maxListeners?br.defaultMaxListeners:e._maxListeners}function wr(e,t,n,r){var i,s,o,a;if(yr(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=vr(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return e}function _r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Sr(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=_r.bind(r);return i.listener=n,r.wrapFn=i,i}function Er(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Fr(i,i.length)}function Ar(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Fr(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function kr(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(br,"defaultMaxListeners",{enumerable:!0,get:function(){return gr},set:function(e){if("number"!=typeof e||e<0||mr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");gr=e}}),br.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},br.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||mr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},br.prototype.getMaxListeners=function(){return vr(this)},br.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)xr(a,this,t);else{var u=a.length,c=Fr(a,u);for(n=0;n<u;++n)xr(c[n],this,t)}return!0},br.prototype.addListener=function(e,t){return wr(this,e,t,!1)},br.prototype.on=br.prototype.addListener,br.prototype.prependListener=function(e,t){return wr(this,e,t,!0)},br.prototype.once=function(e,t){return yr(t),this.on(e,Sr(this,e,t)),this},br.prototype.prependOnceListener=function(e,t){return yr(t),this.prependListener(e,Sr(this,e,t)),this},br.prototype.removeListener=function(e,t){var n,r,i,s,o;if(yr(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},br.prototype.off=br.prototype.removeListener,br.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},br.prototype.listeners=function(e){return Er(this,e,!0)},br.prototype.rawListeners=function(e){return Er(this,e,!1)},br.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Ar.call(e,t)},br.prototype.listenerCount=Ar,br.prototype.eventNames=function(){return this._eventsCount>0?pr(this._events):[]};var Or=fr.exports,jr="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);const Lr=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};const{EventEmitter:Tr}=Or,Cr=new Error("Stream was destroyed"),Pr=new Error("Premature close"),Mr=jr,Ir=class{constructor(e){this.hwm=e||16,this.head=new Lr(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new Lr(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}},Nr=134217727,zr=1^Nr,Br=64,Dr=128,Wr=256,Rr=1024,$r=2048,Ur=4096,Vr=8192,qr=16384,Gr=32768,Hr=768^Nr,Jr=134184959,Yr=1<<17,Zr=2<<17,Kr=4<<17,Xr=8<<17,Qr=16<<17,ei=32<<17,ti=64<<17,ni=128<<17,ri=256<<17,ii=512<<17,si=100532223,oi=133693439,ai=117440511,ui=131088,ci=134086639,li=4210688,hi=14,pi=15,fi=4210702,di=16809984,xi=16809999,mi=1179648,bi=1179663,gi=Symbol.asyncIterator||Symbol("asyncIterator");class yi{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:s}={}){this.stream=e,this.queue=new Ir,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||$i,this.map=r||n,this.afterWrite=Fi.bind(this),this.afterUpdateNextTick=ji.bind(this)}get ended(){return 0!=(this.stream._duplexState&ei)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=Xr,!0):(this.stream._duplexState|=3145728,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=133169151),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|ii)&oi}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);(r._duplexState&bi)===mi;)n.push(r._writableState.shift());if(0!=(r._duplexState&pi))return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=Zr;do{for(;(e._duplexState&bi)===Xr;){const t=this.shift();e._duplexState|=33685504,e._write(t,this.afterWrite)}0==(655360&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=133955583}updateNonPrimary(){const e=this.stream;if((72482831&e._duplexState)===ii)return e._duplexState=67108863&(e._duplexState|Yr),void e._final(Ei.bind(this));4!=(e._duplexState&hi)?1==(e._duplexState&xi)&&(e._duplexState=(e._duplexState|ui)&zr,e._open(Li.bind(this))):0==(e._duplexState&di)&&(e._duplexState|=ui,e._destroy(Ai.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&ni)&&(this.stream._duplexState&=ai,!0)}updateCallback(){(17563663&this.stream._duplexState)===Kr?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&ni)&&(this.stream._duplexState|=ni,0==(this.stream._duplexState&Zr)&&Mr(this.afterUpdateNextTick))}}class vi{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:s}={}){this.stream=e,this.queue=new Ir,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||$i,this.map=r||n,this.pipeTo=null,this.afterRead=ki.bind(this),this.afterUpdateNextTick=Oi.bind(this)}get ended(){return 0!=(this.stream._duplexState&qr)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new _i(this.stream,e,t),t&&this.stream.on("error",Ui),Ri(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",Ui),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Si.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=134152127&(t._duplexState|Rr),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=134152191&(t._duplexState|Dr),this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=134209407),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if((16527&e._duplexState)===Dr){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=Hr),0!=(e._duplexState&$r)&&e.emit("data",t),t}return null}drain(){const e=this.stream;for(;(16527&e._duplexState)===Dr&&0!=(768&e._duplexState);){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=Hr),0!=(e._duplexState&$r)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&e._duplexState);)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=Vr,e.emit("readable")),0==(80&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=134217695}updateNonPrimary(){const e=this.stream;(1167&e._duplexState)===Rr&&(e._duplexState=134216703&(e._duplexState|qr),e.emit("end"),(e._duplexState&fi)===li&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(e._duplexState&hi)?1==(e._duplexState&xi)&&(e._duplexState=(e._duplexState|ui)&zr,e._open(Li.bind(this))):0==(e._duplexState&di)&&(e._duplexState|=ui,e._destroy(Ai.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&Gr)&&(this.stream._duplexState&=Jr,!0)}updateCallback(){(32879&this.stream._duplexState)===Br?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&Gr)&&(this.stream._duplexState|=Gr,0==(32&this.stream._duplexState)&&Mr(this.afterUpdateNextTick))}}class wi{constructor(e){this.data=null,this.afterTransform=Ti.bind(e),this.afterFinal=null}}class _i{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(e._duplexState&qr)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&qr)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function Si(){this.stream._duplexState|=512,this.updateCallback()}function Ei(e){const t=this.stream;e&&t.destroy(e),0==(t._duplexState&hi)&&(t._duplexState|=ei,t.emit("finish")),(t._duplexState&fi)===li&&(t._duplexState|=4),t._duplexState&=si,0==(t._duplexState&Zr)?this.update():this.updateNextTick()}function Ai(e){const t=this.stream;e||this.error===Cr||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function Fi(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=si,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),(3276815&t._duplexState)===Qr&&(t._duplexState&=132120575,(t._duplexState&ti)===ti&&t.emit("drain")),this.updateCallback()}function ki(e){e&&this.stream.destroy(e),this.stream._duplexState&=134217711,this.updateCallback()}function Oi(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=Jr,this.update())}function ji(){0==(this.stream._duplexState&Zr)&&(this.stream._duplexState&=ai,this.update())}function Li(e){const t=this.stream;e&&t.destroy(e),0==(4&t._duplexState)&&(0==(17423&t._duplexState)&&(t._duplexState|=Br),0==(71303183&t._duplexState)&&(t._duplexState|=Kr),t.emit("open")),t._duplexState&=ci,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function Ti(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function Ci(e){null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=Ur,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=ti,this._writableState.updateNextTick())}class Pi extends Tr{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Vi.bind(this))),this.on("newListener",Ci)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(this._duplexState&hi)}destroy(e){0==(this._duplexState&hi)&&(e||(e=Cr),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class Mi extends Pi{constructor(e){super(e),this._duplexState|=4194305,this._readableState=new vi(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=Wr,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(e,t){let n;const r=new Mi({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function i(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(Ri(n=e)&&n.readable)return e;var n;if(e[gi])return this._fromAsyncIterator(e[gi](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let r=0;return new Mi({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return 0!=(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(e._duplexState&Wr)}[gi](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&i(e.read())})),this.on("close",(function(){null!==n&&i(null)})),{[gi](){return this},next:()=>new Promise((function(t,s){n=t,r=s;const o=e.read();null!==o?i(o):0!=(8&e._duplexState)&&i(null)})),return:()=>s(null),throw:e=>s(e)};function i(i){null!==r&&(t?r(t):null===i&&0==(e._duplexState&qr)?r(Cr):n({value:i,done:null===i}),r=n=null)}function s(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?r(t):n({value:void 0,done:!0})}))}))}}}class Ii extends Pi{constructor(e){super(e),this._duplexState|=16385,this._writableState=new yi(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(73400334&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,n=function(e){return e._writev!==Ii.prototype._writev&&e._writev!==Ni.prototype._writev}(e)?Math.min(1,t.queue.length):t.queue.length,r=n+(e._duplexState&ri?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class Ni extends Mi{constructor(e){super(e),this._duplexState=1,this._writableState=new yi(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class zi extends Ni{constructor(e){super(e),this._transformState=new wi(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Bi.bind(this))}}function Bi(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function Di(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,o=null;for(let e=1;e<n.length;e++)s=n[e],Ri(i)?i.pipe(s,u):(a(i,!0,e>1,u),i.pipe(s)),i=s;if(r){let e=!1;const t=Ri(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(e=>{null===o&&(o=e)})),s.on("finish",(()=>{e=!0,t||r(o)})),t&&s.on("close",(()=>r(o||(e?null:Pr))))}return s;function a(e,t,n,r){e.on("error",r),e.on("close",(function(){if(t&&e._readableState&&!e._readableState.ended)return r(Pr);if(n&&e._writableState&&!e._writableState.ended)return r(Pr)}))}function u(e){if(e&&!o){o=e;for(const t of n)t.destroy(e)}}}function Wi(e){return!!e._readableState||!!e._writableState}function Ri(e){return"number"==typeof e._duplexState&&Wi(e)}function $i(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function Ui(){}function Vi(){this.destroy(new Error("Stream aborted."))}var qi={pipeline:Di,pipelinePromise:function(...e){return new Promise(((t,n)=>Di(...e,(e=>{if(e)return n(e);t()}))))},isStream:Wi,isStreamx:Ri,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===Cr?null:t},Stream:Pi,Writable:Ii,Readable:Mi,Duplex:Ni,Transform:zi,PassThrough:class extends zi{}},Gi={exports:{}};function Hi(e){return e.length}var Ji={byteLength:Hi,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},write:function(e,t,n=0,r=Hi(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++)e[n+r]=t.charCodeAt(r);return i}};const Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zi=new Uint8Array(256);for(let e=0;e<64;e++)Zi[Yi.charCodeAt(e)]=e;function Ki(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}Zi[45]=62,Zi[95]=63;var Xi={byteLength:Ki,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r+=3)n+=Yi[e[r]>>2]+Yi[(3&e[r])<<4|e[r+1]>>4]+Yi[(15&e[r+1])<<2|e[r+2]>>6]+Yi[63&e[r+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,n=0,r=Ki(t)){const i=Math.min(r,e.byteLength-n);for(let n=0,r=0;r<i;n+=4){const i=Zi[t.charCodeAt(n)],s=Zi[t.charCodeAt(n+1)],o=Zi[t.charCodeAt(n+2)],a=Zi[t.charCodeAt(n+3)];e[r++]=i<<2|s>>4,e[r++]=(15&s)<<4|o>>2,e[r++]=(3&o)<<6|63&a}return i}};function Qi(e){return e.length>>>1}var es={byteLength:Qi,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let n="",r=0;for(let i=t-t%4;r<i;r+=4)n+=e.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)n+=e.getUint8(r).toString(16).padStart(2,"0");return n},write:function(e,t,n=0,r=Qi(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++){const i=ts(t.charCodeAt(2*r)),s=ts(t.charCodeAt(2*r+1));if(void 0===i||void 0===s)return e.subarray(0,r);e[n+r]=i<<4|s}return i}};function ts(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}function ns(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){t+=4,n++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let rs,is;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;rs=function(t){return e.decode(t)}}else rs=function(e){const t=e.byteLength;let n="",r=0;for(;r<t;){let i=e[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let s=0,o=0;if(i<=223?(s=1,o=31&i):i<=239?(s=2,o=15&i):i<=244&&(s=3,o=7&i),t-r-s>0){let t=0;for(;t<s;)i=e[r+t+1],o=o<<6|63&i,t+=1}else o=65533,s=t-r;n+=String.fromCodePoint(o),r+=s+1}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;is=function(t,n,r=0,i=ns(n)){const s=Math.min(i,t.byteLength-r);return e.encodeInto(n,t.subarray(r,r+s)),s}}else is=function(e,t,n=0,r=ns(t)){const i=Math.min(r,e.byteLength-n);e=e.subarray(n,n+i);let s=0,o=0;for(;s<t.length;){const n=t.codePointAt(s);if(n<=127){e[o++]=n,s++;continue}let r=0,i=0;for(n<=2047?(r=6,i=192):n<=65535?(r=12,i=224):n<=2097151&&(r=18,i=240),e[o++]=i|n>>r,r-=6;r>=0;)e[o++]=128|n>>r&63,r-=6;s+=n>=65536?2:1}return i};var ss={byteLength:ns,toString:rs,write:is};function os(e){return 2*e.length}var as={byteLength:os,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t-1;r+=2)n+=String.fromCharCode(e[r]+256*e[r+1]);return n},write:function(e,t,n=0,r=os(t)){const i=Math.min(r,e.byteLength-n);let s=i;for(let r=0;r<t.length&&!((s-=2)<0);++r){const i=t.charCodeAt(r),s=i>>8,o=i%256;e[n+2*r]=o,e[n+2*r+1]=s}return i}};!function(e,t){const n=Ji,r=Xi,i=es,s=ss,o=as,a=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(e){switch(e){case"ascii":return n;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o;default:throw new Error(`Unknown encoding: ${e}`)}}function c(e){return e instanceof Uint8Array}function l(e,t,n){return"string"==typeof e?function(e,t){const n=u(t),r=new Uint8Array(n.byteLength(e));return n.write(r,e,0,r.byteLength),r}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function h(e,t,n,r,i){if(0===e.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(i)return-1;n=e.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t)t=l(t,r);else if("number"==typeof t)return t&=255,i?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(i){let r=-1;for(let i=n;i<e.byteLength;i++)if(e[i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<t.byteLength;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}}return-1}function p(e,t,n,r){return h(e,t,n,r,!0)}function f(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}e.exports=t={isBuffer:c,isEncoding:function(e){try{return u(e),!0}catch{return!1}},alloc:function(e,n,r){const i=new Uint8Array(e);return void 0!==n&&t.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return u(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4){if(e.getUint32(r,a)!==t.getUint32(r,a))break}for(;r<n;r++){const n=e.getUint8(r),i=t.getUint8(r);if(n<i)return-1;if(n>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const n=new Uint8Array(t);let r=0;for(const t of e){if(r+t.byteLength>n.byteLength){const e=t.subarray(0,n.byteLength-r);return n.set(e,r),n}n.set(t,r),r+=t.byteLength}return n},copy:function(e,t,n=0,r=0,i=e.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-n<i-r&&(i=t.length-n+r);const s=i-r;return e===t?t.copyWithin(n,r,i):t.set(e.subarray(r,i),n),s},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(e.getUint32(r,a)!==t.getUint32(r,a))return!1;for(;r<n;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0},fill:function(e,t,n,r,i){if("string"==typeof t?"string"==typeof n?(i=n,n=0,r=e.byteLength):"string"==typeof r&&(i=r,r=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=e.byteLength),r<=n)return e;if(t||(t=0),"number"==typeof t)for(let i=n;i<r;++i)e[i]=t;else{const s=(t=c(t)?t:l(t,i)).byteLength;for(let i=0;i<r-n;++i)e[i+n]=t[i%s]}return e},from:l,includes:function(e,t,n,r){return-1!==p(e,t,n,r)},indexOf:p,lastIndexOf:function(e,t,n,r){return h(e,t,n,r,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)f(e,n,n+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)f(e,n,n+3),f(e,n+1,n+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)f(e,n,n+7),f(e,n+1,n+6),f(e,n+2,n+5),f(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t,n=0,r=e.byteLength){const i=e.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(e=e.subarray(n,r)),u(t).toString(e))},write:function(e,t,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),u(i).write(e,t,n,r)},writeDoubleLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}}(Gi,Gi.exports);var us=Gi.exports,cs=lr(us);function ls(e,t,n={}){return Ct((()=>hs(e,t,n)))}function hs(e,t,n={}){const{map:r,highWaterMark:i,size:s,offset:o,...a}=n;s&&(a.size=s,a.length=s),o&&(a.offset=o,a.start=o);let u=[];if(e.createReadStream)u.push(e.createReadStream(t,a));else if(e.get){const n=new qi.Readable;u.push(n),Promise.resolve(e.get(t,a)).then((e=>{if(N(e)&&(e=cs.from(e)),e&&cs.isBuffer(e)){const t=e.length;a.start??=0,a.length&&!a.end?a.end=a.length+(a.start??0):a.end?a.end+=1:a.end=t,e=e.slice(a.start,a.end),n.push(cs.from(e))}n.push(null)})).catch((e=>n.destroy(e)))}if(i&&u.push(function(e){let t=cs.alloc(0);const n=function(n,r){const i=cs.concat([t,n]),s=i.length%e;let o,a=0;for(;(o=a+e)<=i.length;){const t=i.subarray(a,o);this.push(t),a+=e}t=s>0?i.subarray(i.length-s,i.length):null,r()};return new qi.Transform({transform:n,flush(e){t&&t.length&&this.push(t),e()}})}(i)),r&&u.push(new qi.Transform({async transform(e,t){const n=this;await Promise.resolve(r(e)).then((e=>{n.push(e),t(null)})).catch((e=>{t(e)}))}})),0===u.length)throw new Error("createReadStream failed to infer from source.");return 1===u.length?u[0]:qi.pipeline(...u)}const ps="\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n".split("\n").map((e=>e.split(","))).filter((([e])=>""!==e)).map((([e,t,n,r])=>({name:e,mimeType:t,extension:n,description:r})));var fs=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};fs.now||fs.mozNow||fs.msNow||fs.oNow||fs.webkitNow;const ds=bs(!1),xs=bs(!0);ds.win32=xs,xs.posix=ds;var ms=ds;function bs(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}ms.posix=ms;const{concatIfEmpty:gs}=Xn,ys={defer:Ct,firstValueFrom:At,of:vt,concatIfEmpty:gs,catchError:$t,filter:Bt,map:Ft};function vs(e,t,n={}){return ls(e,t,{wait:!1,...n,start:0,end:99}).pipe(ys.map((e=>e.length>30?cr(e):[ws(t)??null])),ys.filter((e=>e.length)),ys.map((([e])=>e)),ys.concatIfEmpty(ys.defer((()=>ys.of(ws(t))))),ys.catchError((e=>ys.of(null))))}function ws(e){const t=ms.extname(e)?.toLowerCase();return ps.find((({extension:e})=>e===t))?.mimeType}const _s={map:Ft,firstValueFrom:At};function Ss(e,t,n){return vs(e,t,n).pipe(_s.map(Es))}function Es(e){return e?ps.find((({mimeType:t})=>t===e))?.name:null}function As(e,t){for(var n=0,r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var Fs=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,ks=function(e){return Fs.exec(e).slice(1)};function Os(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){const r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=As(zs(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function js(e){const t=Ls(e),n="/"===Bs(e,-1);return(e=As(zs(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Ls(e){return"/"===e.charAt(0)}function Ts(){return js(zs(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function Cs(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Os(e).substr(1),t=Os(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}let u=[];for(a=o;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}function Ps(e){const t=ks(e),n=t[0];let r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function Ms(e,t){let n=ks(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function Is(e){return ks(e)[3]}const Ns={extname:Is,basename:Ms,dirname:Ps,sep:"/",delimiter:":",relative:Cs,join:Ts,isAbsolute:Ls,normalize:js,resolve:Os};function zs(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var Bs="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};!function(e){e&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(Object.freeze({__proto__:null,resolve:Os,normalize:js,isAbsolute:Ls,join:Ts,relative:Cs,sep:"/",delimiter:":",dirname:Ps,basename:Ms,extname:Is,default:Ns}));var Ds=Ws;function Ws(e,t,n){e instanceof RegExp&&(e=Rs(e,n)),t instanceof RegExp&&(t=Rs(t,n));var r=$s(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Rs(e,t){var n=t.match(e);return n?n[0]:null}function $s(e,t,n){var r,i,s,o,a,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],s=n.length;l>=0&&!a;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<s&&(s=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(a=[s,o])}return a}Ws.range=$s;var Us=Ds,Vs=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return ro(function(e){return e.split("\\\\").join(qs).split("\\{").join(Gs).split("\\}").join(Hs).split("\\,").join(Js).split("\\.").join(Ys)}(e),!0).map(Ks)},qs="\0SLASH"+Math.random()+"\0",Gs="\0OPEN"+Math.random()+"\0",Hs="\0CLOSE"+Math.random()+"\0",Js="\0COMMA"+Math.random()+"\0",Ys="\0PERIOD"+Math.random()+"\0";function Zs(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Ks(e){return e.split(qs).join("\\").split(Gs).join("{").split(Hs).join("}").split(Js).join(",").split(Ys).join(".")}function Xs(e){if(!e)return[""];var t=[],n=Us("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=Xs(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function Qs(e){return"{"+e+"}"}function eo(e){return/^-?0\d/.test(e)}function to(e,t){return e<=t}function no(e,t){return e>=t}function ro(e,t){var n=[],r=Us("{","}",e);if(!r)return[e];var i=r.pre,s=r.post.length?ro(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var u,c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),p=l||h,f=r.body.indexOf(",")>=0;if(!p&&!f)return r.post.match(/,.*\}/)?ro(e=r.pre+"{"+r.body+Hs+r.post):[e];if(p)u=r.body.split(/\.\./);else if(1===(u=Xs(r.body)).length&&1===(u=ro(u[0],!1).map(Qs)).length)return s.map((function(e){return r.pre+u[0]+e}));if(p){var d=Zs(u[0]),x=Zs(u[1]),m=Math.max(u[0].length,u[1].length),b=3==u.length?Math.abs(Zs(u[2])):1,g=to;x<d&&(b*=-1,g=no);var y=u.some(eo);c=[];for(var v=d;g(v,x);v+=b){var w;if(h)"\\"===(w=String.fromCharCode(v))&&(w="");else if(w=String(v),y){var _=m-w.length;if(_>0){var S=new Array(_+1).join("0");w=v<0?"-"+S+w.slice(1):S+w}}c.push(w)}}else{c=[];for(var E=0;E<u.length;E++)c.push.apply(c,ro(u[E],!1))}for(E=0;E<c.length;E++)for(o=0;o<s.length;o++){a=i+c[E]+s[o];(!t||p||a)&&n.push(a)}}return n}var io=lr(Vs);const so=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},oo={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},ao=e=>e.replace(/[[\]\\-]/g,"\\$&"),uo=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),co=e=>e.join(""),lo=(e,t)=>{const n=t;if("["!==e.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,o=!1,a=!1,u=!1,c=!1,l=n,h="";e:for(;s<e.length;){const t=e.charAt(s);if("!"!==t&&"^"!==t||s!==n+1){if("]"===t&&o&&!u){l=s+1;break}if(o=!0,"\\"!==t||u){if("["===t&&!u)for(const[t,[o,u,c]]of Object.entries(oo))if(e.startsWith(t,s)){if(h)return["$.",!1,e.length-n,!0];s+=t.length,c?i.push(o):r.push(o),a=a||u;continue e}u=!1,h?(t>h?r.push(ao(h)+"-"+ao(t)):t===h&&r.push(ao(t)),h="",s++):e.startsWith("-]",s+1)?(r.push(ao(t+"-")),s+=2):e.startsWith("-",s+1)?(h=t,s+=2):(r.push(ao(t)),s++)}else u=!0,s++}else c=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!c){const e=2===r[0].length?r[0].slice(-1):r[0];return[uo(e),!1,l-n,!1]}const p="["+(c?"^":"")+co(r)+"]",f="["+(c?"":"^")+co(i)+"]";return[r.length&&i.length?"("+p+"|"+f+")":r.length?p:f,a,l-n,!0]},ho=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),po=new Set(["!","?","+","*","@"]),fo=e=>po.has(e),xo="(?!\\.)",mo=new Set(["[","."]),bo=new Set(["..","."]),go=new Set("().*{}+?[]^$\\!"),yo=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),vo="[^/]",wo=vo+"*?",_o=vo+"+?";class So{type;#e;#t;#n=!1;#r=[];#i;#s;#o;#a=!1;#u;#c;#l=!1;constructor(e,t,n={}){this.type=e,e&&(this.#t=!0),this.#i=t,this.#e=this.#i?this.#i.#e:this,this.#u=this.#e===this?n:this.#e.#u,this.#o=this.#e===this?[]:this.#e.#o,"!"!==e||this.#e.#a||this.#o.push(this),this.#s=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#t)return this.#t;for(const e of this.#r)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return void 0!==this.#c?this.#c:this.type?this.#c=this.type+"("+this.#r.map((e=>String(e))).join("|")+")":this.#c=this.#r.map((e=>String(e))).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;let e;for(this.toString(),this.#a=!0;e=this.#o.pop();){if("!"!==e.type)continue;let t=e,n=t.#i;for(;n;){for(let r=t.#s+1;!n.type&&r<n.#r.length;r++)for(const t of e.#r){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#r[r])}t=n,n=t.#i}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof So&&t.#i===this))throw new Error("invalid part: "+t);this.#r.push(t)}}toJSON(){const e=null===this.type?this.#r.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#r.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&"!"===this.#i?.type)&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#s)return!0;const e=this.#i;for(let t=0;t<this.#s;t++){const n=e.#r[t];if(!(n instanceof So&&"!"===n.type))return!1}return!0}isEnd(){if(this.#e===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const e=this.#i?this.#i.#r.length:0;return this.#s===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new So(this.type,e);for(const e of this.#r)t.copyIn(e);return t}static#p(e,t,n,r){let i=!1,s=!1,o=-1,a=!1;if(null===t.type){let u=n,c="";for(;u<e.length;){const n=e.charAt(u++);if(i||"\\"===n)i=!i,c+=n;else if(s)u===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||u===o+2&&a||(s=!1),c+=n;else if("["!==n)if(r.noext||!fo(n)||"("!==e.charAt(u))c+=n;else{t.push(c),c="";const i=new So(n,t);u=So.#p(e,i,u,r),t.push(i)}else s=!0,o=u,a=!1,c+=n}return t.push(c),u}let u=n+1,c=new So(null,t);const l=[];let h="";for(;u<e.length;){const n=e.charAt(u++);if(i||"\\"===n)i=!i,h+=n;else if(s)u===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||u===o+2&&a||(s=!1),h+=n;else if("["!==n)if(fo(n)&&"("===e.charAt(u)){c.push(h),h="";const t=new So(n,c);c.push(t),u=So.#p(e,t,u,r)}else if("|"!==n){if(")"===n)return""===h&&0===t.#r.length&&(t.#l=!0),c.push(h),h="",t.push(...l,c),u;h+=n}else c.push(h),h="",l.push(c),c=new So(null,t);else s=!0,o=u,a=!1,h+=n}return t.type=null,t.#t=void 0,t.#r=[e.substring(n-1)],u}static fromGlob(e,t={}){const n=new So(null,void 0,t);return So.#p(e,n,0,t),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const e=this.toString(),[t,n,r,i]=this.toRegExpSource();if(!(r||this.#t||this.#u.nocase&&!this.#u.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const s=(this.#u.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#u.dot;if(this.#e===this&&this.#h(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#r.map((t=>{const[r,i,s,o]="string"==typeof t?So.#f(t,this.#t,n):t.toRegExpSource(e);return this.#t=this.#t||s,this.#n=this.#n||o,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#r[0]){if(!(1===this.#r.length&&bo.has(this.#r[0]))){const n=mo,s=t&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),o=!t&&!e&&n.has(r.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?xo:""}}let s="";this.isEnd()&&this.#e.#a&&"!"===this.#i?.type&&(s="(?:$|\\/)");return[i+r+s,ho(r),this.#t=!!this.#t,this.#n]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#d(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#r=[e],this.type=null,this.#t=void 0,[e,ho(this.toString()),!1,!1]}let s=!n||e||t?"":this.#d(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";if("!"===this.type&&this.#l)o=(this.isStart()&&!t?xo:"")+_o;else{o=r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":xo)+wo+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,ho(i),this.#t=!!this.#t,this.#n]}#d(e){return this.#r.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,r,i,s]=t.toRegExpSource(e);return this.#n=this.#n||s,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#f(e,t,n=!1){let r=!1,i="",s=!1;for(let o=0;o<e.length;o++){const a=e.charAt(o);if(r)r=!1,i+=(go.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,r,a,u]=lo(e,o);if(a){i+=n,s=s||r,o+=a-1,t=t||u;continue}}"*"!==a?"?"!==a?i+=yo(a):(i+=vo,t=!0):(i+=n&&"*"===e?_o:wo,t=!0)}else o===e.length-1?i+="\\\\":r=!0}return[i,ho(e),!!t,s]}}const Eo=(e,t,n={})=>(so(t),!(!n.nocomment&&"#"===t.charAt(0))&&new Ko(t,n).match(e)),Ao=/^\*+([^+@!?\*\[\(]*)$/,Fo=e=>t=>!t.startsWith(".")&&t.endsWith(e),ko=e=>t=>t.endsWith(e),Oo=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),jo=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Lo=/^\*+\.\*+$/,To=e=>!e.startsWith(".")&&e.includes("."),Co=e=>"."!==e&&".."!==e&&e.includes("."),Po=/^\.\*+$/,Mo=e=>"."!==e&&".."!==e&&e.startsWith("."),Io=/^\*+$/,No=e=>0!==e.length&&!e.startsWith("."),zo=e=>0!==e.length&&"."!==e&&".."!==e,Bo=/^\?+([^+@!?\*\[\(]*)?$/,Do=([e,t=""])=>{const n=Uo([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},Wo=([e,t=""])=>{const n=Vo([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},Ro=([e,t=""])=>{const n=Vo([e]);return t?e=>n(e)&&e.endsWith(t):n},$o=([e,t=""])=>{const n=Uo([e]);return t?e=>n(e)&&e.endsWith(t):n},Uo=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},Vo=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},qo="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Go="win32"===qo?{sep:"\\"}.sep:{sep:"/"}.sep;Eo.sep=Go;const Ho=Symbol("globstar **");Eo.GLOBSTAR=Ho;Eo.filter=(e,t={})=>n=>Eo(n,e,t);const Jo=(e,t={})=>Object.assign({},e,t);Eo.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return Eo;const t=Eo;return Object.assign(((n,r,i={})=>t(n,r,Jo(e,i))),{Minimatch:class extends t.Minimatch{constructor(t,n={}){super(t,Jo(e,n))}static defaults(n){return t.defaults(Jo(e,n)).Minimatch}},AST:class extends t.AST{constructor(t,n,r={}){super(t,n,Jo(e,r))}static fromGlob(n,r={}){return t.AST.fromGlob(n,Jo(e,r))}},unescape:(n,r={})=>t.unescape(n,Jo(e,r)),escape:(n,r={})=>t.escape(n,Jo(e,r)),filter:(n,r={})=>t.filter(n,Jo(e,r)),defaults:n=>t.defaults(Jo(e,n)),makeRe:(n,r={})=>t.makeRe(n,Jo(e,r)),braceExpand:(n,r={})=>t.braceExpand(n,Jo(e,r)),match:(n,r,i={})=>t.match(n,r,Jo(e,i)),sep:t.sep,GLOBSTAR:Ho})};const Yo=(e,t={})=>(so(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:io(e));Eo.braceExpand=Yo;Eo.makeRe=(e,t={})=>new Ko(e,t).makeRe();Eo.match=(e,t,n={})=>{const r=new Ko(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};const Zo=/[?*]|[+@!]\(.*?\)|\[|\]/;class Ko{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){so(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||qo,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&Zo.test(e[2])||Zo.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const r=e[n];1===n&&""===r&&""===e[0]||("."!==r&&""!==r||(t=!0,e.splice(n,1),n--))}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let s=n[r+1];const o=n[r+2],a=n[r+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,n.splice(r,1);const u=n.slice(0);u[r]="**",e.push(u),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const r=n[e];1===e&&""===r&&""===n[0]||("."!==r&&""!==r||(t=!0,n.splice(e,1),e--))}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const e=n[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...e),0===n.length&&n.push(""),i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);r&&(e[t]=r,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let r=0,i=0,s=[],o="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])s.push("b"===o?t[i]:e[r]),r++,i++;else if(n&&"**"===e[r]&&t[i]===e[r+1])s.push(e[r]),r++;else if(n&&"**"===t[i]&&e[r]===t[i+1])s.push(t[i]),i++;else if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i]){if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===o)return!1;o="b",s.push(t[i]),r++,i++}else{if("b"===o)return!1;o="a",s.push(e[r]),r++,i++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){const r=this.options;if(this.isWindows){const n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=r?3:n?0:void 0,o=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[n,r]=[e[s],t[o]];n.toLowerCase()===r.toLowerCase()&&(t[o]=n,o>s?t=t.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,u=t.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=t[o],l=e[s];if(this.debug(t,c,l),!1===c)return!1;if(c===Ho){this.debug("GLOBSTAR",[t,c,l]);var h=s,p=o+1;if(p===u){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}let i;if("string"==typeof c?(i=l===c,this.debug("string match",c,l,i)):(i=c.test(l),this.debug("pattern match",c,l,i)),!i)return!1}if(s===a&&o===u)return!0;if(s===a)return n;if(o===u)return s===a-1&&""===e[s];throw new Error("wtf?")}braceExpand(){return Yo(this.pattern,this.options)}parse(e){so(e);const t=this.options;if("**"===e)return Ho;if(""===e)return"";let n,r=null;(n=e.match(Io))?r=t.dot?zo:No:(n=e.match(Ao))?r=(t.nocase?t.dot?jo:Oo:t.dot?ko:Fo)(n[1]):(n=e.match(Bo))?r=(t.nocase?t.dot?Wo:Do:t.dot?Ro:$o)(n):(n=e.match(Lo))?r=t.dot?Co:To:(n=e.match(Po))&&(r=Mo);const i=So.fromGlob(e,this.options).toMMPattern();return r?Object.assign(i,{test:r}):i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(t.nocase?["i"]:[]);let i=e.map((e=>{const t=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))r.add(t);return"string"==typeof e?(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(e):e===Ho?Ho:e._src}));return t.forEach(((e,r)=>{const i=t[r+1],s=t[r-1];e===Ho&&s!==Ho&&(void 0===s?void 0!==i&&i!==Ho?t[r+1]="(?:\\/|"+n+"\\/)?"+i:t[r]=n:void 0===i?t[r-1]=s+"(?:\\/|"+n+")?":i!==Ho&&(t[r-1]=s+"(?:\\/|\\/"+n+"\\/)"+i,t[r+1]=Ho))})),t.filter((e=>e!==Ho)).join("/")})).join("|");const[s,o]=e.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let s=r[r.length-1];if(!s)for(let e=r.length-2;!s&&e>=0;e--)s=r[e];for(let e=0;e<i.length;e++){const o=i[e];let a=r;n.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return Eo.defaults(e).Minimatch}}Eo.AST=So,Eo.Minimatch=Ko,Eo.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),Eo.unescape=ho;var Xo=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};Xo.now||Xo.mozNow||Xo.msNow||Xo.oNow||Xo.webkitNow;const Qo=na(!1),ea=na(!0);Qo.win32=ea,ea.posix=Qo;var ta=Qo;function na(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}ta.posix=ta;const{dirname:ra,isAbsolute:ia,root:sa,basename:oa,extname:aa,resolve:ua,join:ca,normalize:la}=ta;var ha=hr(Object.freeze({__proto__:null,basename:oa,default:ta,dirname:ra,extname:aa,isAbsolute:ia,join:ca,normalize:la,posix:ta,resolve:ua,root:sa,win32:ta}));var pa=hr(Object.freeze({__proto__:null,platform:function(){return"browser"}}));ha.posix.dirname,pa.platform();var fa=Object.freeze({__proto__:null,default:function(e,t){for(var n=[],r=0;r<Math.min(e.length,t.length)&&e[r]===t[r];r++)n.push(e[r]);return n}}),da=hr(fa),xa=function(e){const t=da,n=ha;return e.map(n.dirname).map((e=>e.split(n.sep))).reduce(t).concat([""]).join(n.sep)};var ma=lr(xa);const ba={map:z,isString:N,isEmpty:function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length}},ga={from:yt,map:Ft,startWith:gn,toArray:Gt,traverse:function({concurrency:e=1,factory:t,operator:n=xe,notifier:r}){return new me((i=>{let s,o;if(r)s=new An(r),o=xe;else{const e=new Ae;s=new An(e),o=t=>(e.next(),t)}const a=new Ae;a.subscribe(i),i.add(s.connect()),vt(void 0).pipe(function(e,t=1/0,n){return t=(t||0)<1?1/0:t,ye(((r,i)=>kt(r,i,e,t,void 0,!0,n)))}((e=>s.pipe(Ot((r=>t(e,r).pipe(Ot((({markers:e,values:t})=>Tt(yt(t).pipe(n,wn((e=>a.next(e))),Xt()),yt(e))))))),o)),e)).subscribe(new jn(i,{complete:()=>a.complete(),error:e=>a.error(e),next:ne}))}))}};const ya={firstValueFrom:At,identity:xe,concatMap:Ht,defaultIfEmpty:Zt,filter:Bt,map:Ft,reduce:Vt,take:Kt,toArray:Gt};function va(e,t,n,r={}){!n||N(n)||arguments[3]||(r=n,n=null),t=I(t);const{cwd:i=n||ma(t),maxLevel:s=Number.POSITIVE_INFINITY,minLevel:o=0,count:a=Number.POSITIVE_INFINITY,filter:u}=r;return r.cwd=i,function(e,t="/",n={}){!ba.isString(t)&&ba.isEmpty(n)&&(n=t,t="/");const{cwd:r}=n;let i=!0;return ga.traverse({factory:(n=t||r)=>Sa(e,{cwd:n,recursive:!1}).pipe(ga.toArray(),ga.map((e=>{const t=ms.dirname(n)||"/";try{return{markers:t&&"."!==n&&i?[t]:[],values:ba.map(e,(e=>ms.resolve(n,e)))}}finally{i=!("/"===t)}})))}).pipe(ga.startWith("/"))}(e,i,r).pipe(ya.filter((e=>{return n=t=>Eo(e,U(t)||$(t)?ms.resolve(i,t):"/**/"+t,{matchBase:!0}),!!t.find(n);var n})),u?ya.filter(u):ya.identity,ya.take(a),ya.map((e=>[e,ms.dirname(e).split("/").length-1])),ya.reduce(((e,[t,n])=>{if(n>=o&&n<s){for(let t=0;t<=n;t++)e[t]||=[];e[n].push(t)}return e}),[]))}function wa(e,t={}){return function(e,t,n,r={}){return va(e,t,n,r).pipe(ya.concatMap((e=>e.flat())),ya.toArray(),ya.defaultIfEmpty(null))}(e,"node_modules",void 0,t)}const _a={defer:Ct,firstValueFrom:At,from:yt,filter:Bt,map:Ft,mergeMap:Ot,toArray:Gt,of:vt,concatMap:Ht};function Sa(e,t={}){N(t)&&(t={cwd:t});let n,{cwd:r="/",list:i=!1,recursive:s=i,trimPath:o=!0}=t;if(e.list||e.readdir){const s=(i?e.list:e.readdir)?.bind(e);i&&!e.list&&e.readdir?(t.recursive=!0,n=_a.from(e.readdir(r,t)).pipe(_a.mergeMap((n=>function(e,t,n={}){const{cwd:r="/",entrySelector:i=Ra}=n;$(t)||U(t)?U(t)||(t=ms.resolve(t,r)):t=function(e,t="/"){return(t||"")+D(e,t)}(t);return Wa.from(i(e,t,n)).pipe(Wa.filter((e=>!!e)),Wa.mergeMap((n=>{return(r=e,i=t,Ln({isFolder:En(r,i),isFile:_n(r,i),type:vs(r,i),typeName:Ss(r,i),fullPath:vt(i)})).pipe(Wa.map((e=>({key:t,...n,...e}))));var r,i})))}(e,n,t))))):n=_a.defer((()=>s(r,t))).pipe(_a.concatMap((e=>Array.isArray(e)?e:_a.of(e))))}else if(function(e){return e.sub&&e.batch&&e.createHistoryStream}(e)){const{range:a,limit:u,reverse:c}=t,l=e.snapshot();n=_a.from(l.createReadStream(a,{limit:u,reverse:c})).pipe(_a.map((e=>i?e:e.key)),_a.filter((e=>{let t=i?e.key:e;if(t=o?R(t,"./"):t,B(t,r?r+"/":"")){const e=r?.length||0;return!!s||t.slice(e>0?e+1:0).split("/").length<=1}return!1})))}return n}const Ea=()=>Bt((e=>null!=e));function Aa(e,t,n={}){return wa(e,n).pipe(Ht((e=>yt(z(I(t),(t=>{if(t.indexOf("/")>-1){const[e,n]=t.split("/");(t=e).startsWith("@")&&(t+="/"+n)}return z(e.flat(),(e=>ms.join(e,t)))}))))),Bt((e=>!!e&&!!e.length)),Lt(),Ht((t=>Sa(e,{cwd:t}).pipe(cn((e=>"package.json"===e)),Ft((e=>e&&t||null)),Ea()))))}function Fa(e,t={}){let{host:n,version:r="",path:i="",type:s="",mapPath:o}=t;if(B(R(e,"/."),"node_modules")){const t=R(e,"/.").split("/");t.shift(),e=t.join("/")}null===r&&(r="");const a=r;let u="",c="";var l,h,p;let f,d;if(s&&(B(e,`/${s}/`)&&(e=e.slice(`/${s}/`.length)),B(e,`${s}/`)&&(e=e.slice(`${s}/`.length)),h="/+esm",(l=e)&&l.endsWith(h,p)&&(e=e.slice(0,-5))),B(e,"@")?([,e,r=r]=e.split("@",3),[r=r,...f]=r.split("/"),[c,e,...d]=e.split("/")):([e,r=r]=e.split("@",2),[r=r,...f]=r.split("/"),[e,...d]=e.split("/")),!R(e,"./"))return null;f.length>0&&d.length,i?u=i:f.length>0?u=f.join("/"):d.length>0&&(u=d.join("/")),r=a||r;const x=`${c?"@"+c+"/":""}${e}${r?"@"+r:""}`,m=""+(u?"/"+D(u,"/"):"");let b=[`${x}${m}`];if(m){ms.extname(m)||function(e,t){if(!Array.isArray(e))throw new Error("Native each supports only array.");e.forEach(t)}([".js",".cjs",".mjs",".json","/"],(e=>{let t=`${x}${m}${e}`;b.push(t)}))}return n&&(b=z(b,(e=>`${n}${s?"/"+s:""}/${e}`))),o&&(b=b.map(o)),{nodeModulesPath:`node_modules/${x}`,type:s,path:`/${x}${m}`,pathName:m,namespace:c,scope:c,version:r,module:`${x}`,name:e,paths:b}}const ka=e=>null!==e&&"object"==typeof e,Oa=(e,t)=>Object.assign(new Error(`[${e}]: ${t}`),{code:e}),ja="ERR_INVALID_PACKAGE_CONFIG",La="ERR_INVALID_PACKAGE_TARGET",Ta=/^\d+$/,Ca=/^(\.{1,2}|node_modules)$/i,Pa=/\/|\\/;var Ma=(e=>(e.Export="exports",e.Import="imports",e))(Ma||{});const Ia=(e,t,n,r,i)=>{if(null==t)return[];if("string"==typeof t){const[n,...r]=t.split(Pa);if(".."===n||r.some((e=>Ca.test(e))))throw Oa(La,`Invalid "${e}" target "${t}" defined in the package config`);return[i?t.replace(/\*/g,i):t]}if(Array.isArray(t))return t.flatMap((t=>Ia(e,t,n,r,i)));if(ka(t)){for(const s of Object.keys(t)){if(Ta.test(s))throw Oa(ja,"Cannot contain numeric property keys");if("default"===s||r.includes(s))return Ia(e,t[s],n,r,i)}return[]}throw Oa(La,`Invalid "${e}" target "${t}"`)},Na="*",za=(e,t)=>{const n=e.indexOf(Na),r=t.indexOf(Na);return n===r?t.length>e.length:r>n};const Ba=/^\w+:/,Da=(e,t,n)=>{if(!e)throw new Error('"exports" is required');t=""===t?".":`./${t}`,("string"==typeof e||Array.isArray(e)||ka(e)&&(e=>Object.keys(e).reduce(((e,t)=>{const n=""===t||"."!==t[0];if(void 0===e||e===n)return n;throw Oa(ja,'"exports" cannot contain some keys starting with "." and some not')}),void 0))(e))&&(e={".":e});const[r,i]=function(e,t){if(!t.includes(Na)&&e.hasOwnProperty(t))return[t];let n,r;for(const i of Object.keys(e))if(i.includes(Na)){const[e,s,o]=i.split(Na);if(void 0===o&&t.startsWith(e)&&t.endsWith(s)){const o=t.slice(e.length,-s.length||void 0);o&&(!n||za(n,i))&&(n=i,r=o)}}return[n,r]}(e,t),s=Ia(Ma.Export,e[r],t,n,i);if(0===s.length)throw Oa("ERR_PACKAGE_PATH_NOT_EXPORTED","."===t?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(const e of s)if(!e.startsWith("./")&&!Ba.test(e))throw Oa(La,`Invalid "exports" target "${e}" defined in the package config`);return s},Wa={firstValueFrom:At,from:yt,defaultIfEmpty:Zt,filter:Bt,map:Ft,mergeMap:Ot,take:Kt};async function Ra(e,t,n){const r=e.get?.bind(e),i=e.entry?.bind(e);let s={};if(r||i){const e=await(i||r)(t,n);return e?(i?(s=e,s.size=e?.value?.blob?.byteLength||0):(s.value={},s.value.blob={},s.value.blob.byteLength=cs.from(e)?.byteLength||0,s.value.blob.byteOffset=0,s.value.executable=!1,s.value.metadata=null,s.size=s.value.blob.byteLength||0),s):{}}return s}function $a(e,t={}){return N(t)&&(t={cwd:t}),Sa(e,{...t,list:!0})}async function Ua(e,t){return At($a(e,t).pipe(Ht((e=>Array.isArray(e)?e:vt(e))),Gt()))}const Va=us;var qa=Ga;function Ga(e,t){if("object"==typeof e&&e)return function(e){return!!(e.encode&&e.decode&&e.preencode)}(e)?function(e){return{name:"compact-encoding",encode:function(t){const n={start:0,end:0,buffer:null,cache:null};return e.preencode(n,t),n.buffer=Va.allocUnsafe(n.end),e.encode(n,t),n.buffer},decode:function(t){return e.decode({start:0,end:t.byteLength,buffer:t,cache:null})}}}(e):e;switch(e){case"ndjson":return Ga.ndjson;case"json":return Ga.json;case"ascii":return Ga.ascii;case"utf-8":case"utf8":return Ga.utf8;case"hex":return Ga.hex;case"base64":return Ga.base64;case"ucs-2":case"ucs2":return Ga.ucs2;case"utf16-le":case"utf16le":return Ga.utf16le}return void 0!==t?t:Ga.binary}function Ha(e){return{name:e?"ndjson":"json",encode:e?function(e){return Va.from(JSON.stringify(e)+"\n")}:function(e){return Va.from(JSON.stringify(e))},decode:function(e){return JSON.parse(Va.toString(e))}}}function Ja(e){return{name:e,encode:function(t){return"string"!=typeof t&&(t=t.toString()),Va.from(t,e)},decode:function(t){return Va.toString(t,e)}}}Ga.ascii=Ja("ascii"),Ga.utf8=Ja("utf-8"),Ga.hex=Ja("hex"),Ga.base64=Ja("base64"),Ga.ucs2=Ja("ucs2"),Ga.utf16le=Ja("utf16le"),Ga.ndjson=Ha(!0),Ga.json=Ha(!1),Ga.binary={name:"binary",encode:function(e){return"string"==typeof e?Va.from(e,"utf-8"):Va.toBuffer(e)},decode:function(e){return Va.toBuffer(e)}};var Ya=lr(qa);function Za(e,t,n={}){"string"==typeof n&&(n={encoding:n});const{getter:r=((e,t,n)=>e.get(t,n)),encoding:i=Ya("binary"),...s}=n;return Ct((()=>Promise.resolve(r(e,t,s)))).pipe(Ft((e=>e&&(cs.isBuffer(e)?e:Ya(i).encode(e)))))}function Ka(e,t,n,r={}){"string"==typeof r&&(r={encoding:r});const{putter:i=((e,t,n,r={})=>e.put(t,n,r)),encoding:s="binary",sourceEncoding:o="binary",...a}=r;return null===s||cs.isBuffer(n)||(n=Ya(s).encode(n)),Ct((()=>Promise.resolve(i(e,t,n,a))))}function Xa(e,t,n={}){return At(function(e,t,n={}){"string"==typeof n&&(n={encoding:n});const{appender:r=((e,t,n,r)=>e.append(n,r)),encoding:i="binary",sourceEncoding:s="binary",...o}=n;return null===i||cs.isBuffer(t)||(t=Ya(i).encode(t)),Ct((()=>Promise.resolve(r(e,t,o))))}(e,t,n).pipe(Zt(null)))}function Qa(e,t={}){return At(function(e,t={}){"function"==typeof t&&(t={readier:t});const{readier:n=(e=>e?.ready?.()||Promise.resolve())}=t;return Ct((()=>Promise.resolve(n(e))))}(e,t).pipe(Zt(null)))}var eu="object"==typeof global&&global&&global.Object===Object&&global,tu="object"==typeof self&&self&&self.Object===Object&&self,nu=eu||tu||Function("return this")(),ru=nu.Symbol;var iu=Array.isArray,su=Object.prototype,ou=su.hasOwnProperty,au=su.toString,uu=ru?ru.toStringTag:void 0;var cu=Object.prototype.toString;var lu="[object Null]",hu="[object Undefined]",pu=ru?ru.toStringTag:void 0;function fu(e){return null==e?void 0===e?hu:lu:pu&&pu in Object(e)?function(e){var t=ou.call(e,uu),n=e[uu];try{e[uu]=void 0;var r=!0}catch(e){}var i=au.call(e);return r&&(t?e[uu]=n:delete e[uu]),i}(e):function(e){return cu.call(e)}(e)}function du(e){return null!=e&&"object"==typeof e}var xu="[object Symbol]";function mu(e){return"symbol"==typeof e||du(e)&&fu(e)==xu}var bu=1/0,gu=ru?ru.prototype:void 0,yu=gu?gu.toString:void 0;function vu(e){if("string"==typeof e)return e;if(iu(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(e,vu)+"";if(mu(e))return yu?yu.call(e):"";var t=e+"";return"0"==t&&1/e==-bu?"-0":t}function wu(e){return null==e?"":vu(e)}var _u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Su=/^\w*$/;function Eu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Au="[object AsyncFunction]",Fu="[object Function]",ku="[object GeneratorFunction]",Ou="[object Proxy]";function ju(e){if(!Eu(e))return!1;var t=fu(e);return t==Fu||t==ku||t==Au||t==Ou}var Lu,Tu=nu["__core-js_shared__"],Cu=(Lu=/[^.]+$/.exec(Tu&&Tu.keys&&Tu.keys.IE_PROTO||""))?"Symbol(src)_1."+Lu:"";var Pu=Function.prototype.toString;function Mu(e){if(null!=e){try{return Pu.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Iu=/^\[object .+?Constructor\]$/,Nu=Function.prototype,zu=Object.prototype,Bu=Nu.toString,Du=zu.hasOwnProperty,Wu=RegExp("^"+Bu.call(Du).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ru(e){return!(!Eu(e)||(t=e,Cu&&Cu in t))&&(ju(e)?Wu:Iu).test(Mu(e));var t}function $u(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ru(n)?n:void 0}var Uu=$u(Object,"create");var Vu=Object.prototype.hasOwnProperty;var qu=Object.prototype.hasOwnProperty;function Gu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hu(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}Gu.prototype.clear=function(){this.__data__=Uu?Uu(null):{},this.size=0},Gu.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gu.prototype.get=function(e){var t=this.__data__;if(Uu){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Vu.call(t,e)?t[e]:void 0},Gu.prototype.has=function(e){var t=this.__data__;return Uu?void 0!==t[e]:qu.call(t,e)},Gu.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Uu&&void 0===t?"__lodash_hash_undefined__":t,this};var Ju=Array.prototype.splice;function Yu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yu.prototype.clear=function(){this.__data__=[],this.size=0},Yu.prototype.delete=function(e){var t=this.__data__,n=Hu(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ju.call(t,n,1),--this.size,!0)},Yu.prototype.get=function(e){var t=this.__data__,n=Hu(t,e);return n<0?void 0:t[n][1]},Yu.prototype.has=function(e){return Hu(this.__data__,e)>-1},Yu.prototype.set=function(e,t){var n=this.__data__,r=Hu(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Zu=$u(nu,"Map");function Ku(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xu.prototype.clear=function(){this.size=0,this.__data__={hash:new Gu,map:new(Zu||Yu),string:new Gu}},Xu.prototype.delete=function(e){var t=Ku(this,e).delete(e);return this.size-=t?1:0,t},Xu.prototype.get=function(e){return Ku(this,e).get(e)},Xu.prototype.has=function(e){return Ku(this,e).has(e)},Xu.prototype.set=function(e,t){var n=Ku(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Qu="Expected a function";function ec(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Qu);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ec.Cache||Xu),n}ec.Cache=Xu;var tc,nc,rc,ic=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sc=/\\(\\)?/g,oc=(tc=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ic,(function(e,n,r,i){t.push(r?i.replace(sc,"$1"):n||e)})),t},nc=ec(tc,(function(e){return 500===rc.size&&rc.clear(),e})),rc=nc.cache,nc);function ac(e,t){return iu(e)?e:function(e,t){if(iu(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!mu(e))||Su.test(e)||!_u.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:oc(wu(e))}var uc=1/0;function cc(e){if("string"==typeof e||mu(e))return e;var t=e+"";return"0"==t&&1/e==-uc?"-0":t}function lc(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=ac(t,e)).length;null!=e&&n<r;)e=e[cc(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r}const hc=()=>Bt((e=>null!=e));function pc(e,t={}){N(t)&&(t={cwd:t});const{getter:n=((e,n)=>e.get(n,t))}=t;return function(e,t={}){return va(e,"package.json",t).pipe(Ft((e=>e.flat()||void 0)))}(e,t).pipe(Lt(),Ht((t=>n(e,t))),Ft((e=>e&&function(e){return Ya("json").decode(e)}(e)||null)),hc(),Zt(null))}var fc=0;const dc={isArray:function(e){return Array.isArray(e)},isObject:function(e){return"object"==typeof e},isString:N,map:z,reduce:function(e,t){return e.reduce(t)},trimStart:D,uniqueId:function(e){var t=++fc;return wu(e)+t}},xc={EMPTY:Ge,defer:Ct,firstValueFrom:At,from:yt,identity:xe,of:vt,catchError:$t,concat:Tt,concatAll:Lt,concatMap:Ht,defaultIfEmpty:Zt,isEmpty:hn,map:Ft,merge:function(...e){const t=Ze(e),n=Ke(e,1/0);return e=zt(e),ye(((r,i)=>{jt(n)(yt([r,...e],t)).subscribe(i)}))},mergeMap:Ot,publish:xn,take:Kt,toArray:Gt,filter:Bt},{concatIfEmpty:mc}=Xn,bc=()=>xc.filter((e=>null!=e));function gc(e,t,n="/",r={}){const{tryExtensions:i=["",".js",".json",".mjs","/package.json"],getter:s,encoding:o,...a}=r,u=r.state.keyValueMode?t:ms.resolve(ms.dirname(n),t),c="bare"===r.state.type?[u]:dc.reduce(i,((e,t)=>[...e,u+t]),[]);return i.includes("")&&c.unshift(t),xc.concat(c).pipe(xc.concatMap((t=>xc.defer((()=>s(e,r.state.id=t,a))))),bc(),xc.map(o.decode),mc(xc.defer((()=>function(e,t,n){const{exportConditions:r=["browser","import","es2015","default"],state:i}=n;if("bare"!==i.type)return yc(e,t,n);return pc(e,{...n,cwd:t}).pipe(bc(),xc.toArray(),xc.map((e=>e.reverse())),xc.concatAll(),xc.concatMap((s=>{if(!s||n.state.pkg)return xc.EMPTY;const o=Fa(i.entryId);if(!o)return xc.EMPTY;let a,u;s.main||="index.js";const{name:c,pathName:l}=o,[h]=t.replace(c,"|").split("|");try{[a]=Da(s.exports,dc.trimStart(l,"./"),r),u=ms.join(...[h,c,a].filter((e=>!!e)))}catch(e){try{a=l||s?.[["module","browser","main"].find((e=>s[e]))],dc.isObject(a)&&([a]=Da(a,s.main||l||"",r)),u=ms.join(...[h,c,l||a].filter((e=>!!e)))}catch(e){u=s.main||"./index.js"}}return n.state.pkg=s,n.state.resolvedTo=u,gc(e,u,void 0,n)})),mc(xc.defer((()=>yc(e,t,n)))))}(e,u,{tryExtensions:i,getter:s,...r})))),xc.catchError((e=>xc.EMPTY)))}function yc(e,t,n={}){const{tryExtensions:r,tryIndex:i=["/index"],getter:s,encoding:o}=n;if(t.endsWith("index"))return xc.of(null);const a=dc.map(i,(e=>dc.map(r,(n=>ms.resolve(t+e+n))))).flat();return xc.concat(a).pipe(xc.concatMap((t=>s(e,n.state.id=t,n))),bc(),xc.map(o.decode))}function vc(e,t,n="/",r={}){if(n&&!dc.isString(n)&&(r=n,n=null),dc.isArray(e))return xc.from(e).pipe(xc.concatMap((e=>vc(e,t,n,r))));U(n)||(n=void 0),$(t)||(n=void 0),U(t)&&(n=void 0);const i=e;let{keyValueMode:s=!1,encoding:o=(s?_c():Ya("utf8")),getter:a=(async(e,t,n={})=>await e.get(t,n)),state:u={},detailed:c=!1}=r;r.state={...r.state||=u,entryId:t,entryFrom:n,keyValueMode:s,debugId:dc.uniqueId("resolve$")};let l=[];return $(t)||U(t)||(r.state.type="bare"),s&&"bare"===r.state.type&&(r.state.type="absolute"),$(t)&&U(n)&&(t=ms.resolve(ms.dirname(n),t)),"bare"===r.state.type?l.push(xc.defer((()=>Aa(i,r.state.id=t))).pipe(bc(),xc.concatMap((e=>gc(i,e,void 0,{...r,encoding:o,getter:a}))),xc.defaultIfEmpty(null))):(r.state.type||=U(t)?"absolute":"relative",l.push(xc.defer((()=>gc(i,r.state.id=t,n,{...r,encoding:o,getter:a}))))),xc.concat(...l).pipe(c?xc.map((e=>({success:!!e,code:e,...r.state}))):xc.identity)}async function wc(e,t,n,r={}){return xc.firstValueFrom(vc(e,t,n,r).pipe(xc.take(1),xc.defaultIfEmpty(r.detailed?{}:null)))}function _c(){return{encode:e=>e,decode:e=>e}}!function(){try{var e=$u(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function Sc(e){return du(e)&&"[object Arguments]"==fu(e)}var Ec=Object.prototype;Ec.hasOwnProperty,Ec.propertyIsEnumerable;Sc(function(){return arguments}());var Ac="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fc=Ac&&"object"==typeof module&&module&&!module.nodeType&&module,kc=Fc&&Fc.exports===Ac?nu.Buffer:void 0;kc&&kc.isBuffer;var Oc="object"==typeof exports&&exports&&!exports.nodeType&&exports,jc=Oc&&"object"==typeof module&&module&&!module.nodeType&&module,Lc=jc&&jc.exports===Oc&&eu.process,Tc=function(){try{var e=jc&&jc.require&&jc.require("util").types;return e||Lc&&Lc.binding&&Lc.binding("util")}catch(e){}}();Tc&&Tc.isTypedArray,nu.Uint8Array;var Cc=ru?ru.prototype:void 0;Cc&&Cc.valueOf;var Pc=$u(nu,"DataView"),Mc=$u(nu,"Promise"),Ic=$u(nu,"Set"),Nc=$u(nu,"WeakMap"),zc="[object Map]",Bc="[object Promise]",Dc="[object Set]",Wc="[object WeakMap]",Rc="[object DataView]",$c=Mu(Pc),Uc=Mu(Zu),Vc=Mu(Mc),qc=Mu(Ic),Gc=Mu(Nc),Hc=fu;async function Jc(e,t={}){try{return await import(function(e,t={}){const{mimeType:n="text/javascript",encodingString:r="base64",charset:i="utf-8"}=t;let s="";return null!==i&&(s+=`charset=${i};`),`data:${n};${s}${r},${cs.toString(cs.from(e),r)}`}(e,t))}catch(e){if("ERR_INVALID_URL"===e.code)throw new TypeError("Could not import code. If the code has any 'require' or 'import' statements, the import will not work without a bundler.")}}(Pc&&Hc(new Pc(new ArrayBuffer(1)))!=Rc||Zu&&Hc(new Zu)!=zc||Mc&&Hc(Mc.resolve())!=Bc||Ic&&Hc(new Ic)!=Dc||Nc&&Hc(new Nc)!=Wc)&&(Hc=function(e){var t=fu(e),n="[object Object]"==t?e.constructor:void 0,r=n?Mu(n):"";if(r)switch(r){case $c:return Rc;case Uc:return zc;case Vc:return Bc;case qc:return Dc;case Gc:return Wc}return t});const{concatIfEmpty:Yc}=Xn,Zc={from:yt,defer:Ct,filter:Bt,map:Ft,catchError:$t,concatIfEmpty:Yc,defaultIfEmpty:Zt,concatMap:Ht,race:Dt,EMPTY:Ge};const Kc={EMPTY:Ge,firstValueFrom:At,from:yt,defer:Ct,of:vt,catchError:$t,defaultIfEmpty:Zt,map:Ft,switchMap:yn,filterNil:()=>Kc.filter((e=>null!=e)),filter:Bt,importCode$:function(e,t={}){return Ct((()=>Jc(e,t)))},raceUrls$:function(e,t={}){let{method:n="get",mustHaveDataToWin:r="get"===n.toLowerCase(),mustHaveSuccessCodeToWin:i=!0,mustHaveConditionToWin:s=(()=>!0),successCodes:o=[200],...a}=t;return n=n.toUpperCase(),Zc.race(...z(e,(e=>Zc.defer((()=>fetch(e,{...a,method:n}))).pipe(Zc.filter((e=>!!e.ok&&(!(i&&!o.includes(e.status))&&(!!s(e)&&e)))),Zc.concatMap((e=>"head"===n?Zc.of(e.headers):Zc.from(e.text()).pipe(Zc.map((t=>(console.log(),e.data=t,e)))))),Zc.map((e=>{if("head"===n)return e;const t=cs.from(e.data);let r;try{r=Ya("json").decode(t)}catch(e){r=Ya("utf8").decode(t)}return e.data=r,e})),Zc.concatIfEmpty((()=>Zc.EMPTY)),Zc.catchError((e=>Zc.EMPTY))))))},retry:function(e=1/0){let t;t=e&&"object"==typeof e?e:{count:e};const{count:n=1/0,delay:r,resetOnSuccess:i=!1}=t;return n<=0?xe:ye(((e,t)=>{let s,o=0;const a=()=>{let u=!1;s=e.subscribe(ve(t,(e=>{i&&(o=0),t.next(e)}),void 0,(e=>{if(o++<n){const n=()=>{s?(s.unsubscribe(),s=null,a()):u=!0};if(null!=r){const i="number"==typeof r?Pt(r):pt(r(e,o)),s=ve(t,(()=>{s.unsubscribe(),n()}),(()=>{t.complete()}));i.subscribe(s)}else n()}else t.error(e)}))),u&&(s.unsubscribe(),s=null,a())};a()}))},toArray:Gt,tap:wn},Xc="https://cdn.jsdelivr.net";function Qc(e,t={}){return Kc.firstValueFrom(function(e,t={}){t.host||=Xc,t.type||="npm",t.mapPath||=e=>`${W(e,"/")}/+esm`;const n=Fa(e,t);return Kc.raceUrls$(n.paths,{method:"HEAD"}).pipe(Kc.map((e=>!!e.headers.get("Content-Type")?.startsWith("application/javascript"))))}(e,t).pipe(Kc.defaultIfEmpty(!1)))}function el(e){return function(e,t={}){t.host||=Xc,t.type||="npm",t.mapPath||=e=>`${W(e,"/")}/+esm`;const n=Fa(e,t);return n?Kc.raceUrls$(n.paths):Kc.of(null)}(e)}function tl(e={}){return{async resolveId(e,t){if(e.indexOf("\0")>-1)return null;const n=["gh","npm","wp"].find((t=>e.startsWith(`/${t}/`)));n&&(e=e.slice(n.length+2)),e.endsWith("/+esm")&&(e=e.slice(0,e.length-5));try{const t=function(e){let t,n,r,i,s,o;const a=e.startsWith("\0");if(a||1!==e.split(" ").length)s=e;else try{t=new URL(e),r=t.pathname,t=t.href}catch(s){t=!1,!e.startsWith("/")&&!e.startsWith(".")||e.startsWith("/npm")||e.startsWith("/gh")?(i=Fa(e),i.name.indexOf(".")>-1?(n=r="./"+i.name,i=null):r=i?.path):r=n=e}return n&&n.endsWith(".svelte")&&(o=!0),{url:t,module:i,virtual:s,code:s,path:n,pathname:r,hash:a,svelte:o}}(e);if((t.module||t.url)&&await Qc(e))return e}catch(e){}},async load(e){try{if(e?.indexOf("\0")>-1)return null;const t=await function(e){return Kc.firstValueFrom(el(e).pipe(Kc.defaultIfEmpty(null)))}(e);if(t&&t.data)return t.data}catch(e){}}}}const nl=Or,rl=jr,il=dl(new Error("Not readable")),sl=dl(new Error("Not writable")),ol=dl(new Error("Not deletable")),al=dl(new Error("Not statable")),ul=dl(null),cl=dl(null),ll=dl(null);var hl=class e extends nl{constructor(t){super(),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.suspended=!1,this.closed=!1,this.unlinked=!1,this.writing=!1,t&&(t.open&&(this._open=t.open),t.read&&(this._read=t.read),t.write&&(this._write=t.write),t.del&&(this._del=t.del),t.truncate&&(this._truncate=t.truncate),t.stat&&(this._stat=t.stat),t.suspend&&(this._suspend=t.suspend),t.close&&(this._close=t.close),t.unlink&&(this._unlink=t.unlink)),this.readable=this._read!==e.prototype._read,this.writable=this._write!==e.prototype._write,this.deletable=this._del!==e.prototype._del,this.truncatable=this._truncate!==e.prototype._truncate||this.deletable,this.statable=this._stat!==e.prototype._stat}read(e,t,n){this.run(new pl(this,0,e,t,null,n),!1)}_read(e){return il(e)}write(e,t,n){n||(n=bl),this.run(new pl(this,1,e,t.length,t,n),!0)}_write(e){return sl(e)}del(e,t,n){n||(n=bl),this.run(new pl(this,2,e,t,null,n),!0)}_del(e){return ol(e)}truncate(e,t){t||(t=bl),this.run(new pl(this,3,e,0,null,t),!0)}_truncate(e){e.size=1/0,this._del(e)}stat(e){this.run(new pl(this,4,0,0,null,e),!1)}_stat(e){return al(e)}open(e){if(e||(e=bl),this.opened&&!this._needsOpen)return ml(e);this._needsOpen=!1,fl(this,new pl(this,5,0,0,null,e))}_open(e){return ul(e)}suspend(e){if(e||(e=bl),this.closed||this.suspended)return ml(e);this._needsOpen=!0,fl(this,new pl(this,6,0,0,null,e))}_suspend(e){this._close(e)}close(e){if(e||(e=bl),this.closed)return ml(e);fl(this,new pl(this,7,0,0,null,e))}_close(e){return cl(e)}unlink(e){e||(e=bl),this.closed||this.close(bl),fl(this,new pl(this,8,0,0,null,e))}_unlink(e){return ll(e)}run(e,t){t&&!this.writing&&(this.writing=!0,this._needsOpen=!0),this._needsOpen&&this.open(bl),this._queued.length?this._queued.push(e):e._run()}};class pl{constructor(e,t,n,r,i,s){this.type=t,this.offset=n,this.size=r,this.data=i,this.storage=e,this._sync=!1,this._callback=s,this._openError=null}_maybeOpenError(e){if(5!==this.type)return;const t=this.storage._queued;for(let n=1;n<t.length;n++){const r=t[n];if(5===r.type)break;r._openError=e}}_unqueue(e){const t=this.storage,n=t._queued;if(e)this._maybeOpenError(e);else if(this.type>4)switch(this.type){case 5:t.suspended&&(t.suspended=!1,t.emit("unsuspend")),t.opened||(t.opened=!0,t.emit("open"));break;case 6:t.suspended||(t.suspended=!0,t.emit("suspend"));break;case 7:t.closed||(t.closed=!0,t.emit("close"));break;case 8:t.unlinked||(t.unlinked=!0,t.emit("unlink"))}n.length&&n[0]===this&&n.shift(),--t._pending||function(e){const t=e._queued;for(;t.length>0;){const n=t[0].type>4;if(n&&e._pending||t[0]._run(),n)return;t.shift()}}(t)}callback(e,t){if(this._sync)return xl(this,e,t);this._unqueue(e),this._callback(e,t)}_openAndNotClosed(){const e=this.storage;return!(!e.opened||e.closed||e.suspended)||(!e.opened||e.suspended?xl(this,this._openError||new Error("Not opened")):e.closed&&xl(this,new Error("Closed")),!1)}_open(){const e=this.storage;return e.opened&&!e.suspended?xl(this,null):e.closed?xl(this,new Error("Closed")):void e._open(this)}_run(){const e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._openAndNotClosed()&&e._read(this);break;case 1:this._openAndNotClosed()&&e._write(this);break;case 2:this._openAndNotClosed()&&e._del(this);break;case 3:this._openAndNotClosed()&&e._truncate(this);break;case 4:this._openAndNotClosed()&&e._stat(this);break;case 5:this._open();break;case 6:e.closed||!e.opened||e.suspended?xl(this,null):e._suspend(this);break;case 7:e.closed||!e.opened||e.suspended?xl(this,null):e._close(this);break;case 8:e.unlinked?xl(this,null):e._unlink(this)}this._sync=!1}}function fl(e,t){e._queued.push(t),e._pending||t._run()}function dl(e){return function(t){xl(t,e)}}function xl(e,t,n){rl((()=>e.callback(t,n)))}function ml(e){rl((()=>e(null)))}function bl(){}var gl=lr(hl);function yl(e){return null!=e&&"string"==typeof e.valueOf()}function vl(e,t,n){return e&&e.startsWith(t,n)}function wl(e,t,n=!0){const r=Array.isArray(t)?t:t.split("");if(r.indexOf(e[0])>-1){const t=Array.isArray(e)?e:e.split("");for(;r.indexOf(t[0])>-1;)t.shift();return n?t.join(""):t}return e}function _l(e,t){return function(e,t){return wl((Array.isArray(e)?e:e.split("")).reverse(),t,!1).reverse().join("")}(wl(e,t),t)}function Sl(e){return vl(e,"../")||vl(e,"./")}function El(e){return vl(e,"/")}function Al(e="/"){return"/"===e||""===e}function Fl(e){return"function"==typeof e}function kl(e){const t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ol=kl((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function jl(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ll{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const e of t)e.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(Fl(n))try{n()}catch(t){e=t instanceof Ol?t.errors:[t]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const t of r)try{Pl(t)}catch(t){e=null!=e?e:[],t instanceof Ol?e=[...e,...t.errors]:e.push(t)}}if(e)throw new Ol(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Pl(e);else{if(e instanceof Ll){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&jl(t,e)}remove(e){const{_finalizers:t}=this;t&&jl(t,e),e instanceof Ll&&e._removeParent(this)}}Ll.EMPTY=(()=>{const e=new Ll;return e.closed=!0,e})();const Tl=Ll.EMPTY;function Cl(e){return e instanceof Ll||e&&"closed"in e&&Fl(e.remove)&&Fl(e.add)&&Fl(e.unsubscribe)}function Pl(e){Fl(e)?e():e.unsubscribe()}const Ml={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Il={setTimeout(e,t,...n){const{delegate:r}=Il;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Il;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Nl(e){Il.setTimeout((()=>{const{onUnhandledError:t}=Ml;if(!t)throw e;t(e)}))}function zl(){}const Bl=Dl("C",void 0,void 0);function Dl(e,t,n){return{kind:e,value:t,error:n}}function Wl(e){e()}class Rl extends Ll{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cl(e)&&e.add(this)):this.destination=Jl}static create(e,t,n){return new ql(e,t,n)}next(e){this.isStopped?Hl(function(e){return Dl("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hl(Dl("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hl(Bl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $l=Function.prototype.bind;function Ul(e,t){return $l.call(e,t)}class Vl{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){Gl(e)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){Gl(e)}else Gl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){Gl(e)}}}class ql extends Rl{constructor(e,t,n){let r;if(super(),Fl(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0};else{let t;this&&Ml.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ul(e.next,t),error:e.error&&Ul(e.error,t),complete:e.complete&&Ul(e.complete,t)}):r=e}this.destination=new Vl(r)}}function Gl(e){Nl(e)}function Hl(e,t){const{onStoppedNotification:n}=Ml;n&&Il.setTimeout((()=>n(e,t)))}const Jl={closed:!0,next:zl,error:function(e){throw e},complete:zl},Yl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zl(e){return e}class Kl{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new Kl;return t.source=this,t.operator=e,t}subscribe(e,t,n){const r=(i=e)&&i instanceof Rl||function(e){return e&&Fl(e.next)&&Fl(e.error)&&Fl(e.complete)}(i)&&Cl(i)?e:new ql(e,t,n);var i;return Wl((()=>{const{operator:e,source:t}=this;r.add(e?e.call(r,t):t?this._subscribe(r):this._trySubscribe(r))})),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=Xl(t))(((t,n)=>{const r=new ql({next:t=>{try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});this.subscribe(r)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[Yl](){return this}pipe(...e){return(0===(t=e).length?Zl:1===t.length?t[0]:function(e){return t.reduce(((e,t)=>t(e)),e)})(this);var t}toPromise(e){return new(e=Xl(e))(((e,t)=>{let n;this.subscribe((e=>n=e),(e=>t(e)),(()=>e(n)))}))}}function Xl(e){var t;return null!==(t=null!=e?e:Ml.Promise)&&void 0!==t?t:Promise}function Ql(e){return Fl(null==e?void 0:e.lift)}function eh(e){return t=>{if(Ql(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function th(e,t,n,r,i){return new nh(e,t,n,r,i)}Kl.create=e=>new Kl(e);class nh extends Rl{constructor(e,t,n,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(n){try{t(n)}catch(t){e.error(t)}}:super._next,this._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}class rh extends Kl{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ql(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ll;const t=this.getSubject();e.add(this.source.subscribe(th(t,void 0,(()=>{this._teardown(),t.complete()}),(e=>{this._teardown(),t.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=Ll.EMPTY)}return e}refCount(){return eh(((e,t)=>{let n=null;e._refCount++;const r=th(t,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}const ih={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=ih;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t((t=>{n=void 0,e(t)}));return new Ll((()=>null==n?void 0:n(i)))},requestAnimationFrame(...e){const{delegate:t}=ih;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=ih;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0},sh=kl((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class oh extends Kl{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new ah(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new sh}next(e){Wl((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}}))}error(e){Wl((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){Wl((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:r}=this;return t||n?Tl:(this.currentObservers=null,r.push(e),new Ll((()=>{this.currentObservers=null,jl(r,e)})))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new Kl;return e.source=this,e}}oh.create=(e,t)=>new ah(e,t);class ah extends oh{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Tl}}const uh={now:()=>(uh.delegate||Date).now(),delegate:void 0};class ch extends oh{constructor(e=1/0,t=1/0,n=uh){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(n.push(e),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let t=0;t<i.length&&!e.closed;t+=n?1:2)e.next(i[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}class lh extends Ll{constructor(e,t){super()}schedule(e,t=0){return this}}const hh={setInterval(e,t,...n){const{delegate:r}=hh;return(null==r?void 0:r.setInterval)?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=hh;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};class ph extends lh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return hh.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&hh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,jl(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let fh,dh=1;const xh={};function mh(e){return e in xh&&(delete xh[e],!0)}const bh={setImmediate(e){const t=dh++;return xh[t]=!0,fh||(fh=Promise.resolve()),fh.then((()=>mh(t)&&e())),t},clearImmediate(e){mh(e)}},{setImmediate:gh,clearImmediate:yh}=bh,vh={setImmediate(...e){const{delegate:t}=vh;return((null==t?void 0:t.setImmediate)||gh)(...e)},clearImmediate(e){const{delegate:t}=vh;return((null==t?void 0:t.clearImmediate)||yh)(e)},delegate:void 0};class wh{constructor(e,t=wh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}wh.now=uh.now;class _h extends wh{constructor(e,t=wh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Sh=new class extends _h{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends ph{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=vh.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(vh.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),Eh=new _h(ph),Ah=Eh;new class extends _h{}(class extends ph{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}}),new class extends _h{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends ph{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=ih.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(ih.cancelAnimationFrame(t),e._scheduled=void 0)}}),class extends _h{constructor(e=Fh,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,r;for(;(r=e[0])&&r.delay<=t&&(e.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=e.shift();)r.unsubscribe();throw n}}}.frameTimeFactor=10;class Fh extends ph{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(Number.isFinite(t)){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new Fh(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}return Ll.EMPTY}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:r}=e;return r.push(this),r.sort(Fh.sortActions),1}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}const kh=new Kl((e=>e.complete()));function Oh(e){return e&&Fl(e.schedule)}function jh(e){return e[e.length-1]}function Lh(e){return Fl(jh(e))?e.pop():void 0}function Th(e){return Oh(jh(e))?e.pop():void 0}function Ch(e){return this instanceof Ch?(this.v=e,this):new Ch(e)}function Ph(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const Mh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ih(e){return Fl(null==e?void 0:e.then)}function Nh(e){return Fl(e[Yl])}function zh(e){return Symbol.asyncIterator&&Fl(null==e?void 0:e[Symbol.asyncIterator])}function Bh(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Dh="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Wh(e){return Fl(null==e?void 0:e[Dh])}function Rh(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof Ch?Promise.resolve(e.value.v).then(u,c):l(s[0][2],e)}(i[e](t))}catch(e){l(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield Ch(t.read());if(n)return yield Ch(void 0);yield yield Ch(e)}}finally{t.releaseLock()}}))}function $h(e){return Fl(null==e?void 0:e.getReader)}function Uh(e){if(e instanceof Kl)return e;if(null!=e){if(Nh(e))return i=e,new Kl((e=>{const t=i[Yl]();if(Fl(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Mh(e))return r=e,new Kl((e=>{for(let t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Ih(e))return n=e,new Kl((e=>{n.then((t=>{e.closed||(e.next(t),e.complete())}),(t=>e.error(t))).then(null,Nl)}));if(zh(e))return Vh(e);if(Wh(e))return t=e,new Kl((e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()}));if($h(e))return Vh(Rh(e))}var t,n,r,i;throw Bh(e)}function Vh(e){return new Kl((t=>{(function(e,t){var n,r,i,s;return function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{for(n=Ph(e);!(r=yield n.next()).done;){const e=r.value;if(t.next(e),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function qh(e,t,n,r=0,i=!1){const s=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!i)return s}function Gh(e,t=0){return eh(((n,r)=>{n.subscribe(th(r,(n=>qh(r,e,(()=>r.next(n)),t)),(()=>qh(r,e,(()=>r.complete()),t)),(n=>qh(r,e,(()=>r.error(n)),t))))}))}function Hh(e,t=0){return eh(((n,r)=>{r.add(e.schedule((()=>n.subscribe(r)),t))}))}function Jh(e,t){if(!e)throw new Error("Iterable cannot be null");return new Kl((n=>{qh(n,t,(()=>{const r=e[Symbol.asyncIterator]();qh(n,t,(()=>{r.next().then((e=>{e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Yh(e,t){return t?function(e,t){if(null!=e){if(Nh(e))return function(e,t){return Uh(e).pipe(Hh(t),Gh(t))}(e,t);if(Mh(e))return function(e,t){return new Kl((n=>{let r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Ih(e))return function(e,t){return Uh(e).pipe(Hh(t),Gh(t))}(e,t);if(zh(e))return Jh(e,t);if(Wh(e))return function(e,t){return new Kl((n=>{let r;return qh(n,t,(()=>{r=e[Dh](),qh(n,t,(()=>{let e,t;try{({value:e,done:t}=r.next())}catch(e){return void n.error(e)}t?n.complete():n.next(e)}),0,!0)})),()=>Fl(null==r?void 0:r.return)&&r.return()}))}(e,t);if($h(e))return function(e,t){return Jh(Rh(e),t)}(e,t)}throw Bh(e)}(e,t):Uh(e)}function Zh(...e){return Yh(e,Th(e))}var Kh;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Kh||(Kh={}));class Xh{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){return Qh(this,e)}do(e,t,n){const{kind:r,value:i,error:s}=this;return"N"===r?null==e?void 0:e(i):"E"===r?null==t?void 0:t(s):null==n?void 0:n()}accept(e,t,n){var r;return Fl(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)}toObservable(){const{kind:e,value:t,error:n}=this,r="N"===e?Zh(t):"E"===e?function(e,t){const n=Fl(e)?e:()=>e,r=e=>e.error(n());return new Kl(r)}((()=>n)):"C"===e?kh:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new Xh("N",e)}static createError(e){return new Xh("E",void 0,e)}static createComplete(){return Xh.completeNotification}}function Qh(e,t){var n,r,i;const{kind:s,value:o,error:a}=e;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,o):"E"===s?null===(r=t.error)||void 0===r||r.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}Xh.completeNotification=new Xh("C");const ep=kl((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function tp(e,t){const n="object"==typeof t;return new Promise(((r,i)=>{const s=new ql({next:e=>{r(e),s.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new ep)}});e.subscribe(s)}))}function np(e,t){return eh(((n,r)=>{let i=0;n.subscribe(th(r,(n=>{r.next(e.call(t,n,i++))})))}))}function rp(e,t,n=1/0){return Fl(t)?rp(((n,r)=>np(((e,i)=>t(n,e,r,i)))(Uh(e(n,r)))),n):("number"==typeof t&&(n=t),eh(((t,r)=>function(e,t,n,r,i,s,o,a){const u=[];let c=0,l=0,h=!1;const p=()=>{!h||u.length||c||t.complete()},f=e=>c<r?d(e):u.push(e),d=e=>{c++;let i=!1;Uh(n(e,l++)).subscribe(th(t,(e=>{t.next(e)}),(()=>{i=!0}),void 0,(()=>{if(i)try{for(c--;u.length&&c<r;){const e=u.shift();d(e)}p()}catch(e){t.error(e)}})))};return e.subscribe(th(t,f,(()=>{h=!0,p()}))),()=>{}}(t,r,e,n))))}function ip(e=1/0){return rp(Zl,e)}function sp(){return ip(1)}function op(...e){return sp()(Yh(e,Th(e)))}function ap(e){return new Kl((t=>{Uh(e()).subscribe(t)}))}function up(e=0,t,n=Ah){let r=-1;return null!=t&&(Oh(t)?n=t:r=t),new Kl((t=>{let i=(s=e)instanceof Date&&!isNaN(s)?+e-n.now():e;var s;i<0&&(i=0);let o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function cp(...e){const t=Th(e),n=function(e,t){return"number"==typeof jh(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?Uh(r[0]):ip(n)(Yh(r,t)):kh}kl((e=>function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"})),kl((e=>function(t){e(this),this.name="NotFoundError",this.message=t})),kl((e=>function(t){e(this),this.name="SequenceError",this.message=t})),kl((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));const lp=new Kl(zl),{isArray:hp}=Array;function pp(e){return 1===e.length&&hp(e[0])?e[0]:e}function fp(e,t){return eh(((n,r)=>{let i=0;n.subscribe(th(r,(n=>e.call(t,n,i++)&&r.next(n))))}))}function dp(e,t){return new Kl((n=>{const r=e(),i=t(r);return(i?Uh(i):kh).subscribe(n),()=>{r&&r.unsubscribe()}}))}function xp(...e){const t=Lh(e),n=pp(e);return n.length?new Kl((e=>{let r=n.map((()=>[])),i=n.map((()=>!1));e.add((()=>{r=i=null}));for(let s=0;!e.closed&&s<n.length;s++)Uh(n[s]).subscribe(th(e,(n=>{if(r[s].push(n),r.every((e=>e.length))){const n=r.map((e=>e.shift()));e.next(t?t(...n):n),r.some(((e,t)=>!e.length&&i[t]))&&e.complete()}}),(()=>{i[s]=!0,!r[s].length&&e.complete()})));return()=>{r=i=null}})):kh}function mp(e){return eh(((t,n)=>{let r,i=null,s=!1;i=t.subscribe(th(n,void 0,void 0,(o=>{r=Uh(e(o,mp(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):s=!0}))),s&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function bp(e,t,n,r,i){return(s,o)=>{let a=n,u=t,c=0;s.subscribe(th(o,(t=>{const n=c++;u=a?e(u,t,n):(a=!0,t),r&&o.next(u)}),i&&(()=>{a&&o.next(u),o.complete()})))}}const gp=(e,t)=>(e.push(t),e);function yp(){return eh(((e,t)=>{(function(e,t){return eh(bp(e,t,arguments.length>=2,!1,!0))})(gp,[])(e).subscribe(t)}))}function vp(e,t){return Fl(t)?rp(e,t,1):rp(e,1)}const wp={connector:()=>new oh};function _p(e,t=wp){const{connector:n}=t;return eh(((t,r)=>{const i=n();var s;Uh(e((s=i,new Kl((e=>s.subscribe(e)))))).subscribe(r),r.add(t.subscribe(i))}))}function Sp(e){return eh(((t,n)=>{let r=!1;t.subscribe(th(n,(e=>{r=!0,n.next(e)}),(()=>{r||n.next(e),n.complete()})))}))}function Ep(e){return e<=0?()=>kh:eh(((t,n)=>{let r=0;t.subscribe(th(n,(t=>{++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Ap(){return eh(((e,t)=>{e.subscribe(th(t,zl))}))}function Fp(e){return np((()=>e))}function kp(e,t){return t?n=>op(t.pipe(Ep(1),Ap()),n.pipe(kp(e))):rp(((t,n)=>Uh(e(t,n)).pipe(Ep(1),Fp(t))))}function Op(e,t=Eh){const n=up(e,t);return kp((()=>n))}function jp(e,t=Zl){return e=null!=e?e:Lp,eh(((n,r)=>{let i,s=!0;n.subscribe(th(r,(n=>{const o=t(n);!s&&e(i,o)||(s=!1,i=o,r.next(n))})))}))}function Lp(e,t){return e===t}function Tp(e=Cp){return eh(((t,n)=>{let r=!1;t.subscribe(th(n,(e=>{r=!0,n.next(e)}),(()=>r?n.complete():n.error(e()))))}))}function Cp(){return new ep}function Pp(e,t){return t?n=>n.pipe(Pp(((n,r)=>Uh(e(n,r)).pipe(np(((e,i)=>t(n,e,r,i))))))):eh(((t,n)=>{let r=0,i=null,s=!1;t.subscribe(th(n,(t=>{i||(i=th(n,void 0,(()=>{i=null,s&&n.complete()})),Uh(e(t,r++)).subscribe(i))}),(()=>{s=!0,!i&&n.complete()})))}))}function Mp(e){return eh(((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}}))}function Ip(e,t){const n=arguments.length>=2;return r=>r.pipe(e?fp(((t,n)=>e(t,n,r))):Zl,Ep(1),n?Sp(t):Tp((()=>new ep)))}function Np(e){return e<=0?()=>kh:eh(((t,n)=>{let r=[];t.subscribe(th(n,(t=>{r.push(t),e<r.length&&r.shift()}),(()=>{for(const e of r)n.next(e);n.complete()}),void 0,(()=>{r=null})))}))}function zp(){return eh(((e,t)=>{e.subscribe(th(t,(e=>{t.next(Xh.createNext(e))}),(()=>{t.next(Xh.createComplete()),t.complete()}),(e=>{t.next(Xh.createError(e)),t.complete()})))}))}function Bp(e,t){const n=Fl(e)?e:()=>e;return Fl(t)?_p(t,{connector:n}):e=>new rh(e,n)}function Dp(e){return e?t=>_p(e)(t):e=>Bp(new oh)(e)}function Wp(e,t,n,r){n&&!Fl(n)&&(r=n);const i=Fl(n)?n:void 0;return n=>Bp(new ch(e,t,r),i)(n)}function Rp(e,t){return eh(bp(e,t,arguments.length>=2,!0))}function $p(...e){const t=Th(e);return eh(((n,r)=>{(t?op(e,n,t):op(e,n)).subscribe(r)}))}function Up(e,t){return eh(((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(th(r,(n=>{null==i||i.unsubscribe();let o=0;const u=s++;Uh(e(n,u)).subscribe(i=th(r,(e=>r.next(t?t(n,e,u,o++):e)),(()=>{i=null,a()})))}),(()=>{o=!0,a()})))}))}function Vp(e){return eh(((t,n)=>{Uh(e).subscribe(th(n,(()=>n.complete()),zl)),!n.closed&&t.subscribe(n)}))}function qp(e,t,n){const r=Fl(e)||t||n?{next:e,error:t,complete:n}:e;return r?eh(((e,t)=>{var n;null===(n=r.subscribe)||void 0===n||n.call(r);let i=!0;e.subscribe(th(t,(e=>{var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(()=>{var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(e=>{var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(()=>{var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):Zl}function Gp(e,t){if(Al(t))return Zh(!1);const n=(e.exists||e.entry).bind(e);return ap((()=>Promise.resolve(n(t)))).pipe(np((e=>!!e)),mp((e=>Zh(!1))))}const Hp={catchError:mp,first:Ip,map:np,switchMap:Up,firstValueFrom:tp,of:Zh};function Jp(e,t){return Al(t)?Hp.of(!0):Gp(e,t).pipe(Hp.switchMap((n=>n?Hp.of(!1):vb(e,{cwd:t}).pipe(Hp.first(),Hp.map((()=>!0))))),Hp.catchError((()=>Hp.of(!1))))}const Yp=Rl.prototype._complete,Zp=Rl.prototype._error,Kp=Rl.prototype._next;class Xp extends Rl{constructor(e,t){super(e);const{complete:n,error:r,next:i}=t;this._complete=n?()=>{try{n()}catch(t){e.error(t)}this.unsubscribe()}:Yp,this._error=r?t=>{try{r(t)}catch(t){e.error(t)}this.unsubscribe()}:Zp,this._next=i?t=>{try{i(t)}catch(t){e.error(t)}}:Kp}}function Qp(...e){let t=e[0],n=e[1];if(0===t.length)return Zh(n?n([]):[]);const r=t.slice();return n&&r.push(((...e)=>n(e))),xp.apply(null,r)}function ef(e,t,n=(()=>new oh)){return r=>r.lift(new tf(e,t,n))}class tf{constructor(e,t,n){this.count=e,this.hashSelector=t,this.subjectSelector=n}call(e,t){return t.subscribe(new nf(e,this.count,this.hashSelector,this.subjectSelector))}}class nf extends Rl{constructor(e,t,n,r){super(e),this.count=t,this.hashSelector=n,this.subjectSelector=r,this.index=0;const i=this.buckets=new Array(t);for(let e=0;e<t;++e)i[e]=r();e.next(i.map((e=>e.asObservable())))}_next(e){const{buckets:t,closed:n,count:r,hashSelector:i}=this;if(n)return;let s;try{const t=i(e,this.index++);s=Math.abs(Math.floor(t))%r}catch(e){return void this.error(e)}t[s].next(e)}_error(e){const{buckets:t,closed:n,destination:r}=this;n||(t.forEach((t=>t.error(e))),r.error(e))}_complete(){const{buckets:e,closed:t,destination:n}=this;t||(e.forEach((e=>e.complete())),n.complete())}}function rf(e){return t=>t.pipe(Dp((t=>cp(t,t.pipe(eh(((e,t)=>{e.subscribe(th(t,(()=>{t.next(!1),t.complete()}),(()=>{t.next(!0),t.complete()})))})),rp((t=>t?e:kh)))))))}function sf(...e){let t=e[e.length-1];return function(e){return Boolean(e&&"function"==typeof e.schedule)}(t)?e.pop():t=null,n=>op(n,Yh(e,t))}function of(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(Dp((e=>op(e.pipe(Ep(n)),e.pipe(t)))))}const af=rf,uf=rf;class cf{constructor(e){this.callback=e}call(e,t){return t.subscribe(new lf(e,this.callback))}}class lf extends Rl{constructor(e,t){super(e),this.callback=t,this.kind="U",this.subscription=void 0}complete(){this.kind="C",this.defer((()=>super.complete()))}error(e){this.kind="E",this.defer((()=>super.error(e)))}unsubscribe(){this.defer((()=>super.unsubscribe()))}defer(e){if(this.subscription)return void this.subscription.add(e);const t=new Ll;this.subscription=t,t.add(e),Yh(this.callback(this.kind)).pipe(Mp((()=>t.unsubscribe()))).subscribe()}}class hf{constructor(e){this.callback=e}call(e,t){const n=t.subscribe(e);return n.add(this.callback),n}}function pf(e){return t=>ap((()=>{let n="U";return t.pipe(qp({complete:()=>n="C",error:()=>n="E"}),Mp((()=>e(n))))}))}function ff(e){return t=>t.lift(new xf(e))}const df=ff;class xf{constructor(e){this.callback=e}call(e,t){return t.subscribe(new mf(e,this.callback))}}class mf extends Rl{constructor(e,t){super(e),this.add(new Ll((()=>t(this.notification))))}complete(){this.notification=new Xh("C"),super.complete()}error(e){this.notification=new Xh("E",void 0,e),super.error(e)}}function bf(e,t=Sh){return n=>{const r=n;let i=null,s=null;const o=new oh,a=o.pipe(Rp(((e,t)=>e+t),0),Up((n=>0===n?up(e,t).pipe(qp((()=>{i&&(i.unsubscribe(),i=null),s&&(s.unsubscribe(),s=null)}))):!i&&n>0?up(0,t).pipe(qp((()=>{i||(i=r.connect())}))):lp)));return dp((()=>(s||(s=a.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)})),(()=>n))}}const gf=bf;class yf{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new vf(e,this.scheduler,this.delay))}}class vf extends Rl{constructor(e,t,n){super(e),this.scheduler=t,this.delay=n}unsubscribe(){const{delay:e,scheduler:t}=this;t.schedule((()=>super.unsubscribe()),e)}}var wf=Object.freeze({__proto__:null,auditMap:function(e){return t=>{let n,r=!1;return t.pipe(rp(((t,i)=>r?(n=[t,i],kh):(r=!0,Yh(e(t,i)).pipe(op(ap((()=>{if(!n)return kh;const t=e(...n);return n=void 0,Yh(t)}))),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?fp(((t,n)=>e(t,n,r))):Zl,Np(1),n?Sp(t):Tp((()=>new ep)))}(),qp({complete:()=>r=!1}))))))}},bucketBy:ef,bufferRecent:function(e){return e<1?e=>e.pipe(Fp([])):1===e?e=>e.pipe(np((e=>[e]))):t=>t.pipe(Rp(((t,n)=>[...t.slice(1-e),n]),[]))},concatIfEmpty:rf,concatTap:function(e){return t=>t.pipe(vp((t=>Yh(e(t)).pipe(Ap(),sf(t)))))},concatMapEager:function(e,t){return n=>ap((()=>{let r=0;const i=new Map;return n.pipe(rp(((t,n)=>Yh(e(t,n)).pipe(zp(),np((e=>({index:n,notification:e}))))),t),rp((({index:e,notification:t})=>{let n=i.get(e);switch(n||(n={complete:!1,index:e,values:[]},i.set(e,n)),t.kind){case"N":n.values.push(t.value);break;case"C":n.complete=!0;break;case"E":return t.toObservable()}return n.index!==r?kh:function(){const e=[];let t=i.get(r);for(;t&&(e.push(...t.values),t.values.length=0,t.complete);)i.delete(r),t=i.get(++r);return e}()})))}))},debounceAfter:function(e,t,n){return r=>r.pipe(Dp((r=>e.pipe(Up((()=>op(Zh(!0),Zh(!1).pipe(Op(t,n))))),$p(!1),jp(),Dp((e=>e.pipe(vp((t=>t?r.pipe(Vp(e.pipe(fp((e=>!e)))),Np(1)):r.pipe(Vp(e.pipe(fp((e=>e))))))))))))))},debounceSync:function(){return e=>new Kl((t=>{let n,r;e.subscribe(new Xp(t,{complete:()=>{n&&t.next(r),t.complete()},error:e=>t.error(e),next:e=>{r=e,n||(n=Sh.schedule((()=>{t.next(r),n=void 0})),t.add(n))}}))}))},debounceTimeSubsequent:function(e,t,n){let r;return"number"==typeof t?r=t:(r=1,n=t),of(r,function(e,t=Eh){return eh(((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const e=s;s=null,r.next(e)}};function u(){const n=o+e,s=t.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(th(r,(n=>{s=n,o=t.now(),i||(i=t.schedule(u,e),r.add(i))}),(()=>{a(),r.complete()}),void 0,(()=>{s=i=null})))}))}(e,n))},defaultObservableIfEmpty:af,switchIfEmpty:uf,deferFinalize:function(e){return t=>t.lift(new cf(e))},delayUntil:function(e){return t=>t.pipe(Dp((t=>{const n=new Kl((n=>{let r=!0;const i=[],s=new Ll;return s.add(e.subscribe((()=>{i.forEach((e=>n.next(e))),n.complete()}),(e=>n.error(e)),(()=>{r=!1,i.length=0}))),s.add((()=>{i.length=0})),s.add(t.subscribe((e=>r&&i.push(e)),(e=>n.error(e)))),s}));return op(n,t)})))},dispose:function(e){return t=>t.lift(new hf(e))},endWith:sf,equals:function(e){return t=>t.pipe(fp((t=>e===t)))},exhaustTap:function(e){return t=>t.pipe(Wp(1,void 0,(t=>t.pipe(Pp((n=>op(t,lp).pipe(Vp(Yh(e(n)).pipe(Ap(),sf(null))),yp(),ip())))))))},finalizeWithKind:pf,guard:function(e,t){return n=>n.pipe(np((n=>{if(e(n))return n;const r=new Error(t||"Guard rejection.");throw r.value=n,r})))},hold:function(e){return t=>{return t.pipe((n=e,eh(((e,t)=>{let r=[];return e.subscribe(th(t,(e=>r.push(e)),(()=>{t.next(r),t.complete()}))),Uh(n).subscribe(th(t,(()=>{const e=r;r=[],t.next(e)}),zl)),()=>{r=null}}))),sp());var n}},holdToggle:function(e,t){return n=>{return n.pipe((r=e,i=t,eh(((e,t)=>{const n=[];Uh(r).subscribe(th(t,(e=>{const r=[];n.push(r);const s=new Ll;s.add(Uh(i(e)).subscribe(th(t,(()=>{jl(n,r),t.next(r),s.unsubscribe()}),zl)))}),zl)),e.subscribe(th(t,(e=>{for(const t of n)t.push(e)}),(()=>{for(;n.length>0;)t.next(n.shift());t.complete()})))}))),sp());var r,i}},holdWhen:function(e){return t=>{return t.pipe((n=e,eh(((e,t)=>{let r=null,i=null;const s=()=>{null==i||i.unsubscribe();const e=r;r=[],e&&t.next(e),Uh(n()).subscribe(i=th(t,s,zl))};s(),e.subscribe(th(t,(e=>null==r?void 0:r.push(e)),(()=>{r&&t.next(r),t.complete()}),void 0,(()=>r=i=null)))}))),sp());var n}},indexElements:function(e=((e,t)=>t)){return np(e)},inexorably:ff,finalize:df,initial:function(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(Dp((e=>{return cp(e.pipe(Ep(n),t),e.pipe((r=n,fp(((e,t)=>r<=t)))));var r})))},instanceOf:function(e){return fp("function"==typeof e?t=>t instanceof e:t=>Object.keys(e).some((n=>t instanceof e[n])))},materializeTap:function(e){return t=>t.pipe(qp({complete:()=>e(new Xh("C")),error:t=>e(new Xh("E",void 0,t)),next:t=>e(new Xh("N",t))}))},materializeTo:function(e){return t=>t.pipe(function(e,t,n=1/0){return Fl(t)?rp((()=>e),t,n):("number"==typeof t&&(n=t),rp((()=>e),n))}(Yh(e).pipe(zp())),eh(((e,t)=>{e.subscribe(th(t,(e=>Qh(e,t))))})))},mergeTap:function(e){return t=>t.pipe(rp((t=>Yh(e(t)).pipe(Ap(),sf(t)))))},multicastWithKind:function(e,t){return n=>{let r,i;return n.pipe(pf((e=>r=e)),Bp((()=>(i=e(r,i),r=void 0,i)),t))}},pairwiseStartWith:function(e){return t=>t.pipe($p(e),eh(((e,t)=>{let n,r=!1;e.subscribe(th(t,(e=>{const i=n;n=e,r&&t.next([i,e]),r=!0})))})))},pause:function(e,t="resumed"){return n=>e.pipe($p(t),Wp(1,void 0,(e=>n.pipe(rp((t=>e.pipe(fp((e=>"resumed"===e)),Ip(),np((()=>t)))))))))},percolate:function e(...t){const[n,...r]=t;return 1===t.length&&Array.isArray(n)?e(...n):new Kl((t=>Yh(n).subscribe({complete:()=>{t.complete()},next(e){t.next(e)},error:n=>{0===r.length?t.error(n):t.add(e(...r).subscribe(t))}})))},pluck:function(...e){return t=>function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return np((n=>{let r=n;for(let n=0;n<t;n++){const t=null==r?void 0:r[e[n]];if(void 0===t)return;r=t}return r}))}(...e)(t)},prioritize:function(e){return t=>new Kl((n=>{const r=Dp()(t),i=[],s=new Ll,o=Math.max(e.length,2);for(let e=0;e<o;++e){const e=new oh;i.push(e),s.add(r.subscribe(e))}const[a,u,...c]=i;return s.add(e(a,u,...c).subscribe(n)),s.add(r.connect()),s}))},rateLimit:function(e,...t){let n=1,r=Sh;1===t.length?"number"==typeof t[0]?n=t[0]:r=t[0]:2===t.length&&(n=t[0],r=t[1]);const i=n||1;return t=>t.pipe(Rp(((t,n)=>{const s=r.now(),o=s-e;if((t=t.filter((e=>e.until>o))).length>=i){const r=t[0],o=t[t.length-1],a=r.until+e*Math.floor(t.length/i);t.push({delay:o.until<s?a-s:a-o.until,until:a,value:n})}else t.push({delay:0,until:s,value:n});return t}),[]),np((e=>e[e.length-1])),vp((e=>{const t=Zh(e.value);return e.delay?t.pipe(Op(e.delay,r)):t})))},refCountDelay:bf,refCountAuditTime:gf,refCountForever:function(){return e=>{const t=e;let n=null;return dp((()=>(n||(n=t.connect()),{unsubscribe:()=>{}})),(()=>e))}},refCountOn:function(e){return t=>{const n=t;let r=0,i=null;return dp((()=>(++r,e.schedule((()=>{!i&&r>0&&(i=n.connect())})),{unsubscribe:()=>{--r,e.schedule((()=>{i&&0===r&&(i.unsubscribe(),i=null)}))}})),(()=>t))}},reschedule:function(e=Sh){return vp((t=>Zh(t,e)))},skipSync:function(){return e=>new Kl((t=>{let n=!1;const r=e.subscribe((e=>n&&t.next(e)),t.error.bind(t),t.complete.bind(t));return n=!0,r}))},splitBy:function(e,t=(()=>new oh)){return ef(2,((t,n)=>e(t,n)?0:1),t)},spread:function(...e){return t=>e.reduce(((e,t)=>e.pipe(t)),t)},startWithDeferred:function(e,t){return n=>op(ap((()=>{const n=e();return t?Zh(n,t):Zh(n)})),n)},startWithTimeout:function(e,t,n){return 0!==t||n?r=>r.pipe(Dp((r=>function(...e){return 1===(e=pp(e)).length?Uh(e[0]):new Kl(function(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(Uh(e[r]).subscribe(th(t,(e=>{if(n){for(let e=0;e<n.length;e++)e!==r&&n[e].unsubscribe();n=null}t.next(e)}))))}}(e))}(r,op(up(t,n).pipe(Fp(e)),r))))):t=>new Kl((n=>{let r=!1;const i=t.subscribe((e=>{r=!0,n.next(e)}),n.error.bind(n),n.complete.bind(n));return r||n.next(e),i}))},subsequent:of,switchMapUntil:function(e,t){return n=>n.pipe(Dp((n=>n.pipe(e,Up(((e,r)=>t(e,r).pipe(Vp(n))))))))},switchTap:function(e){return t=>t.pipe(Dp((t=>t.pipe(vp((n=>op(Yh(e(n)).pipe(Ap(),Vp(t)),Zh(n))))))))},takeSync:function(){return e=>new Kl((t=>{const n=e.subscribe(t);return t.complete(),n}))},takeWhileInclusive:function(e){return t=>t.pipe(Bp((()=>new ch(1)),(t=>op(t.pipe(function(e,t=!1){return eh(((n,r)=>{let i=0;n.subscribe(th(r,(n=>{const s=e(n,i++);(s||t)&&r.next(n),!s&&r.complete()})))}))}(e)),t.pipe(Ep(1),fp((t=>!e(t))))))))},tapSubscribe:function(e){const{ignore:t={},subscribe:n=zl,unsubscribe:r=zl}="function"==typeof e?{subscribe:e}:e;return e=>ap((()=>{let i=!1,s=!1;return n(),e.pipe(qp({complete:()=>i=!0,error:()=>s=!0}),Mp((()=>{i&&t.complete||s&&t.error||r()})))}))},tapWithIndex:function(e,t,n){return r=>ap((()=>{let i,s,o,a,u=-1;return e&&"function"!=typeof e?(i=e,s=e.next||zl,o=e.error||zl,a=e.complete||zl):(i=void 0,s=e||zl,o=t||zl,a=n||zl),r.pipe(qp((e=>s.call(i,[e,++u])),(e=>o.call(i,e)),(()=>a.call(i))))}))},throttleAfter:function(e,t,n){return r=>r.pipe(Dp((r=>e.pipe(Up((()=>op(Zh(!0),Op(t,n)(Zh(!1))))),$p(!1),jp(),Dp((e=>e.pipe(vp((t=>t?r.pipe(Ep(1),Vp(e.pipe(fp((e=>!e))))):r.pipe(Vp(e.pipe(fp((e=>e))))))))))))))},withLatestFromWhen:function(...e){const t=e.pop(),n=e;return e=>new Kl((r=>{const i=Dp()(e),s=n.map((e=>Yh(e).pipe(Dp()))),o=new Ll;return o.add(t().pipe($p(void 0),Up((()=>i.pipe(function(...e){const t=Lh(e);return eh(((n,r)=>{const i=e.length,s=new Array(i);let o=e.map((()=>!1)),a=!1;for(let t=0;t<i;t++)Uh(e[t]).subscribe(th(r,(e=>{s[t]=e,a||o[t]||(o[t]=!0,(a=o.every(Zl))&&(o=null))}),zl));n.subscribe(th(r,(e=>{if(a){const n=[e,...s];r.next(t?t(...n):n)}})))}))}(...s))))).subscribe(r)),s.forEach((e=>o.add(e.connect()))),o.add(i.connect()),o}))},unsubscribeOn:function(e,t=0){return n=>n.lift(new yf(e,t))}});const _f=wf;var Sf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ef={},Af={},Ff={};Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.fromHex=Ff.toHex=void 0;const kf=e=>new Number(e).toString(16).toLowerCase();Ff.toHex=e=>`0x${1===kf(e).length?"0"+kf(e):kf(e)}`,Ff.fromHex=e=>new Number(e);var Of={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=e=>({typename:e.typename,mime:e.info.mime,extension:e.info.extension}),n=e=>e[0],r=e=>e.slice(1,e.length);e.merge=(i,s)=>{if(0===i.bytes.length)return s;const o=n(i.bytes),a=r(i.bytes);if(((e,t)=>e&&0===t.length)(s.bytes[o],a)){const e=s.bytes[o];return s.bytes[o]={...e,matches:[...e.matches?e.matches:[],t(i)]},s}return s.bytes[o]?(s.bytes[o]=e.merge(e.createNode(i.typename,a,i.info),s.bytes[o]),s):(s.bytes[o]||(s.bytes[o]={...s.bytes[o],...e.createComplexNode(i.typename,a,i.info)}),s)},e.createNode=(e,t,n)=>({typename:e,bytes:t,info:n||{}}),e.createComplexNode=(i,s,o)=>{let a={bytes:{},matches:void 0};const u=n(s),c=r(s);return 0===s.length?{matches:[t({typename:i,info:o?{extension:o.extension,mime:o.mime}:{}})],bytes:{}}:(a.bytes[u]=e.createComplexNode(i,c,o),a)}}(Of),Object.defineProperty(Af,"__esModule",{value:!0});const jf=Ff,Lf=Of;let Tf={noOffset:null,offset:{}};const Cf=(e,t,n,r)=>{if(r){const i=Tf.offset[jf.toHex(r)];if(i){const s=Lf.merge(Lf.createNode(e,t.map((e=>e.toLowerCase())),n),{...i});Tf.offset[jf.toHex(r)]=s}else Tf.offset[jf.toHex(r)]=Lf.createComplexNode(e,t.map((e=>e.toLowerCase())),n)}else null===Tf.noOffset?Tf.noOffset=Lf.createComplexNode(e,t.map((e=>e.toLowerCase())),n):Tf.noOffset=Lf.merge(Lf.createNode(e,t.map((e=>e.toLowerCase())),n),Tf.noOffset)};Cf("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),Cf("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),Cf("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),Cf("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),Cf("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),Cf("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),Cf("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),Cf("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),Cf("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),Cf("rpm",["0xed","0xab","0xee","0xdb"]),Cf("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),Cf("pic",["0x00"]),Cf("pif",["0x00"]),Cf("sea",["0x00"]),Cf("ytr",["0x00"]),Cf("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),Cf("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),Cf("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),Cf("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),Cf("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),Cf("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),Cf("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),Cf("dba",["0xBE","0xBA","0xFE","0xCA"]),Cf("dba2",["0x00","0x01","0x42","0x44"]),Cf("tda",["0x00","0x01","0x44","0x54"]),Cf("tda2",["0x00","0x01","0x00","0x00"]),Cf("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),Cf("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),Cf("z",["0x1F","0x9D"]),Cf("tar.z",["0x1F","0xA0"]),Cf("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),Cf("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),Cf("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),Cf("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),Cf("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),Cf("cin",["0x80","0x2A","0x5F","0xD7"]),Cf("cin1",["0x52","0x4E","0x43","0x01"]),Cf("cin2",["0x52","0x4E","0x43","0x02"]),Cf("dpx",["0x53","0x44","0x50","0x58"]),Cf("dpx2",["0x58","0x50","0x44","0x53"]),Cf("exr",["0x76","0x2F","0x31","0x01"]),Cf("bpg",["0x42","0x50","0x47","0xFB"]),Cf("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),Cf("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),Cf("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),Cf("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),Cf("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),Cf("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),Cf("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),Cf("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),Cf("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),Cf("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),Cf("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),Cf("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),Cf("idx",["0x49","0x4E","0x44","0x58"]),Cf("lz",["0x4C","0x5A","0x49","0x50"]),Cf("exe",["0x4D","0x5A"]),Cf("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),Cf("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),Cf("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),Cf("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),Cf("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),Cf("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),Cf("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),Cf("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),Cf("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),Cf("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),Cf("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),Cf("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),Cf("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),Cf("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),Cf("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),Cf("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),Cf("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),Cf("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),Cf("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),Cf("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),Cf("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),Cf("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),Cf("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),Cf("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),Cf("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),Cf("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),Cf("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),Cf("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),Cf("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),Cf("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),Cf("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),Cf("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),Cf("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),Cf("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),Cf("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),Cf("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),Cf("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),Cf("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),Cf("class",["0xCA","0xFE","0xBA","0xBE"]),Cf("class",["0xEF","0xBB","0xBF"]),Cf("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),Cf("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),Cf("class",["0xCE","0xFA","0xed","0xFE"]),Cf("class",["0xCF","0xFA","0xed","0xFE"]),Cf("class",["0xFF","0xFE"]),Cf("class",["0xFF","0xFE"]),Cf("class",["0xFF","0xFE","0x00","0x00"]),Cf("ps",["0x25","0x21","0x50","0x53"]),Cf("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),Cf("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),Cf("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),Cf("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),Cf("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),Cf("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),Cf("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),Cf("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),Cf("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),Cf("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),Cf("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),Cf("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),Cf("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),Cf("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),Cf("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),Cf("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),Cf("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),Cf("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),Cf("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),Cf("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),Cf("iso",["0x43","0x44","0x30","0x30","0x31"]),Cf("flac",["0x66","0x4C","0x61","0x43"]),Cf("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),Cf("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),Cf("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),Cf("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),Cf("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),Cf("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),Cf("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),Cf("vmdk",["0x4B","0x44","0x4D"]),Cf("crx",["0x43","0x72","0x32","0x34"]),Cf("fh8",["0x41","0x47","0x44","0x33"]),Cf("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),Cf("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),Cf("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),Cf("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),Cf("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),Cf("xar",["0x78","0x61","0x72","0x21"]),Cf("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),Cf("nes",["0x4E","0x45","0x53","0x1A"]),Cf("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),Cf("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),Cf("tox",["0x74","0x6F","0x78","0x33"]),Cf("mlv",["0x4D","0x4C","0x56","0x49"]),Cf("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),Cf("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),Cf("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),Cf("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),Cf("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),Cf("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),Cf("lz2",["0x04","0x22","0x4D","0x18"]),Cf("cab",["0x4D","0x53","0x43","0x46"]),Cf("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),Cf("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),Cf("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),Cf("mk3d",["0x1A","0x45","0xDF","0xA3"]),Cf("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),Cf("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),Cf("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),Cf("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),Cf("lep",["0xCF","0x84","0x01"]),Cf("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),Cf("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),Cf("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),Cf("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),Cf("m2p",["0x00","0x00","0x01","0xBA"]),Cf("vob",["0x00","0x00","0x01","0xBA"]),Cf("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),Cf("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),Cf("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),Cf("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),Cf("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),Cf("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),Cf("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),Cf("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),Cf("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),Cf("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),Cf("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),Cf("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),Cf("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),Cf("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),Cf("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),Cf("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),Cf("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),Cf("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),Cf("Json",["0x7B"],{mime:"application/json",extension:".json"}),Cf("Json",["0x5B"],{mime:"application/json",extension:".json"}),Cf("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),Cf("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),Cf("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),Cf("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),Af.default=()=>Tf,function(e){var t=Sf&&Sf.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(Af),r=Ff,i=n.default();e.filetypeinfo=e=>{let t=i;for(const n of Object.keys(t.offset)){const t=r.fromHex(n);if(t>=e.length)continue;const o=i.offset[n],a=s(t,e,o);if(a.length>0)return a}return null===t.noOffset?[]:s(0,e,t.noOffset)};const s=(e,t,n)=>{let i=n,s=[];for(;;){const n=r.toHex(t[e]);if(i=i.bytes["?"]&&!i.bytes[n]?i.bytes["?"]:i.bytes[n],!i)return s;i&&i.matches&&(s=i.matches.slice(0)),e+=1}};e.default=e.filetypeinfo,e.filetypename=t=>e.filetypeinfo(t).map((e=>e.typename)),e.filetypemime=t=>e.filetypeinfo(t).map((e=>e.mime?e.mime:null)).filter((e=>null!==e)),e.filetypeextension=t=>e.filetypeinfo(t).map((e=>e.extension?e.extension:null)).filter((e=>null!==e))}(Ef);var Pf=Ef.filetypemime;function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function If(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Nf,zf={exports:{}},Bf="object"==typeof Reflect?Reflect:null,Df=Bf&&"function"==typeof Bf.apply?Bf.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Nf=Bf&&"function"==typeof Bf.ownKeys?Bf.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Wf=Number.isNaN||function(e){return e!=e};function Rf(){Rf.init.call(this)}zf.exports=Rf,zf.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}Kf(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Kf(e,"error",t,{once:!0})}(e,i)}))},Rf.EventEmitter=Rf,Rf.prototype._events=void 0,Rf.prototype._eventsCount=0,Rf.prototype._maxListeners=void 0;var $f=10;function Uf(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Vf(e){return void 0===e._maxListeners?Rf.defaultMaxListeners:e._maxListeners}function qf(e,t,n,r){var i,s,o,a;if(Uf(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=Vf(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return e}function Gf(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Hf(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Gf.bind(r);return i.listener=n,r.wrapFn=i,i}function Jf(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Zf(i,i.length)}function Yf(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Zf(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Kf(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(Rf,"defaultMaxListeners",{enumerable:!0,get:function(){return $f},set:function(e){if("number"!=typeof e||e<0||Wf(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");$f=e}}),Rf.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Rf.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Wf(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Rf.prototype.getMaxListeners=function(){return Vf(this)},Rf.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)Df(a,this,t);else{var u=a.length,c=Zf(a,u);for(n=0;n<u;++n)Df(c[n],this,t)}return!0},Rf.prototype.addListener=function(e,t){return qf(this,e,t,!1)},Rf.prototype.on=Rf.prototype.addListener,Rf.prototype.prependListener=function(e,t){return qf(this,e,t,!0)},Rf.prototype.once=function(e,t){return Uf(t),this.on(e,Hf(this,e,t)),this},Rf.prototype.prependOnceListener=function(e,t){return Uf(t),this.prependListener(e,Hf(this,e,t)),this},Rf.prototype.removeListener=function(e,t){var n,r,i,s,o;if(Uf(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},Rf.prototype.off=Rf.prototype.removeListener,Rf.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Rf.prototype.listeners=function(e){return Jf(this,e,!0)},Rf.prototype.rawListeners=function(e){return Jf(this,e,!1)},Rf.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Yf.call(e,t)},Rf.prototype.listenerCount=Yf,Rf.prototype.eventNames=function(){return this._eventsCount>0?Nf(this._events):[]};var Xf=zf.exports,Qf="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);const ed=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}},{EventEmitter:td}=Xf,nd=new Error("Stream was destroyed"),rd=new Error("Premature close"),id=Qf,sd=class{constructor(e){this.hwm=e||16,this.head=new ed(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new ed(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}},od=134217727,ad=1^od,ud=16384,cd=32768,ld=768^od,hd=134184959,pd=2<<17,fd=4<<17,dd=8<<17,xd=32<<17,md=64<<17,bd=128<<17,gd=512<<17,yd=100532223,vd=117440511,wd=131088,_d=4210688,Sd=4210702,Ed=16809984,Ad=16809999,Fd=1179663,kd=Symbol.asyncIterator||Symbol("asyncIterator");class Od{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:s}={}){this.stream=e,this.queue=new sd,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||Kd,this.map=r||n,this.afterWrite=Id.bind(this),this.afterUpdateNextTick=Bd.bind(this)}get ended(){return 0!=(this.stream._duplexState&xd)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=dd,!0):(this.stream._duplexState|=3145728,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=133169151),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=133693439&(this.stream._duplexState|gd)}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);1179648==(r._duplexState&Fd);)n.push(r._writableState.shift());if(0!=(15&r._duplexState))return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=pd;do{for(;(e._duplexState&Fd)===dd;){const t=this.shift();e._duplexState|=33685504,e._write(t,this.afterWrite)}0==(655360&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=133955583}updateNonPrimary(){const e=this.stream;if((72482831&e._duplexState)===gd)return e._duplexState=67108863&(131072|e._duplexState),void e._final(Pd.bind(this));4!=(14&e._duplexState)?1==(e._duplexState&Ad)&&(e._duplexState=(e._duplexState|wd)&ad,e._open(Dd.bind(this))):0==(e._duplexState&Ed)&&(e._duplexState|=wd,e._destroy(Md.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&bd)&&(this.stream._duplexState&=vd,!0)}updateCallback(){(17563663&this.stream._duplexState)===fd?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&bd)&&(this.stream._duplexState|=bd,0==(this.stream._duplexState&pd)&&id(this.afterUpdateNextTick))}}class jd{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:s}={}){this.stream=e,this.queue=new sd,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||Kd,this.map=r||n,this.pipeTo=null,this.afterRead=Nd.bind(this),this.afterUpdateNextTick=zd.bind(this)}get ended(){return 0!=(this.stream._duplexState&ud)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new Td(this.stream,e,t),t&&this.stream.on("error",Xd),Zd(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",Xd),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Cd.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=134152127&(1024|t._duplexState),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=134152191&(128|t._duplexState),this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=134209407),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if(128==(16527&e._duplexState)){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=ld),0!=(2048&e._duplexState)&&e.emit("data",t),t}return null}drain(){const e=this.stream;for(;128==(16527&e._duplexState)&&0!=(768&e._duplexState);){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=ld),0!=(2048&e._duplexState)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&e._duplexState);)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=8192,e.emit("readable")),0==(80&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=134217695}updateNonPrimary(){const e=this.stream;1024==(1167&e._duplexState)&&(e._duplexState=134216703&(e._duplexState|ud),e.emit("end"),(e._duplexState&Sd)===_d&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(14&e._duplexState)?1==(e._duplexState&Ad)&&(e._duplexState=(e._duplexState|wd)&ad,e._open(Dd.bind(this))):0==(e._duplexState&Ed)&&(e._duplexState|=wd,e._destroy(Md.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&cd)&&(this.stream._duplexState&=hd,!0)}updateCallback(){64==(32879&this.stream._duplexState)?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&cd)&&(this.stream._duplexState|=cd,0==(32&this.stream._duplexState)&&id(this.afterUpdateNextTick))}}class Ld{constructor(e){this.data=null,this.afterTransform=Wd.bind(e),this.afterFinal=null}}class Td{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(e._duplexState&ud)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&ud)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function Cd(){this.stream._duplexState|=512,this.updateCallback()}function Pd(e){const t=this.stream;e&&t.destroy(e),0==(14&t._duplexState)&&(t._duplexState|=xd,t.emit("finish")),(t._duplexState&Sd)===_d&&(t._duplexState|=4),t._duplexState&=yd,0==(t._duplexState&pd)?this.update():this.updateNextTick()}function Md(e){const t=this.stream;e||this.error===nd||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function Id(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=yd,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),2097152==(3276815&t._duplexState)&&(t._duplexState&=132120575,(t._duplexState&md)===md&&t.emit("drain")),this.updateCallback()}function Nd(e){e&&this.stream.destroy(e),this.stream._duplexState&=134217711,this.updateCallback()}function zd(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=hd,this.update())}function Bd(){0==(this.stream._duplexState&pd)&&(this.stream._duplexState&=vd,this.update())}function Dd(e){const t=this.stream;e&&t.destroy(e),0==(4&t._duplexState)&&(0==(17423&t._duplexState)&&(t._duplexState|=64),0==(71303183&t._duplexState)&&(t._duplexState|=fd),t.emit("open")),t._duplexState&=134086639,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function Wd(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function Rd(e){null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=4096,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=md,this._writableState.updateNextTick())}class $d extends td{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Qd.bind(this))),this.on("newListener",Rd)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(14&this._duplexState)}destroy(e){0==(14&this._duplexState)&&(e||(e=nd),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class Ud extends $d{constructor(e){super(e),this._duplexState|=4194305,this._readableState=new jd(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=256,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(e,t){let n;const r=new Ud({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function i(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(Zd(n=e)&&n.readable)return e;var n;if(e[kd])return this._fromAsyncIterator(e[kd](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let r=0;return new Ud({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return 0!=(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(256&e._duplexState)}[kd](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&i(e.read())})),this.on("close",(function(){null!==n&&i(null)})),{[kd](){return this},next:()=>new Promise((function(t,s){n=t,r=s;const o=e.read();null!==o?i(o):0!=(8&e._duplexState)&&i(null)})),return:()=>s(null),throw:e=>s(e)};function i(i){null!==r&&(t?r(t):null===i&&0==(e._duplexState&ud)?r(nd):n({value:i,done:null===i}),r=n=null)}function s(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?r(t):n({value:void 0,done:!0})}))}))}}}class Vd extends $d{constructor(e){super(e),this._duplexState|=16385,this._writableState=new Od(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(73400334&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,n=function(e){return e._writev!==Vd.prototype._writev&&e._writev!==qd.prototype._writev}(e)?Math.min(1,t.queue.length):t.queue.length,r=n+(33554432&e._duplexState?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class qd extends Ud{constructor(e){super(e),this._duplexState=1,this._writableState=new Od(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class Gd extends qd{constructor(e){super(e),this._transformState=new Ld(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Hd.bind(this))}}function Hd(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function Jd(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,o=null;for(let e=1;e<n.length;e++)s=n[e],Zd(i)?i.pipe(s,u):(a(i,!0,e>1,u),i.pipe(s)),i=s;if(r){let e=!1;const t=Zd(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(e=>{null===o&&(o=e)})),s.on("finish",(()=>{e=!0,t||r(o)})),t&&s.on("close",(()=>r(o||(e?null:rd))))}return s;function a(e,t,n,r){e.on("error",r),e.on("close",(function(){return t&&e._readableState&&!e._readableState.ended||n&&e._writableState&&!e._writableState.ended?r(rd):void 0}))}function u(e){if(e&&!o){o=e;for(const t of n)t.destroy(e)}}}function Yd(e){return!!e._readableState||!!e._writableState}function Zd(e){return"number"==typeof e._duplexState&&Yd(e)}function Kd(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function Xd(){}function Qd(){this.destroy(new Error("Stream aborted."))}var ex={pipeline:Jd,pipelinePromise:function(...e){return new Promise(((t,n)=>Jd(...e,(e=>{if(e)return n(e);t()}))))},isStream:Yd,isStreamx:Zd,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===nd?null:t},Stream:$d,Writable:Vd,Readable:Ud,Duplex:qd,Transform:Gd,PassThrough:class extends Gd{}},tx={exports:{}};function nx(e){return e.length}var rx={byteLength:nx,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},write:function(e,t,n=0,r=nx(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++)e[n+r]=t.charCodeAt(r);return i}};const ix="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sx=new Uint8Array(256);for(let e=0;e<64;e++)sx[ix.charCodeAt(e)]=e;function ox(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}sx[45]=62,sx[95]=63;var ax={byteLength:ox,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r+=3)n+=ix[e[r]>>2]+ix[(3&e[r])<<4|e[r+1]>>4]+ix[(15&e[r+1])<<2|e[r+2]>>6]+ix[63&e[r+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,n=0,r=ox(t)){const i=Math.min(r,e.byteLength-n);for(let n=0,r=0;r<i;n+=4){const i=sx[t.charCodeAt(n)],s=sx[t.charCodeAt(n+1)],o=sx[t.charCodeAt(n+2)],a=sx[t.charCodeAt(n+3)];e[r++]=i<<2|s>>4,e[r++]=(15&s)<<4|o>>2,e[r++]=(3&o)<<6|63&a}return i}};function ux(e){return e.length>>>1}var cx={byteLength:ux,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let n="",r=0;for(let i=t-t%4;r<i;r+=4)n+=e.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)n+=e.getUint8(r).toString(16).padStart(2,"0");return n},write:function(e,t,n=0,r=ux(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++){const i=lx(t.charCodeAt(2*r)),s=lx(t.charCodeAt(2*r+1));if(void 0===i||void 0===s)return e.subarray(0,r);e[n+r]=i<<4|s}return i}};function lx(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}function hx(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){t+=4,n++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let px,fx;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;px=function(t){return e.decode(t)}}else px=function(e){const t=e.byteLength;let n="",r=0;for(;r<t;){let i=e[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let s=0,o=0;if(i<=223?(s=1,o=31&i):i<=239?(s=2,o=15&i):i<=244&&(s=3,o=7&i),t-r-s>0){let t=0;for(;t<s;)i=e[r+t+1],o=o<<6|63&i,t+=1}else o=65533,s=t-r;n+=String.fromCodePoint(o),r+=s+1}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;fx=function(t,n,r=0,i=hx(n)){const s=Math.min(i,t.byteLength-r);return e.encodeInto(n,t.subarray(r,r+s)),s}}else fx=function(e,t,n=0,r=hx(t)){const i=Math.min(r,e.byteLength-n);e=e.subarray(n,n+i);let s=0,o=0;for(;s<t.length;){const n=t.codePointAt(s);if(n<=127){e[o++]=n,s++;continue}let r=0,i=0;for(n<=2047?(r=6,i=192):n<=65535?(r=12,i=224):n<=2097151&&(r=18,i=240),e[o++]=i|n>>r,r-=6;r>=0;)e[o++]=128|n>>r&63,r-=6;s+=n>=65536?2:1}return i};var dx={byteLength:hx,toString:px,write:fx};function xx(e){return 2*e.length}var mx={byteLength:xx,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t-1;r+=2)n+=String.fromCharCode(e[r]+256*e[r+1]);return n},write:function(e,t,n=0,r=xx(t)){const i=Math.min(r,e.byteLength-n);let s=i;for(let r=0;r<t.length&&!((s-=2)<0);++r){const i=t.charCodeAt(r),s=i>>8,o=i%256;e[n+2*r]=o,e[n+2*r+1]=s}return i}};!function(e,t){const n=rx,r=ax,i=cx,s=dx,o=mx,a=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(e){switch(e){case"ascii":return n;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o;default:throw new Error(`Unknown encoding: ${e}`)}}function c(e){return e instanceof Uint8Array}function l(e,t,n){return"string"==typeof e?function(e,t){const n=u(t),r=new Uint8Array(n.byteLength(e));return n.write(r,e,0,r.byteLength),r}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function h(e,t,n,r,i){if(0===e.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(i)return-1;n=e.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t)t=l(t,r);else if("number"==typeof t)return t&=255,i?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(i){let r=-1;for(let i=n;i<e.byteLength;i++)if(e[i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<t.byteLength;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}}return-1}function p(e,t,n,r){return h(e,t,n,r,!0)}function f(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}e.exports=t={isBuffer:c,isEncoding:function(e){try{return u(e),!0}catch{return!1}},alloc:function(e,n,r){const i=new Uint8Array(e);return void 0!==n&&t.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return u(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i&&e.getUint32(r,a)===t.getUint32(r,a);r+=4);for(;r<n;r++){const n=e.getUint8(r),i=t.getUint8(r);if(n<i)return-1;if(n>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const n=new Uint8Array(t);let r=0;for(const t of e){if(r+t.byteLength>n.byteLength){const e=t.subarray(0,n.byteLength-r);return n.set(e,r),n}n.set(t,r),r+=t.byteLength}return n},copy:function(e,t,n=0,r=0,i=e.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-n<i-r&&(i=t.length-n+r);const s=i-r;return e===t?t.copyWithin(n,r,i):t.set(e.subarray(r,i),n),s},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(e.getUint32(r,a)!==t.getUint32(r,a))return!1;for(;r<n;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0},fill:function(e,t,n,r,i){if("string"==typeof t?"string"==typeof n?(i=n,n=0,r=e.byteLength):"string"==typeof r&&(i=r,r=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=e.byteLength),r<=n)return e;if(t||(t=0),"number"==typeof t)for(let i=n;i<r;++i)e[i]=t;else{const s=(t=c(t)?t:l(t,i)).byteLength;for(let i=0;i<r-n;++i)e[i+n]=t[i%s]}return e},from:l,includes:function(e,t,n,r){return-1!==p(e,t,n,r)},indexOf:p,lastIndexOf:function(e,t,n,r){return h(e,t,n,r,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)f(e,n,n+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)f(e,n,n+3),f(e,n+1,n+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)f(e,n,n+7),f(e,n+1,n+6),f(e,n+2,n+5),f(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t,n=0,r=e.byteLength){const i=e.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(e=e.subarray(n,r)),u(t).toString(e))},write:function(e,t,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),u(i).write(e,t,n,r)},writeDoubleLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}}(tx,tx.exports);var bx=tx.exports,gx=Mf(bx);function yx(e,t,n={}){const{map:r,highWaterMark:i,size:s,offset:o,...a}=n;s&&(a.size=s,a.length=s),o&&(a.offset=o,a.start=o);let u=[];if(e.createReadStream)u.push(e.createReadStream(t,a));else if(e.get){const n=new ex.Readable;u.push(n),Promise.resolve(e.get(t,a)).then((e=>{if(yl(e)&&(e=gx.from(e)),e&&gx.isBuffer(e)){const t=e.length;a.start??=0,a.length&&!a.end?a.end=a.length+(a.start??0):a.end?a.end+=1:a.end=t,e=e.slice(a.start,a.end),n.push(gx.from(e))}n.push(null)})).catch((e=>n.destroy(e)))}if(i&&u.push(function(e){let t=gx.alloc(0);return new ex.Transform({transform:function(n,r){const i=gx.concat([t,n]),s=i.length%e;let o,a=0;for(;(o=a+e)<=i.length;){const t=i.subarray(a,o);this.push(t),a+=e}t=s>0?i.subarray(i.length-s,i.length):null,r()},flush(e){t&&t.length&&this.push(t),e()}})}(i)),r&&u.push(new ex.Transform({async transform(e,t){const n=this;await Promise.resolve(r(e)).then((e=>{n.push(e),t(null)})).catch((e=>{t(e)}))}})),0===u.length)throw new Error("createReadStream failed to infer from source.");return 1===u.length?u[0]:ex.pipeline(...u)}const vx="\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n".split("\n").map((e=>e.split(","))).filter((([e])=>""!==e)).map((([e,t,n,r])=>({name:e,mimeType:t,extension:n,description:r})));var wx=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};wx.now||wx.mozNow||wx.msNow||wx.oNow||wx.webkitNow;const _x=Ax(!1),Sx=Ax(!0);_x.win32=Sx,Sx.posix=_x;var Ex=_x;function Ax(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}Ex.posix=Ex;const{concatIfEmpty:Fx}=_f,kx={defer:ap,firstValueFrom:tp,of:Zh,concatIfEmpty:Fx,catchError:mp,filter:fp,map:np};function Ox(e,t,n={}){return function(e,t,n={}){return ap((()=>yx(e,t,n)))}(e,t,{wait:!1,...n,start:0,end:99}).pipe(kx.map((e=>e.length>30?Pf(e):[jx(t)??null])),kx.filter((e=>e.length)),kx.map((([e])=>e)),kx.concatIfEmpty(kx.defer((()=>kx.of(jx(t))))),kx.catchError((e=>kx.of(null))))}function jx(e){const t=Ex.extname(e)?.toLowerCase();return vx.find((({extension:e})=>e===t))?.mimeType}const Lx={map:np,firstValueFrom:tp};function Tx(e,t,n){return Ox(e,t,n).pipe(Lx.map(Cx))}function Cx(e){return e?vx.find((({mimeType:t})=>t===e))?.name:null}function Px(e,t){return function(e){const t=Object.entries(e);return Qp(t.map((([,e])=>function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.subscribe)}(e)?e:Zh(e)))).pipe(np((e=>e.reduce(((e,n,r)=>(e[t[r][0]]=n,e)),{}))))}({isFolder:Jp(e,t),isFile:Gp(e,t),type:Ox(e,t),typeName:Tx(e,t),fullPath:Zh(t)})}function Mx(e,t){for(var n=0,r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var Ix=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Nx=function(e){return Ix.exec(e).slice(1)};function zx(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){const r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=Mx(Gx(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function Bx(e){const t=Dx(e),n="/"===Hx(e,-1);return(e=Mx(Gx(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Dx(e){return"/"===e.charAt(0)}function Wx(){return Bx(Gx(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function Rx(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=zx(e).substr(1),t=zx(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}let u=[];for(a=o;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}function $x(e){const t=Nx(e),n=t[0];let r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function Ux(e,t){let n=Nx(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function Vx(e){return Nx(e)[3]}const qx={extname:Vx,basename:Ux,dirname:$x,sep:"/",delimiter:":",relative:Rx,join:Wx,isAbsolute:Dx,normalize:Bx,resolve:zx};function Gx(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var Hx="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};!function(e){e&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(Object.freeze({__proto__:null,resolve:zx,normalize:Bx,isAbsolute:Dx,join:Wx,relative:Rx,sep:"/",delimiter:":",dirname:$x,basename:Ux,extname:Vx,default:qx}));var Jx=Yx;function Yx(e,t,n){e instanceof RegExp&&(e=Zx(e,n)),t instanceof RegExp&&(t=Zx(t,n));var r=Kx(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Zx(e,t){var n=t.match(e);return n?n[0]:null}function Kx(e,t,n){var r,i,s,o,a,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],s=n.length;l>=0&&!a;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<s&&(s=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(a=[s,o])}return a}Yx.range=Kx;var Xx=Jx,Qx="\0SLASH"+Math.random()+"\0",em="\0OPEN"+Math.random()+"\0",tm="\0CLOSE"+Math.random()+"\0",nm="\0COMMA"+Math.random()+"\0",rm="\0PERIOD"+Math.random()+"\0";function im(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function sm(e){return e.split(Qx).join("\\").split(em).join("{").split(tm).join("}").split(nm).join(",").split(rm).join(".")}function om(e){if(!e)return[""];var t=[],n=Xx("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=om(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function am(e){return"{"+e+"}"}function um(e){return/^-?0\d/.test(e)}function cm(e,t){return e<=t}function lm(e,t){return e>=t}function hm(e,t){var n=[],r=Xx("{","}",e);if(!r)return[e];var i=r.pre,s=r.post.length?hm(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var u,c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),p=l||h,f=r.body.indexOf(",")>=0;if(!p&&!f)return r.post.match(/,.*\}/)?hm(e=r.pre+"{"+r.body+tm+r.post):[e];if(p)u=r.body.split(/\.\./);else if(1===(u=om(r.body)).length&&1===(u=hm(u[0],!1).map(am)).length)return s.map((function(e){return r.pre+u[0]+e}));if(p){var d=im(u[0]),x=im(u[1]),m=Math.max(u[0].length,u[1].length),b=3==u.length?Math.abs(im(u[2])):1,g=cm;x<d&&(b*=-1,g=lm);var y=u.some(um);c=[];for(var v=d;g(v,x);v+=b){var w;if(h)"\\"===(w=String.fromCharCode(v))&&(w="");else if(w=String(v),y){var _=m-w.length;if(_>0){var S=new Array(_+1).join("0");w=v<0?"-"+S+w.slice(1):S+w}}c.push(w)}}else{c=[];for(var E=0;E<u.length;E++)c.push.apply(c,hm(u[E],!1))}for(E=0;E<c.length;E++)for(o=0;o<s.length;o++)a=i+c[E]+s[o],(!t||p||a)&&n.push(a)}return n}var pm=Mf((function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),hm(function(e){return e.split("\\\\").join(Qx).split("\\{").join(em).split("\\}").join(tm).split("\\,").join(nm).split("\\.").join(rm)}(e),!0).map(sm)):[]}));const fm=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},dm={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},xm=e=>e.replace(/[[\]\\-]/g,"\\$&"),mm=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),bm=e=>e.join(""),gm=(e,t)=>{const n=t;if("["!==e.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,o=!1,a=!1,u=!1,c=!1,l=n,h="";e:for(;s<e.length;){const t=e.charAt(s);if("!"!==t&&"^"!==t||s!==n+1){if("]"===t&&o&&!u){l=s+1;break}if(o=!0,"\\"!==t||u){if("["===t&&!u)for(const[t,[o,u,c]]of Object.entries(dm))if(e.startsWith(t,s)){if(h)return["$.",!1,e.length-n,!0];s+=t.length,c?i.push(o):r.push(o),a=a||u;continue e}u=!1,h?(t>h?r.push(xm(h)+"-"+xm(t)):t===h&&r.push(xm(t)),h="",s++):e.startsWith("-]",s+1)?(r.push(xm(t+"-")),s+=2):e.startsWith("-",s+1)?(h=t,s+=2):(r.push(xm(t)),s++)}else u=!0,s++}else c=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!c){const e=2===r[0].length?r[0].slice(-1):r[0];return[mm(e),!1,l-n,!1]}const p="["+(c?"^":"")+bm(r)+"]",f="["+(c?"":"^")+bm(i)+"]";return[r.length&&i.length?"("+p+"|"+f+")":r.length?p:f,a,l-n,!0]},ym=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),vm=new Set(["!","?","+","*","@"]),wm=e=>vm.has(e),_m="(?!\\.)",Sm=new Set(["[","."]),Em=new Set(["..","."]),Am=new Set("().*{}+?[]^$\\!"),Fm=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),km="[^/]",Om=km+"*?",jm=km+"+?";class Lm{type;#x;#m;#b=!1;#g=[];#y;#v;#w;#_=!1;#S;#E;#A=!1;constructor(e,t,n={}){this.type=e,e&&(this.#m=!0),this.#y=t,this.#x=this.#y?this.#y.#x:this,this.#S=this.#x===this?n:this.#x.#S,this.#w=this.#x===this?[]:this.#x.#w,"!"!==e||this.#x.#_||this.#w.push(this),this.#v=this.#y?this.#y.#g.length:0}get hasMagic(){if(void 0!==this.#m)return this.#m;for(const e of this.#g)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#m=!0;return this.#m}toString(){return void 0!==this.#E?this.#E:this.type?this.#E=this.type+"("+this.#g.map((e=>String(e))).join("|")+")":this.#E=this.#g.map((e=>String(e))).join("")}#F(){if(this!==this.#x)throw new Error("should only call on root");if(this.#_)return this;let e;for(this.toString(),this.#_=!0;e=this.#w.pop();){if("!"!==e.type)continue;let t=e,n=t.#y;for(;n;){for(let r=t.#v+1;!n.type&&r<n.#g.length;r++)for(const t of e.#g){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#g[r])}t=n,n=t.#y}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof Lm&&t.#y===this))throw new Error("invalid part: "+t);this.#g.push(t)}}toJSON(){const e=null===this.type?this.#g.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#g.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#x||this.#x.#_&&"!"===this.#y?.type)&&e.push({}),e}isStart(){if(this.#x===this)return!0;if(!this.#y?.isStart())return!1;if(0===this.#v)return!0;const e=this.#y;for(let t=0;t<this.#v;t++){const n=e.#g[t];if(!(n instanceof Lm&&"!"===n.type))return!1}return!0}isEnd(){if(this.#x===this)return!0;if("!"===this.#y?.type)return!0;if(!this.#y?.isEnd())return!1;if(!this.type)return this.#y?.isEnd();const e=this.#y?this.#y.#g.length:0;return this.#v===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new Lm(this.type,e);for(const e of this.#g)t.copyIn(e);return t}static#k(e,t,n,r){let i=!1,s=!1,o=-1,a=!1;if(null===t.type){let u=n,c="";for(;u<e.length;){const n=e.charAt(u++);if(i||"\\"===n)i=!i,c+=n;else if(s)u===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||u===o+2&&a||(s=!1),c+=n;else if("["!==n)if(r.noext||!wm(n)||"("!==e.charAt(u))c+=n;else{t.push(c),c="";const i=new Lm(n,t);u=Lm.#k(e,i,u,r),t.push(i)}else s=!0,o=u,a=!1,c+=n}return t.push(c),u}let u=n+1,c=new Lm(null,t);const l=[];let h="";for(;u<e.length;){const n=e.charAt(u++);if(i||"\\"===n)i=!i,h+=n;else if(s)u===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||u===o+2&&a||(s=!1),h+=n;else if("["!==n)if(wm(n)&&"("===e.charAt(u)){c.push(h),h="";const t=new Lm(n,c);c.push(t),u=Lm.#k(e,t,u,r)}else if("|"!==n){if(")"===n)return""===h&&0===t.#g.length&&(t.#A=!0),c.push(h),h="",t.push(...l,c),u;h+=n}else c.push(h),h="",l.push(c),c=new Lm(null,t);else s=!0,o=u,a=!1,h+=n}return t.type=null,t.#m=void 0,t.#g=[e.substring(n-1)],u}static fromGlob(e,t={}){const n=new Lm(null,void 0,t);return Lm.#k(e,n,0,t),n}toMMPattern(){if(this!==this.#x)return this.#x.toMMPattern();const e=this.toString(),[t,n,r,i]=this.toRegExpSource();if(!(r||this.#m||this.#S.nocase&&!this.#S.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const s=(this.#S.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#S.dot;if(this.#x===this&&this.#F(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#g.map((t=>{const[r,i,s,o]="string"==typeof t?Lm.#O(t,this.#m,n):t.toRegExpSource(e);return this.#m=this.#m||s,this.#b=this.#b||o,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#g[0]&&(1!==this.#g.length||!Em.has(this.#g[0]))){const n=Sm,s=t&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),o=!t&&!e&&n.has(r.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?_m:""}let s="";return this.isEnd()&&this.#x.#_&&"!"===this.#y?.type&&(s="(?:$|\\/)"),[i+r+s,ym(r),this.#m=!!this.#m,this.#b]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#j(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#g=[e],this.type=null,this.#m=void 0,[e,ym(this.toString()),!1,!1]}let s=!n||e||t?"":this.#j(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";return o="!"===this.type&&this.#A?(this.isStart()&&!t?_m:"")+jm:r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":_m)+Om+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`),[o,ym(i),this.#m=!!this.#m,this.#b]}#j(e){return this.#g.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,r,i,s]=t.toRegExpSource(e);return this.#b=this.#b||s,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#O(e,t,n=!1){let r=!1,i="",s=!1;for(let o=0;o<e.length;o++){const a=e.charAt(o);if(r)r=!1,i+=(Am.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,r,a,u]=gm(e,o);if(a){i+=n,s=s||r,o+=a-1,t=t||u;continue}}"*"!==a?"?"!==a?i+=Fm(a):(i+=km,t=!0):(i+=n&&"*"===e?jm:Om,t=!0)}else o===e.length-1?i+="\\\\":r=!0}return[i,ym(e),!!t,s]}}const Tm=(e,t,n={})=>(fm(t),!(!n.nocomment&&"#"===t.charAt(0))&&new rb(t,n).match(e)),Cm=/^\*+([^+@!?\*\[\(]*)$/,Pm=e=>t=>!t.startsWith(".")&&t.endsWith(e),Mm=e=>t=>t.endsWith(e),Im=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Nm=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),zm=/^\*+\.\*+$/,Bm=e=>!e.startsWith(".")&&e.includes("."),Dm=e=>"."!==e&&".."!==e&&e.includes("."),Wm=/^\.\*+$/,Rm=e=>"."!==e&&".."!==e&&e.startsWith("."),$m=/^\*+$/,Um=e=>0!==e.length&&!e.startsWith("."),Vm=e=>0!==e.length&&"."!==e&&".."!==e,qm=/^\?+([^+@!?\*\[\(]*)?$/,Gm=([e,t=""])=>{const n=Zm([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},Hm=([e,t=""])=>{const n=Km([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},Jm=([e,t=""])=>{const n=Km([e]);return t?e=>n(e)&&e.endsWith(t):n},Ym=([e,t=""])=>{const n=Zm([e]);return t?e=>n(e)&&e.endsWith(t):n},Zm=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},Km=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},Xm="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";Tm.sep="win32"===Xm?"\\":"/";const Qm=Symbol("globstar **");Tm.GLOBSTAR=Qm,Tm.filter=(e,t={})=>n=>Tm(n,e,t);const eb=(e,t={})=>Object.assign({},e,t);Tm.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return Tm;const t=Tm;return Object.assign(((n,r,i={})=>t(n,r,eb(e,i))),{Minimatch:class extends t.Minimatch{constructor(t,n={}){super(t,eb(e,n))}static defaults(n){return t.defaults(eb(e,n)).Minimatch}},AST:class extends t.AST{constructor(t,n,r={}){super(t,n,eb(e,r))}static fromGlob(n,r={}){return t.AST.fromGlob(n,eb(e,r))}},unescape:(n,r={})=>t.unescape(n,eb(e,r)),escape:(n,r={})=>t.escape(n,eb(e,r)),filter:(n,r={})=>t.filter(n,eb(e,r)),defaults:n=>t.defaults(eb(e,n)),makeRe:(n,r={})=>t.makeRe(n,eb(e,r)),braceExpand:(n,r={})=>t.braceExpand(n,eb(e,r)),match:(n,r,i={})=>t.match(n,r,eb(e,i)),sep:t.sep,GLOBSTAR:Qm})};const tb=(e,t={})=>(fm(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:pm(e));Tm.braceExpand=tb,Tm.makeRe=(e,t={})=>new rb(e,t).makeRe(),Tm.match=(e,t,n={})=>{const r=new rb(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};const nb=/[?*]|[+@!]\(.*?\)|\[|\]/;class rb{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){fm(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||Xm,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&nb.test(e[2])||nb.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const r=e[n];1===n&&""===r&&""===e[0]||"."!==r&&""!==r||(t=!0,e.splice(n,1),n--)}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let s=n[r+1];const o=n[r+2],a=n[r+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,n.splice(r,1);const u=n.slice(0);u[r]="**",e.push(u),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const r=n[e];1===e&&""===r&&""===n[0]||"."!==r&&""!==r||(t=!0,n.splice(e,1),e--)}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const e=n[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...e),0===n.length&&n.push(""),i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);r&&(e[t]=r,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let r=0,i=0,s=[],o="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])s.push("b"===o?t[i]:e[r]),r++,i++;else if(n&&"**"===e[r]&&t[i]===e[r+1])s.push(e[r]),r++;else if(n&&"**"===t[i]&&e[r]===t[i+1])s.push(t[i]),i++;else if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i]){if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===o)return!1;o="b",s.push(t[i]),r++,i++}else{if("b"===o)return!1;o="a",s.push(e[r]),r++,i++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){const r=this.options;if(this.isWindows){const n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=r?3:n?0:void 0,o=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[n,r]=[e[s],t[o]];n.toLowerCase()===r.toLowerCase()&&(t[o]=n,o>s?t=t.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,u=t.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=t[o],l=e[s];if(this.debug(t,c,l),!1===c)return!1;if(c===Qm){this.debug("GLOBSTAR",[t,c,l]);var h=s,p=o+1;if(p===u){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}let i;if("string"==typeof c?(i=l===c,this.debug("string match",c,l,i)):(i=c.test(l),this.debug("pattern match",c,l,i)),!i)return!1}if(s===a&&o===u)return!0;if(s===a)return n;if(o===u)return s===a-1&&""===e[s];throw new Error("wtf?")}braceExpand(){return tb(this.pattern,this.options)}parse(e){fm(e);const t=this.options;if("**"===e)return Qm;if(""===e)return"";let n,r=null;(n=e.match($m))?r=t.dot?Vm:Um:(n=e.match(Cm))?r=(t.nocase?t.dot?Nm:Im:t.dot?Mm:Pm)(n[1]):(n=e.match(qm))?r=(t.nocase?t.dot?Hm:Gm:t.dot?Jm:Ym)(n):(n=e.match(zm))?r=t.dot?Dm:Bm:(n=e.match(Wm))&&(r=Rm);const i=Lm.fromGlob(e,this.options).toMMPattern();return r?Object.assign(i,{test:r}):i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(t.nocase?["i"]:[]);let i=e.map((e=>{const t=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))r.add(t);return"string"==typeof e?(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(e):e===Qm?Qm:e._src}));return t.forEach(((e,r)=>{const i=t[r+1],s=t[r-1];e===Qm&&s!==Qm&&(void 0===s?void 0!==i&&i!==Qm?t[r+1]="(?:\\/|"+n+"\\/)?"+i:t[r]=n:void 0===i?t[r-1]=s+"(?:\\/|"+n+")?":i!==Qm&&(t[r-1]=s+"(?:\\/|\\/"+n+"\\/)"+i,t[r+1]=Qm))})),t.filter((e=>e!==Qm)).join("/")})).join("|");const[s,o]=e.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let s=r[r.length-1];if(!s)for(let e=r.length-2;!s&&e>=0;e--)s=r[e];for(let e=0;e<i.length;e++){const o=i[e];let a=r;if(n.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return Tm.defaults(e).Minimatch}}Tm.AST=Lm,Tm.Minimatch=rb,Tm.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),Tm.unescape=ym;var ib=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};ib.now||ib.mozNow||ib.msNow||ib.oNow||ib.webkitNow;const sb=ub(!1),ob=ub(!0);sb.win32=ob,ob.posix=sb;var ab=sb;function ub(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}ab.posix=ab;const{dirname:cb,isAbsolute:lb,root:hb,basename:pb,extname:fb,resolve:db,join:xb,normalize:mb}=ab;var bb=If(Object.freeze({__proto__:null,basename:pb,default:ab,dirname:cb,extname:fb,isAbsolute:lb,join:xb,normalize:mb,posix:ab,resolve:db,root:hb,win32:ab})),gb=If(Object.freeze({__proto__:null,platform:function(){return"browser"}}));bb.posix.dirname,gb.platform();const yb={defer:ap,firstValueFrom:tp,from:Yh,filter:fp,map:np,mergeMap:rp,toArray:yp,of:Zh,concatMap:vp};function vb(e,t={}){yl(t)&&(t={cwd:t});let n,{cwd:r="/",list:i=!1,recursive:s=i,trimPath:o=!0}=t;if(e.list||e.readdir){const s=(i?e.list:e.readdir)?.bind(e);i&&!e.list&&e.readdir?(t.recursive=!0,n=yb.from(e.readdir(r,t)).pipe(yb.mergeMap((n=>Sb(e,n,t))))):n=yb.defer((()=>s(r,t))).pipe(yb.concatMap((e=>Array.isArray(e)?e:yb.of(e))))}else if(function(e){return e.sub&&e.batch&&e.createHistoryStream}(e)){const{range:a,limit:u,reverse:c}=t,l=e.snapshot();n=yb.from(l.createReadStream(a,{limit:u,reverse:c})).pipe(yb.map((e=>i?e:e.key)),yb.filter((e=>{let t=i?e.key:e;if(t=o?_l(t,"./"):t,vl(t,r?r+"/":"")){const e=r?.length||0;return!!s||t.slice(e>0?e+1:0).split("/").length<=1}return!1})))}return n}var wb=(e=>(e.Export="exports",e.Import="imports",e))(wb||{});const _b={firstValueFrom:tp,from:Yh,defaultIfEmpty:Sp,filter:fp,map:np,mergeMap:rp,take:Ep};function Sb(e,t,n={}){const{cwd:r="/",entrySelector:i=Eb}=n;return Sl(t)||El(t)?El(t)||(t=Ex.resolve(t,r)):t=function(e,t="/"){return(t||"")+wl(e,t)}(t),_b.from(i(e,t,n)).pipe(_b.filter((e=>!!e)),_b.mergeMap((n=>Px(e,t).pipe(_b.map((e=>({key:t,...n,...e})))))))}async function Eb(e,t,n){const r=e.get?.bind(e),i=e.entry?.bind(e);let s={};if(r||i){const e=await(i||r)(t,n);return e?(i?(s=e,s.size=e?.value?.blob?.byteLength||0):(s.value={},s.value.blob={},s.value.blob.byteLength=gx.from(e)?.byteLength||0,s.value.blob.byteOffset=0,s.value.executable=!1,s.value.metadata=null,s.size=s.value.blob.byteLength||0),s):{}}return s}const Ab=bx;var Fb=kb;function kb(e,t){if("object"==typeof e&&e)return function(e){return!!(e.encode&&e.decode&&e.preencode)}(e)?function(e){return{name:"compact-encoding",encode:function(t){const n={start:0,end:0,buffer:null,cache:null};return e.preencode(n,t),n.buffer=Ab.allocUnsafe(n.end),e.encode(n,t),n.buffer},decode:function(t){return e.decode({start:0,end:t.byteLength,buffer:t,cache:null})}}}(e):e;switch(e){case"ndjson":return kb.ndjson;case"json":return kb.json;case"ascii":return kb.ascii;case"utf-8":case"utf8":return kb.utf8;case"hex":return kb.hex;case"base64":return kb.base64;case"ucs-2":case"ucs2":return kb.ucs2;case"utf16-le":case"utf16le":return kb.utf16le}return void 0!==t?t:kb.binary}function Ob(e){return{name:e?"ndjson":"json",encode:e?function(e){return Ab.from(JSON.stringify(e)+"\n")}:function(e){return Ab.from(JSON.stringify(e))},decode:function(e){return JSON.parse(Ab.toString(e))}}}function jb(e){return{name:e,encode:function(t){return"string"!=typeof t&&(t=t.toString()),Ab.from(t,e)},decode:function(t){return Ab.toString(t,e)}}}let Lb,Tb;function Cb(e){Tb||=e}kb.ascii=jb("ascii"),kb.utf8=jb("utf-8"),kb.hex=jb("hex"),kb.base64=jb("base64"),kb.ucs2=jb("ucs2"),kb.utf16le=jb("utf16le"),kb.ndjson=Ob(!0),kb.json=Ob(!1),kb.binary={name:"binary",encode:function(e){return"string"==typeof e?Ab.from(e,"utf-8"):Ab.toBuffer(e)},decode:function(e){return Ab.toBuffer(e)}},Mf(Fb);const Pb=P();function Mb(e,t={}){return Pb.createScope().register({source:y(e),state:y(t)})}function Ib(e,t={}){return Mb(e,t).cradle}Pb.register({extensions:v((()=>e=>e)).scoped(),install:v((({factory:e})=>(t,n)=>Promise.resolve().then((async()=>{let r;if(Tb||await async function(e="https://cdn.jsdelivr.net/npm/bring-your-own-storage-utilities@0.0.1202/dist/deploy.min.js/+esm"){if(Lb&&await Lb,Tb)return Tb;Lb=import(e).then((e=>{Tb=e.pack,Lb=void 0})),await Lb}("undefined"==typeof window?"../deploy/pack.js":void 0),n&&(r=await n.get(t)),!r){const i={};t||(t="source"),(i.plugins||=[]).unshift(function(e,t={}){const{keyValueMode:n=!0}=t;return{async resolveId(t,r){if(t.indexOf("\0")>-1)return null;const{success:i,id:s}=await wc({get:async t=>lc(e,t)},t,r,{detailed:!0,keyValueMode:n});return i?s:void 0},load(t){if(e[t])return e[t]}}}({[t]:await(e?.()||e)})),i.plugins.push(tl());const s=await Tb(t,i);({code:r}=s),n&&await n.put(t,r)}try{if(r){const e=await Jc(r),t=Mb(e);return e.extensions&&await e.extensions(t,{asFunction:v,asValue:y,aliasTo:_,asClass:w}),t.cradle}return!1}catch(e){}return!1})))).scoped(),factory:v((({source:e})=>N(e.factory)?()=>e.factory:ju(e.factory)?Promise.resolve(e.factory()):null)),id:v((({source:e,ready:t})=>e.id?e.id:null)).scoped(),open:v((({source:e})=>e.open?e.open.bind(e):()=>Promise.resolve())).scoped(),get:v((({source:e,open:t})=>e.get?async(n,r)=>(t&&await t(n,r),function(e,t,n={}){return At(Za(e,t,n))}(e,n,r)):null)).scoped(),get$:v((({source:e,get:t})=>e.get$?e.get$.bind(e):t?(t,n)=>Za(e,t,n):void 0)).scoped(),entry:v((({source:e})=>(t,n)=>function(e,t,n={}){return _b.firstValueFrom(Sb(e,t,n).pipe(_b.take(1),_b.defaultIfEmpty({})))}(e,t,n))).scoped(),createReadStream:v((({source:e})=>{if(e.createReadStream||e.get)return hs.bind(null,e)})).scoped(),createReadStream$:v((({source:e})=>e.createReadStream$?e.createReadStream$.bind(e):e.createReadStream||e.get?ls.bind(null,e):void 0)).scoped(),randomAccess:v((({ready:e,createReadStream$:t,get:n,put:r,exists:i,entry:s,state:o,readable:a,writable:u})=>(i,o={})=>{cs.isBuffer(o)&&(o={buffer:o});const{readable:c=a,writable:l=u,directory:h,buffer:p,truncate:f=!1,size:d=p?.length||0,offset:x=0,...m}=o;return h&&(i=ms.join(h,ms.resolve("/",filename).replace(/^\w+:\\/,""))),new gl({async open(t){await e();const a=await s(i,o);if(a.isFolder)return t.callback(new Error("Cannot do file ops on a directory."));if(u&&x+d>0){let e;if(a.size){let t=[await n(i,o)];f&&a.size<x+d?t.push(cs.alloc(x+d-a.size)):f&&a.size>x+d&&(t[0]=cs.from(t[0].slice(0,x+d))),e=1===t.length?t[0]:cs.concat(t)}else e=cs.alloc(x+d);return cs.isBuffer(p)&&cs.copy(p,e,x,0,x+d),await r(i,e,m),t.callback(null)}a.size&&a.isFile?t.callback(null):t.callback(new Error("File does not exist"))},async stat(e){try{const t=(await n(i))?.length||0;e.callback(null,{size:t})}catch(t){e.callback(t)}},async close(e){setTimeout((()=>e.callback(null)),0)},...c?{async read(e){try{this.stat((async(n,{size:r})=>{if(n)return e.callback(n,null);if(r<e.offset+e.size){const t=new Error("Could not satisfy length");return t.code="ENOENT",e.callback(t,null)}const s=await At(t(i,{...m,start:e.offset,length:e.size}).pipe(Gt())),o=cs.from(cs.concat(s));e.callback(null,o)}))}catch(t){e.callback(t)}}}:{},...l?{async write(e){if(!r)return e.callback(new Error("Source does not support put/write."));try{const t=await n(i,m);if(!t)return e.callback(new Error("File doesn't exist"));cs.copy(e.data,t,e.offset,0,t.length),await r(i,t,m),e.callback(null)}catch(t){e.callback(t)}},async truncate(e){if(!r)return e.callback(new Error("Source does not support truncate"));try{const t=await n(i,m);if(t.length===e.offset)return e.callback(null);e.offset>t.length?await r(i,cs.from(cs.concat([t,cs.alloc(e.offset-t.length)])),m):await r(i,t.slice(0,e.offset),m),e.callback(null)}catch(t){e.callback(t)}},async del(e){if(!r)throw new Error("Source does not support del");try{this.stat((async(t,{size:s})=>{if(e.offset+e.size>s)return this.truncate(e);const o=await n(i,m);cs.fill(o,"\0",e.offset,e.offset+e.size),await r(i,o,m),e.callback(null)}))}catch(t){e.callback(t)}}}:{}})})),put:v((({source:e})=>{if(e.put)return(t,n,r)=>function(e,t,n,r){return At(Ka(e,t,n,r).pipe(Zt(null)))}(e,t,n,r)})).scoped(),put$:v((({source:e,put:t})=>e.put$?e.put$.bind(e):t?(t,n,r)=>Ka(e,t,n,r):void 0)),del:v((({source:e})=>{if(e.del)return t=>e.del(t)})).scoped(),append:v((({source:e})=>{if(e.append)return(t,n)=>Xa(e,t,n)})).scoped(),length:v((({source:e})=>{if(e.length||0===e.length)return function(e){return e.length}(e)})).transient(),ready:v((({source:e})=>t=>Qa(e,t))).scoped(),exists:v((({get:e,source:t})=>{if(t.exists||e)return t.exists?.bind(t)||(async(t,n)=>!!await e(t,n))})).scoped(),readdir:v((({source:e})=>{if(e.readdir)return(t,n={})=>async function(e,t={}){return _a.firstValueFrom(Sa(e,t).pipe(Ht((e=>Array.isArray(e)?e:vt(e))),_a.toArray()))}(e,{cwd:t,...n})})).scoped(),readdir$:v((({source:e})=>e.readdir$?e.readdir$.bind(e):e.readdir||e.list?Sa.bind(null,e):void 0)).scoped(),list:v((({exists:e,source:t,entry:n,get:r})=>{if(t.list||t.readdir)return Ua.bind(null,{exists:e,list:t.list?.bind(t),readdir:t.readdir?.bind(t),get:r,entry:n})})).scoped(),list$:v((({source:e,ready:t})=>e.list$?e.list$.bind(null):e.list||e.readdir?$a.bind(null,e):void 0)),readable:v((({source:e,get:t})=>"function"==typeof e.readable?e.readable():e.readable||!!t)).scoped(),writable:v((({source:e,put:t})=>"function"==typeof e.writable?e.writable():e.writable||!!t)).scoped(),appendable:v((({source:e,append:t})=>"function"==typeof e.appendable?e.appendable():e.appendable||!!t)).scoped()});const Nb=Ib({factory:'\n    import {Readable} from "streamx";\n    import {coercePathAbsolute} from "bring-your-own-storage-utilities@latest/lib/find/coercePathAbsolute.js";\n    import codec from "codecs";\n    let collection;\n    let defaultRandomAccess;\n    \n    function isRandomAccessCompatible(ras) {\n        return ras.read && ras.write && ras.del\n    }\n\n    export function extensions(container, {asFunction}) {\n        return container.register({\n            setDefault: asFunction(() => {\n                return (RAS) => {\n                    defaultRandomAccess = RAS;\n                }\n            }),\n            setCollection: asFunction(() => {\n                return coll => collection ||= coll\n            })\n        });\n    }\n    \n    export async function put(name, ras, config = {}) {\n        const {\n            overwrite = false,\n        } = config;\n        if (!collection) collection = {};\n        if (!overwrite && !!collection[name]) {\n            throw new Error("Cannot overwrite file. Set config.overwrite=true if you want files over-writable.");\n        }\n        if (!isRandomAccessCompatible(ras) && !defaultRandomAccess) {\n            throw new Error("RandomAccessCollection.put(name, !!ras!!, config): either RandomAccessCollection.setDefault(!!RASClass!!) or pass a random access instance at !!ras!! ");\n        } else if (!isRandomAccessCompatible(ras)) {\n            ras = await Promise.resolve(defaultRandomAccess(name, ras, config));\n        }\n        if (!isRandomAccessCompatible(ras)) throw new Error("RandomAccessCollection.put(name, !!ras!!, config): !!ras!! is not RandomAccessCompatible.");\n        collection[name] = ras;\n    }\n\n    export async function get(name, config = {}) {\n        const ras = _get(name);\n        return _readAll(ras, config);\n    }\n    \n    export async function exists(name) {\n        return _exists(_get(name))\n    }\n    \n    export function readdir(fromPath, config = {}) {\n        if (typeof fromPath === "object") {\n                config = fromPath;\n                fromPath = config.cwd || "/";\n            }\n\n            let {\n                cwd = fromPath,\n                recursive = false\n            } = config;\n\n            if (!cwd.endsWith("/")) {\n                cwd = config.cwd += "/";\n            }\n\n            const readable = new Readable();\n            const cwdParts = coercePathAbsolute(cwd).split("/");\n            try {\n                return readable;\n            } finally {\n                const cache = new Set();\n\n                Object.keys(collection).forEach(key => {\n                    key = coercePathAbsolute(key);\n                    if (recursive) return readable.push(cache[key] = key);\n                    const keyParts = (key || "/").split("/");\n                    const scoped = keyParts[cwdParts.length - 1];\n                    if (scoped && !cache.has(scoped)) {\n                        cache.add(scoped);\n                        readable.push(scoped);\n                    }\n                });\n\n                readable.push(null);\n            }\n    }\n    \n    function _get(file) {\n        return Object.entries(collection).find(([fileName]) => {\n            return coercePathAbsolute(file) === coercePathAbsolute(fileName);\n        })?.[1];\n    }\n    \n    function _exists(ras) {\n        return new Promise((resolve) => {\n            if (!ras) return resolve(false);\n            ras.stat((e, result) => e ? resolve(false) : resolve(!!result && !!result.size))\n        });\n    }\n    \n    function _readAll(ras, config) {\n        if (!ras) {\n            const e = new Error("File doesn\'t exist.");\n            e.status = "ENOENT";\n            return Promise.reject(e);\n        }\n        let {\n            // To be compat with other tools that use valueEncoding.\n            valueEncoding = "binary",\n            encoding = valueEncoding\n        } = config;\n    \n        return new Promise(\n            (resolve, reject) => {\n                ras.stat((e, stat) => {\n                    if (e) return reject(e);\n                    ras.read(0, stat.size, (e, buffer) => {\n                        if (e) return reject(e);\n                        resolve(encoding ? codec(encoding).decode(buffer) : buffer);\n                    })\n                });\n            }\n        )\n    }\n\n'});export{Nb as RandomAccessCollection,Ib as iSource,Tb as pack,Cb as setPack};
