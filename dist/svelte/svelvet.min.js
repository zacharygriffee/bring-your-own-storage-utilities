function e(){const e=new Map,{subscribe:t,set:n,update:l}=SvelteStore.writable(e);return{subscribe:t,set:n,update:l,add:(t,n)=>(l((e=>(e.set(n,t),e))),e),get:t=>e.get(t)||null,getAll:()=>Array.from(e.values()),delete:e=>{let t=!1;return l((n=>(n.delete(e),t=!0,n))),t},count:()=>e.size}}function t(t){const{id:n,inputs:l,outputs:r,resizable:o,dimensions:a,editable:s,direction:i,zIndex:c,position:v,selectionColor:d,borderWidth:S,edge:u}=t,{bgColor:p,borderColor:I,rotation:h,borderRadius:g,connections:m,textColor:f,locked:_,group:$}=t,b=e();return{id:"string"==typeof n&&"N-"===n.slice(0,2)?n:`N-${n}`,position:SvelteStore.writable({x:v?.x||0,y:v?.y||0}),dimensions:{width:SvelteStore.writable(a?.width||0),height:SvelteStore.writable(a?.height||a?.width)},group:SvelteStore.writable($||null),locked:SvelteStore.writable(_||!1),inputs:SvelteStore.writable(l),outputs:SvelteStore.writable(r),recalculateAnchors:(e="self")=>{SvelteStore.get(b).forEach((t=>{"self"!==e&&SvelteStore.get(t.direction)!==e||t.recalculatePosition()}))},rotation:SvelteStore.writable(h||0),moving:SvelteStore.writable(!1),resizingWidth:SvelteStore.writable(!1),resizingHeight:SvelteStore.writable(!1),rotating:SvelteStore.writable(!1),editable:SvelteStore.writable(s||!1),resizable:SvelteStore.writable(o),anchors:b,zIndex:SvelteStore.writable(c||2),collapsed:SvelteStore.writable(!1),edge:u||null,borderRadius:SvelteStore.writable(g),bgColor:SvelteStore.writable(p||null),direction:SvelteStore.writable(i),label:SvelteStore.writable(t.label||""),borderColor:SvelteStore.writable(I||null),borderWidth:SvelteStore.writable(S),selectionColor:SvelteStore.writable(d||null),textColor:SvelteStore.writable(f||null),connections:SvelteStore.writable(m)}}const n=10,l=100,r=50,o="#000",a="#fff",s="12px",i=22,c=1.4;function v(e,t,i){const{source:c,target:v}=e,d={id:c.id&&v.id?function(e,t){const n=[e,t].sort();return`${n[0]}+${n[1]}`}(c.id,v.id):"cursor",target:e.target,source:e.source,component:t,type:SvelteStore.writable(i?.type||null),color:i?.color||SvelteStore.writable(null),width:SvelteStore.writable(i?.width||0),animated:SvelteStore.writable(i?.animated||!1),rendered:SvelteStore.writable(!1),start:i?.start||null,end:i?.end||null};if(i?.disconnect&&(d.disconnect=!0),i?.label){const e={text:SvelteStore.writable(i?.label.text),color:SvelteStore.writable(i?.label?.color||o),textColor:SvelteStore.writable(i?.label?.textColor||a),fontSize:SvelteStore.writable(i?.label?.fontSize||s),dimensions:{width:SvelteStore.writable(i?.label.dimensions?.width||l),height:SvelteStore.writable(i?.label.dimensions?.height||r)},borderRadius:SvelteStore.writable(i?.label.borderRadius||n)};d.label=e}return d}function d(){const e=new Map,t=new Set,{subscribe:n,set:l,update:r}=SvelteStore.writable(e),o={subscribe:n,set:l,update:r,add:(e,n)=>{if("string"!=typeof n){const l=Array.from(n),r=l[0],a=l[1];if(r.connected.update((e=>e.add(a))),a.connected.update((e=>e.add(r))),o.match(...Array.from(n)).length)return;t.forEach((t=>t(e,"connection")))}r((t=>(t.set(n,e),t)))},getAll:()=>Array.from(e.values()),get:t=>e.get(t)||null,match:(...t)=>Array.from(e.keys()).filter((e=>"cursor"!==e&&t.every((t=>!t||e.has(t))))),fetch:(t,n)=>{const l=Array.from(e.keys()).filter((e=>"cursor"!==e&&[t,n].every((t=>!t||e.has(t)))))[0];return e.get(l)||null},delete:e=>{if("string"!=typeof e){const t=Array.from(e),n=t[0],l=t[1];n.connected.update((e=>(e.delete(l),e))),l.connected.update((e=>(e.delete(n),e)))}let n=!1;return r((l=>{const r=l.get(e);return r?(l.delete(e),n=!0,"string"!=typeof e&&t.forEach((e=>e(r,"disconnection"))),l):l})),n},onEdgeChange:e=>(t.add(e),()=>t.delete(e)),count:()=>e.size};return o}const S=SvelteStore.writable({x:0,y:0}),u=SvelteStore.writable(0),p=SvelteStore.writable(!1),I=SvelteStore.writable(!1),h=SvelteStore.readable({x:0,y:0},(e=>{const t=t=>{e({x:t.clientX,y:t.clientY})},n=t=>{if(2===t.touches.length){const n=function(e,t){const n=e.clientX-t.clientX,l=e.clientY-t.clientY;return Math.sqrt(n*n+l*l)}(t.touches[0],t.touches[1]);u.set(n);const l={x:t.touches[0].clientX,y:t.touches[0].clientY};e(l)}else if(1===t.touches.length){const n=t.touches[0].clientX,l=t.touches[0].clientY;e({x:n,y:l}),p.set(!0)}},l=e=>{n(e),window.addEventListener("touchend",r),window.addEventListener("touchmove",n)},r=()=>{p.set(!1),u.set(0),window.removeEventListener("touchmove",n)};return document.addEventListener("mousemove",t),window.addEventListener("touchstart",l,!0),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchstart",l),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",r)}})),g=(e,t,n,l,r,o,a)=>{const{clientX:s,clientY:i}=e,c=o,v=i-t;return{x:(s-n-a.x-l*(1-o)/2)/c,y:(v-a.y-r*(1-o)/2)/c}};function m(e,t,n,l){return SvelteStore.derived([e,t,n,l],(([e,t,n,l])=>{const r={clientX:e.x,clientY:e.y};return g(r,t.top,t.left,t.width,t.height,l,n)}))}function f(e,t,n){const{width:l,height:r,top:o,left:a}=e;return g({clientX:l/2,clientY:r/2},o,a,l,r,n,t)}function _(t,n){const{zoom:l,editable:r,translation:o,direction:a,locked:s,edge:i}=n,c=SvelteStore.writable({x:o?.x||0,y:o?.y||0}),v=SvelteStore.writable({top:0,left:0,width:0,height:0,bottom:0,right:0}),S=SvelteStore.writable(l),u=SvelteStore.writable(!1),_=e(),$=function(e,t,n,l){const r=SvelteStore.writable({top:1/0,left:1/0,right:-1/0,bottom:-1/0}),o=SvelteStore.writable({top:1/0,left:1/0,right:-1/0,bottom:-1/0});let a,s=SvelteStore.get(t),i=SvelteStore.get(n),c=SvelteStore.get(l),v=s.width/i,d=s.height/i;function S(){const{x:e,y:t}=g({clientX:s.left,clientY:s.top},s.top,s.left,s.width,s.height,i,c),n=SvelteStore.get(o);r.set({top:Math.min(n.top,t),left:Math.min(n.left,e),right:Math.max(n.right,e+v),bottom:Math.max(n.bottom,d+t)})}function u(t=!1){let n=1/0,l=1/0,r=-1/0,s=-1/0;for(const t of e.getAll()){const{x:e,y:o}=SvelteStore.get(t.position),a=SvelteStore.get(t.dimensions.width),i=SvelteStore.get(t.dimensions.height);l=Math.min(l,e),n=Math.min(n,o),r=Math.max(r,e+a),s=Math.max(s,o+i)}o.set({top:n,left:l,right:r,bottom:s}),S(),t&&(a=requestAnimationFrame((()=>u(t))))}return e.subscribe((()=>{u()})),I.subscribe((e=>{e&&u(e),e||cancelAnimationFrame(a)})),p.subscribe((e=>{e&&u(e),e||cancelAnimationFrame(a)})),t.subscribe((()=>{s=SvelteStore.get(t),v=s.width/i,d=s.height/i,S()})),n.subscribe((()=>{i=SvelteStore.get(n),v=s.width/i,d=s.height/i,S()})),l.subscribe((()=>{c=SvelteStore.get(l),S()})),{graphBounds:r,nodeBounds:o}}(_,v,S,c),b=SvelteStore.derived([v,c,S],(([e,t,n])=>f(e,t,n)));return{id:t,nodes:_,edges:d(),transforms:{translation:c,scale:S},maxZIndex:SvelteStore.writable(2),dimensions:v,bounds:$,center:b,mounted:u,direction:a||"LR",editable:r||!1,edge:i||null,editing:SvelteStore.writable(null),cursor:m(h,v,c,S),locked:SvelteStore.writable(s||!1),groups:SvelteStore.writable({selected:{parent:SvelteStore.writable(null),nodes:SvelteStore.writable(new Set)},hidden:{parent:SvelteStore.writable(null),nodes:SvelteStore.writable(new Set)}}),groupBoxes:e(),activeGroup:SvelteStore.writable(null),initialNodePositions:SvelteStore.writable([])}}function $(e,t){const n=SvelteStore.writable(),l=()=>{const l=SvelteStore.get(e),r={};for(const e in l)r[e]=SvelteStore.get(l[e]);n.set(t(r))},r=[],o=e.subscribe((e=>{r.forEach((e=>e())),r.length=0,(e=>{for(const t in e)e[t].subscribe((()=>{l()}))})(e)}));return{subscribe:n.subscribe,unsubscribe:()=>{o(),r.forEach((e=>e()))},set:null,update:null}}function b(e){const t={};for(const n in e)t[n]=SvelteStore.writable(e[n]);return SvelteStore.writable(t)}function x(e){const t=e.style.width,n=e.style.height;e.style.width="fit-content",e.style.height="fit-content";const l=e.offsetWidth,r=e.offsetHeight;return e.style.width=t,e.style.height=n,[l,r]}function y(e,t,n,l,r){const o={x:0,y:0},a=l.x-r.left-r.width/2,s=l.y-r.top-r.height/2,i=(a-n.x)/e,c=(s-n.y)/e;return o.x=a-i*t,o.y=s-c*t,o}const w=3,k=.1;function C(e,t,n){const l=e-t*n;return Number(Math.max(k,Math.min(w,l)).toFixed(9))}function q(e,t,n){const l=[],r=t.x-e.x,o=t.y-e.y,a=(s=e.direction,i=t.direction,s.x===i.x&&s.y===i.y);var s,i;const c=0===function(e,t){return e.x*t.x+e.y*t.y}(e.direction,t.direction),v=function(e,t){const{x:n,y:l}=e.direction,{x:r,y:o}=t.direction,a=t.x-e.x,s=t.y-e.y;return n*o!=r*l&&Math.sign(s)===Math.sign(l+o)!=(Math.sign(a)===Math.sign(n+r))}(e,t),d=z(e.direction,-1,-1),S=z(t.direction,-1,-1),u={x:Math.abs(e.direction.y),y:Math.abs(e.direction.x)},p=z(e.direction,r-n*e.direction.x*(c?1:a?0:2),o-n*e.direction.y*(c?1:a?0:2)),I=z(t.direction,r+n*t.direction.x*(c?1:a?0:2),o+n*t.direction.y*(c?1:a?0:2)),h=-1===Math.sign(p.x)||-1===Math.sign(p.y),g=1===Math.sign(I.x)||1===Math.sign(I.y),m=Math.abs(r),f=Math.abs(o),_=z(e.direction,n,n),$=z(S,n,n),b=z(t.direction,n,n),x=z(e.direction,m,f),y=z(S,m,f),w=z(e.direction,m/2,f/2),k=z(S,m/2,f/2),C=z(u,r,o),q=!v&&!g&&!h,M=e.x+_.x,N=e.y+_.y,E=t.x+b.x,A=t.y+b.y;if(h&&l.push(_),!v||g||h){if(a)h||l.push(z(e.direction,n+m,n+f)),l.push(C),g||l.push(z(S,n+m,n+f));else if(q)l.push(w),l.push(C),l.push(k);else if(h&&g)if(c){const e=Math.abs(M-E),a=Math.abs(N-A);l.push(z(t.direction,m<2*n?t.direction.x*(r+t.direction.x*n):m+n,f<2*n?t.direction.y*(o+t.direction.y*n):f+n)),l.push(z(d,e,a))}else{const e=Math.abs(M-E),n=Math.abs(N-A);l.push(z(u,r/2,o/2)),l.push(z(t.direction,e,n)),l.push(z(u,r/2,o/2))}else if(h){const e=Math.abs(M-t.x),r=Math.abs(N-t.y);l.push(z(S,m<2*n?m-n:m/2,f<2*n?f-n:f/2)),l.push(z(d,e,r)),l.push(z(S,Math.max(n,m/2),Math.max(n,f/2)))}else if(g){const r=Math.abs(E-e.x),o=Math.abs(A-e.y);l.push(z(e.direction,Math.max(n,m/2),Math.max(n,f/2))),l.push(z(t.direction,r,o)),l.push(z(e.direction,m<2*n?m-n:m/2,f<2*n?f-n:f/2))}}else l.push(x),l.push(y);return g&&l.push($),l}function z(e,t,n){return{x:e.x*t,y:e.y*n}}function M(e,t){const{width:n,height:l}=e,{top:r,left:o,right:a,bottom:s}=t,i=a-o,c=s-r;if(!i||!c)return{x:null,y:null,scale:null};const v=o+i/2,d=r+c/2,S=.8*Math.min(n/i,l/c);return{x:(n/2-v)*S,y:(l/2-d)*S,scale:S}}const N=(e,t,n)=>Math.min(Math.abs(e||t)/2,n);function E(e,t){const n=e.getTotalLength()*t;return e.getPointAtLength(n)}function A(){const e=()=>Math.floor(256*Math.random());return`rgb(${e()},${e()},${e()})`}const T={"(":"round","[":"square","([":"stadium","[[":"subroutine","[(":"cylindrical","((":"circle","{":"rhombus","{{":"hexagon"},L={"-":"straight","~":"bezier"},P={"(":")","[":"]","{":"}"},D=/[-=~]*>(?:\s*\|(.+?)\|)?/g,j=e=>{const t=[],n=[],l=e.trim();let r="";const o=l.match(D);if(!o)throw new Error("Invalid edge");r=o[0];const[a,s]=l.split(r);for(const e of a.split("&"))t.push(W(e));for(const e of s.split("&"))n.push(W(e));return{parentNodes:t,childNodes:n,edge:R(r)}},W=e=>{const t=(e=e.trim())[0],n=e.slice(1);let l="",r="";const o={shape:""},a=[];for(let e=0;e<n.length;e++)if(n[e]in P)a.push(n[e]);else{if(P[a[a.length-1]]===n[e]){r=T[a.join("")];break}l+=n[e]}return o.shape=r,o.content=l,{id:t,data:o,type:"Default",children:[],parents:[],depth:0,nesting:0}},R=e=>{e=e.trim();let t="";const[n,l]=e.split("|"),r=n[0];if(!(r in L))throw new Error("Not a valid edge type");return t=L[r],l?{shape:t,content:l.trim(),length:Math.floor((n.trim().length-1)/2)}:{shape:t,length:Math.floor((n.trim().length-1)/2)}};function Z(e,t=1){const n=Math.pow(10,t);return Math.round(e*n)/n}function B(e,t){const n=t*(Math.PI/180);return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.x*Math.sin(n)+e.y*Math.cos(n)}}function O(e,t,n){for(let l=0;l<e.length;l++)void 0!==t[l]&&(n[e[l]]=t[l])}const H=10;function X(e){const t=SvelteStore.get(e);return Array.from(t).map((e=>SvelteStore.get(e.position)))}function F(e,t,n){n.set({x:e.x+t.x,y:e.y+t.y})}function V(e,t,n,l){n.set({x:Math.min(Math.max(l.left,e.x+t.x),l.right),y:Math.min(Math.max(l.top,e.y+t.y),l.bottom)})}function Q(e,t,n){const{x:l,y:r}=SvelteStore.get(e.position);return{left:l+H,right:l+SvelteStore.get(e.dimensions.width)-t-H,top:r+H,bottom:r+SvelteStore.get(e.dimensions.height)-n-H}}function G(e=1,t,n,l=.1){const r=SvelteStore.get(t),{width:o,height:a,top:s,left:i}=r,c=n.scale,v=SvelteStore.get(n.translation),d=SvelteStore.get(c),S=C(d,e,l),u=y(d,S,v,{x:o/2+i,y:a/2+s},r);c.set(S),n.translation.set(u)}const Y={north:{x:0,y:-1},south:{x:0,y:1},east:{x:1,y:0},west:{x:-1,y:0},self:{x:0,y:0}};function K(e,t,n,l,r,o,a,s,i,c,v,d){const{width:S,height:u}=r,{x:p,y:I}=l,h=SvelteStore.get(t.position),m=SvelteStore.writable({x:p-h.x+S/2,y:I-h.y+u/2}),f=SvelteStore.derived([t.position,m],(([e,t])=>({x:e.x+t.x,y:e.y+t.y}))),_=e.transforms,$=e.dimensions,b=SvelteStore.writable(i||"self"),x=SvelteStore.derived([t.moving,t.resizingWidth,t.resizingHeight,t.rotating],(([e,t,n,l])=>e||t||n||l)),y=SvelteStore.derived([t.rotation],(([e])=>e));return{id:n,position:f,offset:m,direction:b,dynamic:SvelteStore.writable(c||!1),type:s,edge:a,moving:x,mounted:SvelteStore.writable(!1),recalculatePosition:()=>{const e=document.getElementById(n),t=SvelteStore.get(b),l=Y[t];if(!e)return;const{x:r,y:o,width:a,height:s}=e.getBoundingClientRect(),i=SvelteStore.get(m),c=SvelteStore.get(f),{scaled:v,scale:d}=function(e,t,n){const{top:l,left:r,width:o,height:a}=SvelteStore.get(e),s=SvelteStore.get(t.scale),i=SvelteStore.get(t.translation);return{scaled:g({clientX:n.x,clientY:n.y},l,r,o,a,s,i),scale:s}}($,_,{x:r,y:o}),S=v.x-c.x,u=v.y-c.y;m.set({x:i.x+S+a/d/2+l.x*a/d/2,y:i.y+u+s/d/2+l.y*s/d/2})},connected:SvelteStore.writable(new Set),store:o||null,inputKey:v||null,edgeColor:d||SvelteStore.writable(null),rotation:y,node:t}}const U=e();function J(e){let t;const n=e[2].default,l=SvelteInternal.create_slot(n,e,e[1],null);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,[r]){l&&l.p&&(!t||2&r)&&SvelteInternal.update_slot_base(l,n,e,e[1],t?SvelteInternal.get_slot_changes(n,e[1],r,null):SvelteInternal.get_all_dirty_from_scope(e[1]),null)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function ee(e,t,n){let{$$slots:l={},$$scope:r}=t,{edge:o}=t;return SvelteInternal.setContext("edge",o),e.$$set=e=>{"edge"in e&&n(0,o=e.edge),"$$scope"in e&&n(1,r=e.$$scope)},[o,r,l]}SvelteStore.writable(null);class te extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,ee,J,SvelteInternal.safe_not_equal,{edge:0})}get edge(){return this.$$.ctx[0]}set edge(e){this.$$set({edge:e}),SvelteInternal.flush()}}function ne(e){SvelteInternal.append_styles(e,"svelte-ppcocz",".arrow.svelte-ppcocz{fill:var(--prop-edge-color, var(--edge-color, var(--default-edge-color))) !important}.edge.svelte-ppcocz{stroke:var(--prop-edge-color, var(--edge-color, var(--default-edge-color)));stroke-width:var(--prop-stroke-width, var(--edge-width, var(--default-edge-width)));contain:strict}.label-wrapper.svelte-ppcocz{display:flex;justify-content:center;align-items:center;width:fit-content;height:fit-content;transform:translate(-50%, -50%);pointer-events:auto}.edges-wrapper.svelte-ppcocz{position:absolute;top:0;left:0;width:100%;height:100%;fill:transparent;overflow:visible}.target.svelte-ppcocz{pointer-events:stroke;stroke:none;stroke-width:calc(var(--edge-width, var(--default-edge-width)) + 8px)}.target.svelte-ppcocz:hover{stroke:var(\n\t\t\t--prop-target-edge-color,\n\t\t\tvar(--target-edge-color, var(--default-target-edge-color))\n\t\t);opacity:50%}.cursor.svelte-ppcocz{pointer-events:none}foreignObject.svelte-ppcocz{overflow:visible}path.svelte-ppcocz{cursor:pointer}.animate.svelte-ppcocz{stroke-dasharray:5;animation:svelte-ppcocz-dash 1s linear infinite;will-change:stroke-dashoffset}.default-label.svelte-ppcocz{display:flex;justify-content:center;align-items:center;width:fit-content;font-size:1rem;height:1.5rem;border-radius:5px;padding:10px;color:var(--prop-label-text-color, var(--label-text-color, var(--default-label-text-color)));background-color:var(--prop-label-color, var(--label-color, var(--default-label-color)))}@keyframes svelte-ppcocz-dash{from{stroke-dashoffset:30}}")}const le=e=>({hovering:32768&e[0]}),re=e=>({destroy:e[9],hovering:e[15]}),oe=e=>({path:4096&e[0],hovering:32768&e[0]}),ae=e=>({path:e[12],destroy:e[9],hovering:e[15]});function se(e){let t,n,l,r,o,a=(e[0]||e[1])&&ie(e);const s=e[91].default,i=SvelteInternal.create_slot(s,e,e[90],ae),c=i||function(e){let t,n,l;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"id",e[38]),SvelteInternal.attr(t,"class","edge svelte-ppcocz"),SvelteInternal.attr(t,"d",e[12]),SvelteInternal.attr(t,"marker-end",n="arrow"===e[1]?`url(#${e[38]+"-end-arrow"})`:""),SvelteInternal.attr(t,"marker-start",l="arrow"===e[0]?`url(#${e[38]+"-start-arrow"})`:""),SvelteInternal.toggle_class(t,"animate",e[2]),SvelteInternal.set_style(t,"--prop-edge-color",e[20]),SvelteInternal.set_style(t,"--prop-stroke-width",e[5]?e[5]+"px":null)},m(e,n){SvelteInternal.insert(e,t,n)},p(e,r){4096&r[0]&&SvelteInternal.attr(t,"d",e[12]),2&r[0]&&n!==(n="arrow"===e[1]?`url(#${e[38]+"-end-arrow"})`:"")&&SvelteInternal.attr(t,"marker-end",n),1&r[0]&&l!==(l="arrow"===e[0]?`url(#${e[38]+"-start-arrow"})`:"")&&SvelteInternal.attr(t,"marker-start",l),4&r[0]&&SvelteInternal.toggle_class(t,"animate",e[2]),1048576&r[0]&&SvelteInternal.set_style(t,"--prop-edge-color",e[20]),32&r[0]&&SvelteInternal.set_style(t,"--prop-stroke-width",e[5]?e[5]+"px":null)},d(e){e&&SvelteInternal.detach(t)}}}(e);let v=e[10]&&ce(e);return{c(){t=SvelteInternal.svg_element("svg"),a&&a.c(),n=SvelteInternal.svg_element("path"),c&&c.c(),v&&v.c(),SvelteInternal.attr(n,"role","presentation"),SvelteInternal.attr(n,"id",e[38]+"-target"),SvelteInternal.attr(n,"class","target svelte-ppcocz"),SvelteInternal.attr(n,"d",e[12]),SvelteInternal.toggle_class(n,"cursor","cursor"===e[38]||!e[4]&&!e[3]),SvelteInternal.set_style(n,"cursor",e[4]||e[15]?"pointer":"move"),SvelteInternal.set_style(n,"--prop-target-edge-color",e[4]||e[15]?e[8]||null:"transparent"),SvelteInternal.attr(t,"class","edges-wrapper svelte-ppcocz"),SvelteInternal.set_style(t,"z-index",e[17])},m(s,i){SvelteInternal.insert(s,t,i),a&&a.m(t,null),SvelteInternal.append(t,n),e[94](n),c&&c.m(t,null),v&&v.m(t,null),e[95](t),l=!0,r||(o=[SvelteInternal.listen(n,"mousedown",(function(){SvelteInternal.is_function(e[4])&&e[4].apply(this,arguments)})),SvelteInternal.listen(n,"mouseenter",e[92]),SvelteInternal.listen(n,"mouseleave",e[93])],r=!0)},p(r,o){(e=r)[0]||e[1]?a?a.p(e,o):(a=ie(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),(!l||4096&o[0])&&SvelteInternal.attr(n,"d",e[12]),(!l||24&o[0]|128&o[1])&&SvelteInternal.toggle_class(n,"cursor","cursor"===e[38]||!e[4]&&!e[3]),32784&o[0]&&SvelteInternal.set_style(n,"cursor",e[4]||e[15]?"pointer":"move"),33040&o[0]&&SvelteInternal.set_style(n,"--prop-target-edge-color",e[4]||e[15]?e[8]||null:"transparent"),i?i.p&&(!l||36864&o[0]|268435456&o[2])&&SvelteInternal.update_slot_base(i,s,e,e[90],l?SvelteInternal.get_slot_changes(s,e[90],o,oe):SvelteInternal.get_all_dirty_from_scope(e[90]),ae):c&&c.p&&(!l||1052711&o[0])&&c.p(e,l?o:[-1,-1,-1,-1]),e[10]?v?(v.p(e,o),1024&o[0]&&SvelteInternal.transition_in(v,1)):(v=ce(e),v.c(),SvelteInternal.transition_in(v,1),v.m(t,null)):v&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(v,1,1,(()=>{v=null})),SvelteInternal.check_outros()),131072&o[0]&&SvelteInternal.set_style(t,"z-index",e[17])},i(e){l||(SvelteInternal.transition_in(c,e),SvelteInternal.transition_in(v),l=!0)},o(e){SvelteInternal.transition_out(c,e),SvelteInternal.transition_out(v),l=!1},d(n){n&&SvelteInternal.detach(t),a&&a.d(),e[94](null),c&&c.d(n),v&&v.d(),e[95](null),r=!1,SvelteInternal.run_all(o)}}}function ie(e){let t,n,l,r,o;return{c(){t=SvelteInternal.svg_element("defs"),n=SvelteInternal.svg_element("marker"),l=SvelteInternal.svg_element("polygon"),r=SvelteInternal.svg_element("marker"),o=SvelteInternal.svg_element("polygon"),SvelteInternal.attr(l,"class","arrow svelte-ppcocz"),SvelteInternal.attr(l,"points","0 0, 15 5, 0 10"),SvelteInternal.set_style(l,"--prop-edge-color",e[20]),SvelteInternal.attr(n,"id",e[38]+"-end-arrow"),SvelteInternal.attr(n,"viewBox","0 0 15 15"),SvelteInternal.attr(n,"markerWidth","15"),SvelteInternal.attr(n,"markerHeight","10"),SvelteInternal.attr(n,"refX","12.5"),SvelteInternal.attr(n,"refY","5"),SvelteInternal.attr(n,"orient","auto"),SvelteInternal.attr(o,"class","arrow svelte-ppcocz"),SvelteInternal.attr(o,"points","0 5, 15 0, 15 10"),SvelteInternal.set_style(o,"--prop-edge-color",e[20]),SvelteInternal.attr(r,"id",e[38]+"-start-arrow"),SvelteInternal.attr(r,"viewBox","0 0 15 15"),SvelteInternal.attr(r,"markerWidth","15"),SvelteInternal.attr(r,"markerHeight","10"),SvelteInternal.attr(r,"refX","0"),SvelteInternal.attr(r,"refY","5"),SvelteInternal.attr(r,"orient","auto")},m(e,a){SvelteInternal.insert(e,t,a),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(t,r),SvelteInternal.append(r,o)},p(e,t){1048576&t[0]&&SvelteInternal.set_style(l,"--prop-edge-color",e[20]),1048576&t[0]&&SvelteInternal.set_style(o,"--prop-edge-color",e[20])},d(e){e&&SvelteInternal.detach(t)}}}function ce(e){let t,n,l,r,o;const a=e[91].label,s=SvelteInternal.create_slot(a,e,e[90],re),i=s||function(e){let t,n;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.text(e[11]),SvelteInternal.attr(t,"class","default-label svelte-ppcocz"),SvelteInternal.set_style(t,"--prop-label-color",e[6]),SvelteInternal.set_style(t,"--prop-label-text-color",e[7])},m(e,l){SvelteInternal.insert(e,t,l),SvelteInternal.append(t,n)},p(e,l){2048&l[0]&&SvelteInternal.set_data(n,e[11]),64&l[0]&&SvelteInternal.set_style(t,"--prop-label-color",e[6]),128&l[0]&&SvelteInternal.set_style(t,"--prop-label-text-color",e[7])},d(e){e&&SvelteInternal.detach(t)}}}(e);return{c(){t=SvelteInternal.svg_element("foreignObject"),n=SvelteInternal.element("span"),i&&i.c(),SvelteInternal.attr(n,"class","label-wrapper svelte-ppcocz"),SvelteInternal.attr(t,"x",l=e[14].x),SvelteInternal.attr(t,"y",r=e[14].y),SvelteInternal.attr(t,"width","100%"),SvelteInternal.attr(t,"height","100%"),SvelteInternal.attr(t,"class","svelte-ppcocz")},m(e,l){SvelteInternal.insert(e,t,l),SvelteInternal.append(t,n),i&&i.m(n,null),o=!0},p(e,n){s?s.p&&(!o||32768&n[0]|268435456&n[2])&&SvelteInternal.update_slot_base(s,a,e,e[90],o?SvelteInternal.get_slot_changes(a,e[90],n,le):SvelteInternal.get_all_dirty_from_scope(e[90]),re):i&&i.p&&(!o||2240&n[0])&&i.p(e,o?n:[-1,-1,-1,-1]),(!o||16384&n[0]&&l!==(l=e[14].x))&&SvelteInternal.attr(t,"x",l),(!o||16384&n[0]&&r!==(r=e[14].y))&&SvelteInternal.attr(t,"y",r)},i(e){o||(SvelteInternal.transition_in(i,e),o=!0)},o(e){SvelteInternal.transition_out(i,e),o=!1},d(e){e&&SvelteInternal.detach(t),i&&i.d(e)}}}function ve(e){let t,n,l=e[23]&&e[24]&&se(e);return{c(){l&&l.c(),t=SvelteInternal.empty()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),n=!0},p(e,t){e[23]&&e[24]&&l.p(e,t)},i(e){n||(SvelteInternal.transition_in(l),n=!0)},o(e){SvelteInternal.transition_out(l),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e)}}}let de;function Se(e,t,n){let l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m,f,_,$,b,x,y,w,k,C,z,M,A,T,L,P,D,j,W,R,Z,O,H,X,F,V,Q,G,K,U,J,ee,te,ne=SvelteInternal.noop,le=SvelteInternal.noop,re=SvelteInternal.noop,oe=SvelteInternal.noop;e.$$.on_destroy.push((()=>ne())),e.$$.on_destroy.push((()=>le())),e.$$.on_destroy.push((()=>re())),e.$$.on_destroy.push((()=>oe()));let{$$slots:ae={},$$scope:se}=t;const ie=SvelteInternal.compute_slots(ae),ce=SvelteInternal.getContext("edgeStore"),ve=SvelteInternal.getContext("edgeStyle"),Se=SvelteInternal.getContext("endStyles"),ue=SvelteInternal.getContext("raiseEdgesOnSelect"),pe=SvelteInternal.getContext("edgesAboveNode");let{edge:Ie=SvelteInternal.getContext("edge")}=t,{straight:he="straight"===ve}=t,{step:ge="step"===ve}=t,{start:me=Se[0]}=t,{end:fe=Se[1]}=t,{animate:_e=!1}=t,{label:$e=""}=t,{enableHover:be=!1}=t,{edgeClick:xe=null}=t,{labelPosition:ye=.5}=t,{width:we=null}=t,{color:ke=null}=t,{labelColor:Ce=null}=t,{textColor:qe=null}=t,{cornerRadius:ze=8}=t,{targetColor:Me=null}=t;const Ne=Ie.source,Ee=Ie.target,Ae=Ne.direction;SvelteInternal.component_subscribe(e,Ae,(e=>n(76,R=e)));const Te=Ee.direction;SvelteInternal.component_subscribe(e,Te,(e=>n(75,W=e)));const Le=Ne.rotation;SvelteInternal.component_subscribe(e,Le,(e=>n(83,Q=e)));const Pe=Ee.rotation;SvelteInternal.component_subscribe(e,Pe,(e=>n(82,V=e)));const De=Ne.position;SvelteInternal.component_subscribe(e,De,(e=>n(87,J=e)));const je=Ee.position;SvelteInternal.component_subscribe(e,je,(e=>n(86,U=e)));const We=Ne.dynamic;SvelteInternal.component_subscribe(e,We,(e=>n(79,H=e)));const Re=Ee.dynamic;SvelteInternal.component_subscribe(e,Re,(e=>n(78,O=e)));const Ze=Ne.moving;SvelteInternal.component_subscribe(e,Ze,(e=>n(81,F=e)));const Be=Ee.moving;SvelteInternal.component_subscribe(e,Be,(e=>n(80,X=e)));const Oe=Ne.node?.position;SvelteInternal.component_subscribe(e,Oe,(e=>n(85,K=e)));const He=Ee.node?.position;SvelteInternal.component_subscribe(e,He,(e=>n(84,G=e)));const Xe=Ie.type;SvelteInternal.component_subscribe(e,Xe,(e=>n(77,Z=e)));const Fe=Ie.id;let Ve,Qe,Ge,Ye={x:0,y:0},Ke=!1,Ue=!1,Je=!1,et=!1,tt=!1;function nt(){Ke&&(Qe&&n(14,Ye=E(Qe,ye)),de=requestAnimationFrame(nt))}Ie.rendered.set(!0),SvelteInternal.onMount((()=>{setTimeout((()=>{Qe&&n(14,Ye=E(Qe,ye))}),0),function(e){const t=e.parentNode;if(!t)return;t.removeChild(e);const n=document.querySelector(".svelvet-graph-wrapper");n&&n.appendChild(e)}(Ge)})),SvelteInternal.afterUpdate((()=>{Qe&&n(14,Ye=E(Qe,ye))})),SvelteInternal.onDestroy((()=>{Ge.remove(),cancelAnimationFrame(de)}));return e.$$set=e=>{"edge"in e&&n(39,Ie=e.edge),"straight"in e&&n(40,he=e.straight),"step"in e&&n(41,ge=e.step),"start"in e&&n(0,me=e.start),"end"in e&&n(1,fe=e.end),"animate"in e&&n(2,_e=e.animate),"label"in e&&n(42,$e=e.label),"enableHover"in e&&n(3,be=e.enableHover),"edgeClick"in e&&n(4,xe=e.edgeClick),"labelPosition"in e&&n(43,ye=e.labelPosition),"width"in e&&n(5,we=e.width),"color"in e&&n(44,ke=e.color),"labelColor"in e&&n(6,Ce=e.labelColor),"textColor"in e&&n(7,qe=e.textColor),"cornerRadius"in e&&n(45,ze=e.cornerRadius),"targetColor"in e&&n(8,Me=e.targetColor),"$$scope"in e&&n(90,se=e.$$scope)},e.$$.update=()=>{if(196608&e.$$.dirty[2]&&n(55,l=H||O),256&e.$$.dirty[1]&&(n(21,o=Ie.label?.text),re(),re=SvelteInternal.subscribe(o,(e=>n(88,ee=e)))),8192&e.$$.dirty[1]|134217728&e.$$.dirty[2]&&n(20,a=ke||te||null),2048&e.$$.dirty[1]|67108864&e.$$.dirty[2]&&n(11,s=$e||ee||""),2048&e.$$.dirty[0]&&n(10,i=s||ie.label),33554432&e.$$.dirty[2]&&n(72,c=J),16777216&e.$$.dirty[2]&&n(71,v=U),8388608&e.$$.dirty[2]&&n(56,d=K),4194304&e.$$.dirty[2]&&n(57,S=G),1024&e.$$.dirty[2]&&n(52,u=c.x),1024&e.$$.dirty[2]&&n(51,p=c.y),512&e.$$.dirty[2]&&n(54,I=v.x),512&e.$$.dirty[2]&&n(53,h=v.y),10485760&e.$$.dirty[1]&&n(70,g=I-u),5242880&e.$$.dirty[1]&&n(69,m=h-p),256&e.$$.dirty[2]&&n(68,f=Math.abs(g)),128&e.$$.dirty[2]&&n(67,_=Math.abs(m)),64&e.$$.dirty[2]&&n(65,$=Math.max(30,Math.min(600,f/2))),32&e.$$.dirty[2]&&n(63,b=Math.max(30,Math.min(600,_/2))),117833728&e.$$.dirty[1]&&l&&Ne.node&&Ee.node){const e=S.x-d.x,t=S.y-d.y;let l,r;if(n(48,Je=t>0),n(49,et=e>0),Je){const e=SvelteStore.get(Ne.node.dimensions.height),t=d.y+e;l=S.y-t}else{const e=SvelteStore.get(Ee.node.dimensions.height),t=S.y+e;l=d.y-t}if(et){const e=SvelteStore.get(Ne.node.dimensions.width),t=d.x+e;r=S.x-t}else{const e=SvelteStore.get(Ee.node.dimensions.width),t=S.x+e;r=d.x-t}n(47,Ue=l>r)}if(17235968&e.$$.dirty[1]|196608&e.$$.dirty[2]&&l){let e,t;Ue?(e=Je?"south":"north",t=Je?"north":"south"):(e=et?"east":"west",t=et?"west":"east"),H&&SvelteInternal.set_store_value(Ae,R=e,R),O&&SvelteInternal.set_store_value(Te,W=t,W)}if(2113536&e.$$.dirty[2]&&n(66,x=B(Y[R],Q||0)),1056768&e.$$.dirty[2]&&n(64,y=B(Y[W],V||0)),2097152&e.$$.dirty[1]|24&e.$$.dirty[2]&&n(62,w=u+x.x*$),1048576&e.$$.dirty[1]|18&e.$$.dirty[2]&&n(61,k=p+x.y*b),8388608&e.$$.dirty[1]|12&e.$$.dirty[2]&&n(60,C=I+y.x*$),4194304&e.$$.dirty[1]|6&e.$$.dirty[2]&&n(59,z=h+y.y*b),1879048192&e.$$.dirty[1]|1&e.$$.dirty[2]&&n(58,M=`C ${w}, ${k} ${C}, ${z}`),149947904&e.$$.dirty[1]|32768&e.$$.dirty[2]&&(ge&&"cursor"!==Fe&&"bezier"!==Z||n(12,Ve=`M ${u}, ${p} ${he?"":M} ${I}, ${h}`)),1024&e.$$.dirty[0]|32768&e.$$.dirty[1]|786432&e.$$.dirty[2]&&(i&&!Ke&&(F||X||"cursor"===Fe)?(n(46,Ke=!0),nt()):!Ke||F||X||"cursor"===Fe||(n(46,Ke=!1),cancelAnimationFrame(de))),15746048&e.$$.dirty[1]|57344&e.$$.dirty[2]&&ge&&"cursor"!==Fe&&(!Z||"bezier"!==Z)){const e=q({x:u,y:p,direction:Y[R]},{x:I,y:h,direction:Y[W]},40),t=(t,n,l)=>{if(n<e.length-1){return function(e,t){return{1001:`a ${e} ${e} 0 0 1 ${e} ${e}`,"0110":`a ${e} ${e} 0 0 0 ${e} ${e}`,"100-1":`a ${e} ${e} 0 0 0 ${e} -${e}`,"0-110":`a ${e} ${e} 0 0 1 ${e} -${e}`,"-1001":`a ${e} ${e} 0 0 0 -${e} ${e}`,"01-10":`a ${e} ${e} 0 0 1 -${e} ${e}`,"-100-1":`a ${e} ${e} 0 0 1 -${e} -${e}`,"0-1-10":`a ${e} ${e} 0 0 0 -${e} -${e}`}[t]||""}(l,(r=t,o=e[n+1],`${Math.sign(r.x).toString()}${Math.sign(r.y).toString()}${Math.sign(o.x).toString()}${Math.sign(o.y).toString()}`))}var r,o;return""};n(12,Ve=e.reduce(((n,l,r)=>{const o=Math.sign(l.x),a=Math.sign(l.y);let s=l.x,i=l.y,c="";if(ze){const n=e[r+1]||{x:0,y:0},v=e[r-1]||{x:0,y:0},d=N(l.x,n.x,ze),S=N(n.y,l.y,ze),u=N(v.x,l.x,ze),p=N(v.y,l.y,ze),I=Math.min(u,p),h=Math.min(d,S);l.x?s=l.x-(h+I)*o:i=l.y-(h+I)*a,c=t(l,r,h)}return((e,t,n,l)=>e+` l ${t} ${n} `+l)(n,s,i,c)}),`M ${u}, ${p}`))}6144&e.$$.dirty[2]&&n(50,L=Math.max(j,D)),524288&e.$$.dirty[1]|6144&e.$$.dirty[2]&&n(17,P="all"===pe?1e5:pe?L:!0===ue?L-1:"source"===ue?j-1:"target"===ue?D-1:0)},n(22,r=Ne?.edgeColor||Ee?.edgeColor||null),oe(),oe=SvelteInternal.subscribe(r,(e=>n(89,te=e))),n(19,A=Ne.node.zIndex||0),le(),le=SvelteInternal.subscribe(A,(e=>n(74,j=e))),n(18,T=Ee.node.zIndex||0),ne(),ne=SvelteInternal.subscribe(T,(e=>n(73,D=e))),[me,fe,_e,be,xe,we,Ce,qe,Me,function(){if(null===Ne.id||null===Ee.id)return;const e=ce.match(Ne,Ee);ce.delete(e[0]),Ne?.connected.update((e=>(Ee&&e.delete(Ee),e))),Ee?.connected.update((e=>(Ne&&e.delete(Ne),e)))},i,s,Ve,Qe,Ye,tt,Ge,P,T,A,a,o,r,Ne,Ee,Ae,Te,Le,Pe,De,je,We,Re,Ze,Be,Oe,He,Xe,Fe,Ie,he,ge,$e,ye,ke,ze,Ke,Ue,Je,et,L,p,u,h,I,l,d,S,M,z,C,k,w,b,y,$,x,_,f,m,g,v,c,D,j,W,R,Z,O,H,X,F,V,Q,G,K,U,J,ee,te,se,ae,()=>n(15,tt=!0),()=>n(15,tt=!1),function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{Qe=e,n(13,Qe)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{Ge=e,n(16,Ge)}))}]}class ue extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Se,ve,SvelteInternal.safe_not_equal,{edge:39,straight:40,step:41,start:0,end:1,animate:2,label:42,enableHover:3,edgeClick:4,labelPosition:43,width:5,color:44,labelColor:6,textColor:7,cornerRadius:45,targetColor:8,destroy:9},ne,[-1,-1,-1,-1])}get edge(){return this.$$.ctx[39]}set edge(e){this.$$set({edge:e}),SvelteInternal.flush()}get straight(){return this.$$.ctx[40]}set straight(e){this.$$set({straight:e}),SvelteInternal.flush()}get step(){return this.$$.ctx[41]}set step(e){this.$$set({step:e}),SvelteInternal.flush()}get start(){return this.$$.ctx[0]}set start(e){this.$$set({start:e}),SvelteInternal.flush()}get end(){return this.$$.ctx[1]}set end(e){this.$$set({end:e}),SvelteInternal.flush()}get animate(){return this.$$.ctx[2]}set animate(e){this.$$set({animate:e}),SvelteInternal.flush()}get label(){return this.$$.ctx[42]}set label(e){this.$$set({label:e}),SvelteInternal.flush()}get enableHover(){return this.$$.ctx[3]}set enableHover(e){this.$$set({enableHover:e}),SvelteInternal.flush()}get edgeClick(){return this.$$.ctx[4]}set edgeClick(e){this.$$set({edgeClick:e}),SvelteInternal.flush()}get labelPosition(){return this.$$.ctx[43]}set labelPosition(e){this.$$set({labelPosition:e}),SvelteInternal.flush()}get width(){return this.$$.ctx[5]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get color(){return this.$$.ctx[44]}set color(e){this.$$set({color:e}),SvelteInternal.flush()}get labelColor(){return this.$$.ctx[6]}set labelColor(e){this.$$set({labelColor:e}),SvelteInternal.flush()}get textColor(){return this.$$.ctx[7]}set textColor(e){this.$$set({textColor:e}),SvelteInternal.flush()}get cornerRadius(){return this.$$.ctx[45]}set cornerRadius(e){this.$$set({cornerRadius:e}),SvelteInternal.flush()}get targetColor(){return this.$$.ctx[8]}set targetColor(e){this.$$set({targetColor:e}),SvelteInternal.flush()}get destroy(){return this.$$.ctx[9]}}function pe(e){SvelteInternal.append_styles(e,"svelte-19t6skv",".svelte-19t6skv{box-sizing:border-box}.svelvet-anchor.svelte-19t6skv{width:var(--anchor-width, var(--default-anchor-size));height:var(--anchor-height, var(--default-anchor-size));border-radius:var(--anchor-radius, var(--default-anchor-radius));background-color:var(--prop-anchor-color, var(--anchor-color, var(--default-anchor-color)));z-index:12;cursor:pointer;box-shadow:0 0 0px 1px var(--anchor-border-color, var(--default-anchor-border-color));pointer-events:auto}.connecting.svelte-19t6skv{background-color:var(--anchor-connecting, var(--default-anchor-connecting));box-shadow:0 0 0px 1px var(--anchor-connecting-border, var(--default-anchor-connecting-border))}.hovering.svelte-19t6skv{background-color:var(--anchor-hovering, var(--default-anchor-hovering));box-shadow:0 0 0px 1px var(--anchor-hovering-border, var(--default-anchor-hovering-border))}.connected.svelte-19t6skv{background-color:var(--anchor-connected, var(--default-anchor-connected));box-shadow:0 0 0px 1px var(--anchor-connected-border, var(--default-anchor-connected-border))}div.svelte-19t6skv{background:none;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}")}function Ie(e){let t;return{c(){t=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","svelvet-anchor svelte-19t6skv"),SvelteInternal.toggle_class(t,"output",e[0]),SvelteInternal.toggle_class(t,"input",e[1]),SvelteInternal.toggle_class(t,"connected",e[3]),SvelteInternal.toggle_class(t,"connecting",e[2]),SvelteInternal.toggle_class(t,"hovering",e[4]),SvelteInternal.set_style(t,"--prop-anchor-color",e[5])},m(e,n){SvelteInternal.insert(e,t,n)},p(e,[n]){1&n&&SvelteInternal.toggle_class(t,"output",e[0]),2&n&&SvelteInternal.toggle_class(t,"input",e[1]),8&n&&SvelteInternal.toggle_class(t,"connected",e[3]),4&n&&SvelteInternal.toggle_class(t,"connecting",e[2]),16&n&&SvelteInternal.toggle_class(t,"hovering",e[4]),32&n&&SvelteInternal.set_style(t,"--prop-anchor-color",e[5])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}function he(e,t,n){let{output:l}=t,{input:r}=t,{connecting:o}=t,{connected:a}=t,{hovering:s}=t,{bgColor:i}=t;return e.$$set=e=>{"output"in e&&n(0,l=e.output),"input"in e&&n(1,r=e.input),"connecting"in e&&n(2,o=e.connecting),"connected"in e&&n(3,a=e.connected),"hovering"in e&&n(4,s=e.hovering),"bgColor"in e&&n(5,i=e.bgColor)},[l,r,o,a,s,i]}class ge extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,he,Ie,SvelteInternal.safe_not_equal,{output:0,input:1,connecting:2,connected:3,hovering:4,bgColor:5},pe)}get output(){return this.$$.ctx[0]}set output(e){this.$$set({output:e}),SvelteInternal.flush()}get input(){return this.$$.ctx[1]}set input(e){this.$$set({input:e}),SvelteInternal.flush()}get connecting(){return this.$$.ctx[2]}set connecting(e){this.$$set({connecting:e}),SvelteInternal.flush()}get connected(){return this.$$.ctx[3]}set connected(e){this.$$set({connected:e}),SvelteInternal.flush()}get hovering(){return this.$$.ctx[4]}set hovering(e){this.$$set({hovering:e}),SvelteInternal.flush()}get bgColor(){return this.$$.ctx[5]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}}function me(e){SvelteInternal.append_styles(e,"svelte-bazd6o",".svelte-bazd6o{box-sizing:border-box}.anchor-wrapper.svelte-bazd6o{z-index:10;width:fit-content;height:fit-content;pointer-events:all}.locked.svelte-bazd6o{cursor:not-allowed !important}div.svelte-bazd6o{background:none;border:none;padding:0;font:inherit;cursor:pointer;outline:inherit}")}const fe=e=>({}),_e=e=>({});function $e(e){const t=e.slice(),n=t[7].component;return t[86]=n,t}function be(e){const t=e.slice(),n=t[14].get("cursor");return t[7]=n,t}function xe(e,t,n){const l=e.slice();l[87]=t[n];const r=l[14].fetch(l[23],l[87]);return l[7]=r,l}const ye=e=>({}),we=e=>({});function ke(e){const t=e.slice(),n=t[7].component;return t[86]=n,t}const Ce=e=>({linked:512&e[0],hovering:1024&e[0],connecting:2048&e[0]}),qe=e=>({linked:e[9]?.size>=1,hovering:e[10],connecting:e[11]});function ze(e){let t,n;return t=new ge({props:{output:e[2],input:e[1],connecting:e[11],hovering:e[10],bgColor:e[0],connected:e[9]?.size>=1}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};4&n[0]&&(l.output=e[2]),2&n[0]&&(l.input=e[1]),2048&n[0]&&(l.connecting=e[11]),1024&n[0]&&(l.hovering=e[10]),1&n[0]&&(l.bgColor=e[0]),512&n[0]&&(l.connected=e[9]?.size>=1),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Me(e){let t,n;return t=new te({props:{edge:e[7],$$slots:{default:[Ae]},$$scope:{ctx:e}}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};512&n[0]&&(l.edge=e[7]),512&n[0]|8388608&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ne(e){let t,n;return t=new ue({}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ee(e){let t,n;return t=new e[86]({}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ae(e){let t;const n=e[50].edge,l=SvelteInternal.create_slot(n,e,e[54],we),r=l||function(e){let t,n,l,r;const o=[Ee,Ne],a=[];function s(e,t){return e[86]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t!==i&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n||(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){l?l.p&&(!t||8388608&o[1])&&SvelteInternal.update_slot_base(l,n,e,e[54],t?SvelteInternal.get_slot_changes(n,e[54],o,ye):SvelteInternal.get_all_dirty_from_scope(e[54]),we):r&&r.p&&(!t||512&o[0])&&r.p(e,t?o:[-1,-1,-1])},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function Te(e,t){let n,l,r,o=t[7]&&t[7].source===t[23]&&Me(ke(t));return{key:e,first:null,c(){n=SvelteInternal.empty(),o&&o.c(),l=SvelteInternal.empty(),this.first=n},m(e,t){SvelteInternal.insert(e,n,t),o&&o.m(e,t),SvelteInternal.insert(e,l,t),r=!0},p(e,n){(t=e)[7]&&t[7].source===t[23]?o?(o.p(ke(t),n),512&n[0]&&SvelteInternal.transition_in(o,1)):(o=Me(ke(t)),o.c(),SvelteInternal.transition_in(o,1),o.m(l.parentNode,l)):o&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(o,1,1,(()=>{o=null})),SvelteInternal.check_outros())},i(e){r||(SvelteInternal.transition_in(o),r=!0)},o(e){SvelteInternal.transition_out(o),r=!1},d(e){e&&(SvelteInternal.detach(n),SvelteInternal.detach(l)),o&&o.d(e)}}}function Le(e){let t,n,l=e[7]&&function(e){let t,n;return t=new te({props:{edge:e[7],$$slots:{default:[je]},$$scope:{ctx:e}}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};8388608&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}($e(e));return{c(){l&&l.c(),t=SvelteInternal.empty()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),n=!0},p(e,t){e[7]&&l.p($e(e),t)},i(e){n||(SvelteInternal.transition_in(l),n=!0)},o(e){SvelteInternal.transition_out(l),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e)}}}function Pe(e){let t,n;return t=new ue({}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function De(e){let t,n;return t=new e[86]({}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function je(e){let t;const n=e[50].edge,l=SvelteInternal.create_slot(n,e,e[54],_e),r=l||function(e){let t,n,l,r;const o=[De,Pe],a=[];return t=function(e,t){return e[86]?0:1}(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p:SvelteInternal.noop,i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||8388608&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[54],t?SvelteInternal.get_slot_changes(n,e[54],r,fe):SvelteInternal.get_all_dirty_from_scope(e[54]),_e)},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function We(e){let t,n,l,r,o,a,s,i,c=[],v=new Map;const d=e[50].default,S=SvelteInternal.create_slot(d,e,e[54],qe),u=S||function(e){let t,n,l=!e[5]&&ze(e);return{c(){l&&l.c(),t=SvelteInternal.empty()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),n=!0},p(e,n){e[5]?l&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(l,1,1,(()=>{l=null})),SvelteInternal.check_outros()):l?(l.p(e,n),32&n[0]&&SvelteInternal.transition_in(l,1)):(l=ze(e),l.c(),SvelteInternal.transition_in(l,1),l.m(t.parentNode,t))},i(e){n||(SvelteInternal.transition_in(l),n=!0)},o(e){SvelteInternal.transition_out(l),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e)}}}(e);let p=SvelteInternal.ensure_array_like(Array.from(e[9]));const I=e=>e[87].id;for(let t=0;t<p.length;t+=1){let n=xe(e,p,t),l=I(n);v.set(l,c[t]=Te(l,n))}let h=e[11]&&Le(be(e));return{c(){t=SvelteInternal.element("div"),u&&u.c(),l=SvelteInternal.space();for(let e=0;e<c.length;e+=1)c[e].c();r=SvelteInternal.space(),h&&h.c(),o=SvelteInternal.empty(),SvelteInternal.attr(t,"id",e[23]?.id),SvelteInternal.attr(t,"class","anchor-wrapper svelte-bazd6o"),SvelteInternal.attr(t,"role","button"),SvelteInternal.attr(t,"tabindex","0"),SvelteInternal.attr(t,"title",n=e[6]||""),SvelteInternal.toggle_class(t,"locked",e[4])},m(n,v){SvelteInternal.insert(n,t,v),u&&u.m(t,null),e[53](t),SvelteInternal.insert(n,l,v);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(n,v);SvelteInternal.insert(n,r,v),h&&h.m(n,v),SvelteInternal.insert(n,o,v),a=!0,s||(i=[SvelteInternal.listen(t,"mouseenter",e[51]),SvelteInternal.listen(t,"mouseleave",e[52]),SvelteInternal.listen(t,"mousedown",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[25]))),SvelteInternal.listen(t,"mouseup",SvelteInternal.stop_propagation(e[24])),SvelteInternal.listen(t,"touchstart",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[25]))),SvelteInternal.listen(t,"touchend",SvelteInternal.stop_propagation(e[24]))],s=!0)},p(e,l){S?S.p&&(!a||3584&l[0]|8388608&l[1])&&SvelteInternal.update_slot_base(S,d,e,e[54],a?SvelteInternal.get_slot_changes(d,e[54],l,Ce):SvelteInternal.get_all_dirty_from_scope(e[54]),qe):u&&u.p&&(!a||3623&l[0])&&u.p(e,a?l:[-1,-1,-1]),(!a||64&l[0]&&n!==(n=e[6]||""))&&SvelteInternal.attr(t,"title",n),(!a||16&l[0])&&SvelteInternal.toggle_class(t,"locked",e[4]),8405504&l[0]|8388608&l[1]&&(p=SvelteInternal.ensure_array_like(Array.from(e[9])),SvelteInternal.group_outros(),c=SvelteInternal.update_keyed_each(c,l,I,1,e,p,v,r.parentNode,SvelteInternal.outro_and_destroy_block,Te,r,xe),SvelteInternal.check_outros()),e[11]?h?(h.p(be(e),l),2048&l[0]&&SvelteInternal.transition_in(h,1)):(h=Le(be(e)),h.c(),SvelteInternal.transition_in(h,1),h.m(o.parentNode,o)):h&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(h,1,1,(()=>{h=null})),SvelteInternal.check_outros())},i(e){if(!a){SvelteInternal.transition_in(u,e);for(let e=0;e<p.length;e+=1)SvelteInternal.transition_in(c[e]);SvelteInternal.transition_in(h),a=!0}},o(e){SvelteInternal.transition_out(u,e);for(let e=0;e<c.length;e+=1)SvelteInternal.transition_out(c[e]);SvelteInternal.transition_out(h),a=!1},d(n){n&&(SvelteInternal.detach(t),SvelteInternal.detach(l),SvelteInternal.detach(r),SvelteInternal.detach(o)),u&&u.d(n),e[53](null);for(let e=0;e<c.length;e+=1)c[e].d(n);h&&h.d(n),s=!1,SvelteInternal.run_all(i)}}}let Re;const Ze=SvelteStore.writable(null);function Be(e,t,n){let l,r,o,a,s,i,c,d,S,u,p,I,h,g,m,f=SvelteInternal.noop,_=()=>(f(),f=SvelteInternal.subscribe(X,(e=>n(55,a=e))),X),$=SvelteInternal.noop,b=SvelteInternal.noop,x=SvelteInternal.noop;SvelteInternal.component_subscribe(e,Ze,(e=>n(42,s=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>x()));let{$$slots:y={},$$scope:w}=t;const k=SvelteInternal.getContext("dynamic"),C=SvelteInternal.getContext("node"),q=SvelteInternal.getContext("edgeStore"),z=SvelteInternal.getContext("cursorAnchor"),M=SvelteInternal.getContext("direction"),N=SvelteInternal.getContext("mounted");SvelteInternal.component_subscribe(e,N,(e=>n(49,h=e)));const E=SvelteInternal.getContext("graph"),A=SvelteInternal.getContext("nodeStore"),T=SvelteInternal.getContext("graphEdge"),L=SvelteInternal.getContext("nodeConnectEvent");SvelteInternal.component_subscribe(e,L,(e=>n(43,i=e)));const P=SvelteInternal.getContext("anchorsMounted");SvelteInternal.component_subscribe(e,P,(e=>n(56,g=e)));const D=SvelteInternal.getContext("flowchart")||void 0;let{bgColor:j=null}=t,{id:W=0}=t,{input:R=!1}=t,{output:Z=!1}=t,{multiple:B=!!Z||!R}=t,{dynamic:O=k||!1}=t,{edge:H=null}=t,{inputsStore:X=null}=t;_();let{key:F=null}=t,{outputStore:V=null}=t,{connections:Q=[]}=t,{edgeColor:G=SvelteStore.writable(null)}=t,{edgeLabel:Y=""}=t,{locked:U=!1}=t,{nodeConnect:J=!1}=t,{edgeStyle:ee=null}=t,{endStyles:te=[null,null]}=t,{invisible:ne=!1}=t,{direction:le=("TD"===M?R?"north":"south":R?"west":"east")}=t,{title:re=""}=t;const oe=SvelteInternal.createEventDispatcher(),ae=SvelteInternal.createEventDispatcher();let se,ie=!1,ce=!1,ve=0,de=R===Z?null:R?"input":"output",Se=[];const ue=C.edge,pe=C.anchors;SvelteInternal.component_subscribe(e,pe,(e=>n(48,I=e)));const Ie=C.resizingWidth;SvelteInternal.component_subscribe(e,Ie,(e=>n(46,u=e)));const he=C.resizingHeight;SvelteInternal.component_subscribe(e,he,(e=>n(45,S=e)));const ge=C.rotating;SvelteInternal.component_subscribe(e,ge,(e=>n(44,d=e)));const me=C.connections;SvelteInternal.component_subscribe(e,me,(e=>n(57,m=e)));const fe=`A-${W||pe.count()+1}/${C.id}`,_e=K(E,C,fe,{x:0,y:0},{width:0,height:0},X||V||null,H||ue||T||null,de,le,O,F,G);function $e(e,t,n){const l=we(e,t);l&&function(){if(R&&s&&s.store)a&&F&&X&&"function"==typeof X.set&&"function"==typeof X.update&&SvelteInternal.set_store_value(X,a[F]=s.store,a);else if(Z&&s&&s.store){const{store:e,key:t}=s;e&&t&&"function"==typeof e.update&&e.update((e=>V?(e[t]=V,e):e))}}(),n.shiftKey||Ce(l)}function be(e){if("changedTouches"in e&&l)!function(e){q.delete("cursor");const t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},n=document.elementFromPoint(t.x,t.y);if(!n)return;const l=n.parentElement;if(!l)return;const r=l.id,o=r.split("/")[1],a=A.get(o)?.anchors.get(r);a&&(q.delete("cursor"),$e(_e,a,e))}(e);else if(!l)return c?.size&&!B?(q.delete("cursor"),void(e.shiftKey||Ce(!1))):void(s&&ye(e))}function xe(e,t,n=!1){const l={color:G,label:{text:Y}};n&&(l.disconnect=!0),ee&&(l.type=ee),te[0]&&(l.start=te[0]),te[1]&&(l.start=te[1]);const r=v({source:e,target:t},e?.edge||null,l);q.add(r,"cursor")}function ye(e){if(q.delete("cursor"),!s)return;const t=s.anchor.type;if(s.anchor===_e||t===_e.type&&t)return void Ce(!1);let n,l;_e.recalculatePosition(),R===Z?"input"===t?(n=_e,l=s.anchor):(n=s.anchor,l=_e):R?(n=s.anchor,l=_e):(n=_e,l=s.anchor),$e(n,l,e)}function we(e,t){if(e===t)return!1;if(SvelteStore.get(e.connected).has(_e))return!1;const n={color:G,label:{text:Y}};if(D){const l=e.node.id.slice(2),r=D.nodeList[l];if(r){const e=t.node.id.slice(2),l=r.children.filter((t=>t.node.id===e))[0];if(l){const e=l;n.label={text:e.content}}}}ee&&(n.type=ee),te[0]&&(n.start=te[0]),te[1]&&(n.start=te[1]);const l=v({source:e,target:t},e?.edge||null,n);return!(!e.node||!t.node)&&(q.add(l,new Set([e,t,e.node,t.node])),!0)}function ke(){a&&F&&a[F]&&SvelteInternal.set_store_value(X,a[F]=SvelteStore.writable(SvelteStore.get(a[F])),a)}function Ce(e){!e&&i||(SvelteInternal.set_store_value(Ze,s=null,s),SvelteInternal.set_store_value(L,i=null,i))}function qe(){ie&&(se&&_e.recalculatePosition(),Re=requestAnimationFrame(qe))}function ze(){q.delete("cursor");q.match(_e).forEach((e=>q.delete(e))),Ce(!1),ke()}pe.add(_e,_e.id),SvelteInternal.onMount((()=>{se&&_e.recalculatePosition();const e=Array.from(SvelteStore.get(C.anchors)).reduce(((e,[,t])=>("output"===t.type&&e++,e)),0);if(m?.length&&!R){const t=[];let n=null;m.forEach(((l,r)=>{l&&(null===n&&(n=r),(r-n)%e==0?(Se.push(l),t.push(null)):t.push(l))})),SvelteInternal.set_store_value(me,m=t,m)}SvelteInternal.set_store_value(P,g++,g)})),SvelteInternal.afterUpdate((()=>{se&&_e.recalculatePosition()})),SvelteInternal.onDestroy((()=>{ze(),cancelAnimationFrame(Re)}));const Me=e=>{let t,n,l=null;Array.isArray(e)?(t=e[0].toString(),n=e[1].toString()):(t=e.toString(),n=null);const r=`N-${t}`,o=A.get(r);if(!o)return!1;if(n){const e=`A-${n}/${r}`;l=o.anchors.get(e)||null}else{const e=SvelteStore.get(o.anchors),t=Array.from(e.values());if(!t.length)return!1;l=t.reduce(((e,t)=>e||"output"!==t.type?"output"===t.type?e:e?SvelteStore.get(t.connected).size<SvelteStore.get(e.connected).size?t:e:t:null),null)}if(!l)return!1;if(we(_e,l),l.store&&(X||V))if(R&&"output"===l.type)a&&F&&X&&"function"==typeof X.set&&"function"==typeof X.update&&SvelteInternal.set_store_value(X,a[F]=l.store,a);else if(Z&&"input"===l.type){const{store:e,inputKey:t}=l;e&&t&&"function"==typeof e.update&&e.update((e=>V?(e[t]=V,e):e))}return!0};return e.$$set=e=>{"bgColor"in e&&n(0,j=e.bgColor),"id"in e&&n(27,W=e.id),"input"in e&&n(1,R=e.input),"output"in e&&n(2,Z=e.output),"multiple"in e&&n(28,B=e.multiple),"dynamic"in e&&n(29,O=e.dynamic),"edge"in e&&n(7,H=e.edge),"inputsStore"in e&&_(n(3,X=e.inputsStore)),"key"in e&&n(30,F=e.key),"outputStore"in e&&n(31,V=e.outputStore),"connections"in e&&n(26,Q=e.connections),"edgeColor"in e&&n(32,G=e.edgeColor),"edgeLabel"in e&&n(33,Y=e.edgeLabel),"locked"in e&&n(4,U=e.locked),"nodeConnect"in e&&n(34,J=e.nodeConnect),"edgeStyle"in e&&n(35,ee=e.edgeStyle),"endStyles"in e&&n(36,te=e.endStyles),"invisible"in e&&n(5,ne=e.invisible),"direction"in e&&n(37,le=e.direction),"title"in e&&n(6,re=e.title),"$$scope"in e&&n(54,w=e.$$scope)},e.$$.update=()=>{if(2048&e.$$.dirty[1]&&n(11,l=s?.anchor===_e),536871168&e.$$.dirty[0]|65536&e.$$.dirty[1]&&O&&se&&function(e,t,n){if("self"===t)return;const l=e.parentNode;if(!l)return;l.removeChild(e);const r=document.querySelector(`#anchors-${t}-${n.id}`);r&&(r.appendChild(e),e&&n.recalculateAnchors())}(se,p,C),67108864&e.$$.dirty[0]|262144&e.$$.dirty[1]&&h===A.count()&&Q.length&&Q.forEach((e=>{e&&Me(e)})),4104&e.$$.dirty[1]&&J&&i&&be(i),263168&e.$$.dirty[1]&&h===A.count()&&Se.length&&(Se.forEach(((e,t)=>{e&&Me(e)&&n(26,Q[t]=null,Q)})),n(41,Se=Se.filter((e=>null!==e)))),768&e.$$.dirty[0]|196608&e.$$.dirty[1]&&se&&_e.recalculatePosition(),57600&e.$$.dirty[1]&&(!ie&&(u||S||d)?(n(39,ie=!0),qe()):u||S||!ie||d||(n(39,ie=!1),cancelAnimationFrame(Re))),512&e.$$.dirty[0]|512&e.$$.dirty[1]&&c){if(c.size<ve)ae("disconnection",{node:C,anchor:_e});else if(c.size>ve){const e=Array.from(c),t=e[e.length-1];oe("connection",{node:C,anchor:_e,connectedNode:t.node,connectedAnchor:t})}n(40,ve=c.size)}},n(13,r=_e&&_e.connected),b(),b=SvelteInternal.subscribe(r,(e=>n(9,c=e))),n(12,o=_e?.direction),x(),x=SvelteInternal.subscribe(o,(e=>n(47,p=e))),[j,R,Z,X,U,ne,re,H,se,c,ce,l,o,r,q,N,L,P,pe,Ie,he,ge,me,_e,be,function(e){if(!U)return!c?.size||B||s?void(s?ye(e):R===Z?(SvelteInternal.set_store_value(Ze,s={anchor:_e,store:null,key:null},s),xe(_e,z)):R?(SvelteInternal.set_store_value(Ze,s={anchor:_e,store:X,key:F},s),xe(z,_e)):Z&&(SvelteInternal.set_store_value(Ze,s={anchor:_e,store:V,key:null},s),xe(_e,z))):function(){if(SvelteStore.get(_e.connected).size>1)return;const e=Array.from(SvelteStore.get(_e.connected))[0];if("input"===e.type)return;if(ze(),"output"===e.type){xe(e,z,!0),ke();const t=e.store;SvelteInternal.set_store_value(Ze,s={anchor:e,store:t,key:null},s)}else xe(e,z,!0),SvelteInternal.set_store_value(Ze,s={anchor:e,store:null,key:null},s)}()},Q,W,B,O,F,V,G,Y,J,ee,te,le,function(e){const t=`N-${e[0]}`,n=A.get(t);if(!n)return;const l=n.anchors.get(`A-${e[1]}/N-${e[0]}`);if(!l)return;const r=q.match(_e,l);r&&q.delete(r[0])},ie,ve,Se,s,i,d,S,u,p,I,h,y,()=>n(10,ce=!0),()=>n(10,ce=!1),function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{se=e,n(8,se)}))},w]}class Oe extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Be,We,SvelteInternal.safe_not_equal,{bgColor:0,id:27,input:1,output:2,multiple:28,dynamic:29,edge:7,inputsStore:3,key:30,outputStore:31,connections:26,edgeColor:32,edgeLabel:33,locked:4,nodeConnect:34,edgeStyle:35,endStyles:36,invisible:5,direction:37,title:6,disconnect:38},me,[-1,-1,-1])}get bgColor(){return this.$$.ctx[0]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}get id(){return this.$$.ctx[27]}set id(e){this.$$set({id:e}),SvelteInternal.flush()}get input(){return this.$$.ctx[1]}set input(e){this.$$set({input:e}),SvelteInternal.flush()}get output(){return this.$$.ctx[2]}set output(e){this.$$set({output:e}),SvelteInternal.flush()}get multiple(){return this.$$.ctx[28]}set multiple(e){this.$$set({multiple:e}),SvelteInternal.flush()}get dynamic(){return this.$$.ctx[29]}set dynamic(e){this.$$set({dynamic:e}),SvelteInternal.flush()}get edge(){return this.$$.ctx[7]}set edge(e){this.$$set({edge:e}),SvelteInternal.flush()}get inputsStore(){return this.$$.ctx[3]}set inputsStore(e){this.$$set({inputsStore:e}),SvelteInternal.flush()}get key(){return this.$$.ctx[30]}set key(e){this.$$set({key:e}),SvelteInternal.flush()}get outputStore(){return this.$$.ctx[31]}set outputStore(e){this.$$set({outputStore:e}),SvelteInternal.flush()}get connections(){return this.$$.ctx[26]}set connections(e){this.$$set({connections:e}),SvelteInternal.flush()}get edgeColor(){return this.$$.ctx[32]}set edgeColor(e){this.$$set({edgeColor:e}),SvelteInternal.flush()}get edgeLabel(){return this.$$.ctx[33]}set edgeLabel(e){this.$$set({edgeLabel:e}),SvelteInternal.flush()}get locked(){return this.$$.ctx[4]}set locked(e){this.$$set({locked:e}),SvelteInternal.flush()}get nodeConnect(){return this.$$.ctx[34]}set nodeConnect(e){this.$$set({nodeConnect:e}),SvelteInternal.flush()}get edgeStyle(){return this.$$.ctx[35]}set edgeStyle(e){this.$$set({edgeStyle:e}),SvelteInternal.flush()}get endStyles(){return this.$$.ctx[36]}set endStyles(e){this.$$set({endStyles:e}),SvelteInternal.flush()}get invisible(){return this.$$.ctx[5]}set invisible(e){this.$$set({invisible:e}),SvelteInternal.flush()}get direction(){return this.$$.ctx[37]}set direction(e){this.$$set({direction:e}),SvelteInternal.flush()}get title(){return this.$$.ctx[6]}set title(e){this.$$set({title:e}),SvelteInternal.flush()}get disconnect(){return this.$$.ctx[38]}}function He(e){SvelteInternal.append_styles(e,"svelte-1ryxg7v",".svelte-1ryxg7v{position:absolute;width:9px;height:9px;z-index:0;pointer-events:auto}.width.svelte-1ryxg7v{height:calc(100% - 3px);top:-3px;cursor:col-resize}.left.svelte-1ryxg7v{left:-3px}.right.svelte-1ryxg7v{right:-3px}.height.svelte-1ryxg7v{width:calc(100% - 3px);left:-3px;cursor:row-resize}.top.svelte-1ryxg7v{top:-3px}.bottom.svelte-1ryxg7v{bottom:-3px}.both.svelte-1ryxg7v{bottom:-3px;right:-3px;cursor:nwse-resize}.rotation.svelte-1ryxg7v{top:-3px;left:-3px;cursor:crosshair}")}function Xe(e){let t,n,l,r,o;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.space(),l=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","left svelte-1ryxg7v"),SvelteInternal.toggle_class(t,"width",e[0]),SvelteInternal.attr(l,"class","right svelte-1ryxg7v"),SvelteInternal.toggle_class(l,"width",e[0])},m(a,s){SvelteInternal.insert(a,t,s),SvelteInternal.insert(a,n,s),SvelteInternal.insert(a,l,s),r||(o=[SvelteInternal.action_destroyer(e[16].call(null,t,{left:e[3]})),SvelteInternal.action_destroyer(e[16].call(null,l,{right:e[4]}))],r=!0)},p(e,n){1&n[0]&&SvelteInternal.toggle_class(t,"width",e[0]),1&n[0]&&SvelteInternal.toggle_class(l,"width",e[0])},d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(n),SvelteInternal.detach(l)),r=!1,SvelteInternal.run_all(o)}}}function Fe(e){let t,n,l,r,o;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.space(),l=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","top svelte-1ryxg7v"),SvelteInternal.toggle_class(t,"height",e[1]),SvelteInternal.attr(l,"class","bottom svelte-1ryxg7v"),SvelteInternal.toggle_class(l,"height",e[1])},m(a,s){SvelteInternal.insert(a,t,s),SvelteInternal.insert(a,n,s),SvelteInternal.insert(a,l,s),r||(o=[SvelteInternal.action_destroyer(e[16].call(null,t,{top:e[5]})),SvelteInternal.action_destroyer(e[16].call(null,l,{bottom:e[6]}))],r=!0)},p(e,n){2&n[0]&&SvelteInternal.toggle_class(t,"height",e[1]),2&n[0]&&SvelteInternal.toggle_class(l,"height",e[1])},d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(n),SvelteInternal.detach(l)),r=!1,SvelteInternal.run_all(o)}}}function Ve(e){let t,n,l;return{c(){t=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","svelte-1ryxg7v"),SvelteInternal.toggle_class(t,"rotation",e[2])},m(r,o){SvelteInternal.insert(r,t,o),n||(l=SvelteInternal.action_destroyer(e[17].call(null,t)),n=!0)},p(e,n){4&n[0]&&SvelteInternal.toggle_class(t,"rotation",e[2])},d(e){e&&SvelteInternal.detach(t),n=!1,l()}}}function Qe(e){let t,n,l,r,o=e[0]&&Xe(e),a=e[1]&&Fe(e),s=e[7]&&function(e){let t,n,l;return{c(){t=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","svelte-1ryxg7v"),SvelteInternal.toggle_class(t,"both",e[7])},m(r,o){SvelteInternal.insert(r,t,o),n||(l=SvelteInternal.action_destroyer(e[16].call(null,t,{both:e[7]})),n=!0)},p:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),n=!1,l()}}}(e),i=e[2]&&Ve(e);return{c(){o&&o.c(),t=SvelteInternal.space(),a&&a.c(),n=SvelteInternal.space(),s&&s.c(),l=SvelteInternal.space(),i&&i.c(),r=SvelteInternal.empty()},m(e,c){o&&o.m(e,c),SvelteInternal.insert(e,t,c),a&&a.m(e,c),SvelteInternal.insert(e,n,c),s&&s.m(e,c),SvelteInternal.insert(e,l,c),i&&i.m(e,c),SvelteInternal.insert(e,r,c)},p(e,l){e[0]?o?o.p(e,l):(o=Xe(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[1]?a?a.p(e,l):(a=Fe(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),e[7]&&s.p(e,l),e[2]?i?i.p(e,l):(i=Ve(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(n),SvelteInternal.detach(l),SvelteInternal.detach(r)),o&&o.d(e),a&&a.d(e),s&&s.d(e),i&&i.d(e)}}}function Ge(e,t,n){let l,r,o,a,s,i,c,v,d,u,p,h;SvelteInternal.component_subscribe(e,S,(e=>n(38,c=e)));const g=SvelteInternal.getContext("graph"),m=SvelteInternal.getContext("node"),f=SvelteInternal.getContext("resized");let _,{width:$=!1}=t,{height:b=!1}=t,{rotation:y=!1}=t,{minHeight:w=0}=t,{minWidth:k=0}=t,C=$,q=$,z=b,M=b,N=$&&b,E=0,A=0,T=SvelteStore.get(m.position);const L=m.position;SvelteInternal.component_subscribe(e,L,(e=>n(32,p=e)));const P=m.resizingWidth;SvelteInternal.component_subscribe(e,P,(e=>n(31,u=e)));const D=m.resizingHeight;SvelteInternal.component_subscribe(e,D,(e=>n(30,d=e)));const j=m.rotating;SvelteInternal.component_subscribe(e,j,(e=>n(28,i=e)));const W=m.rotation;SvelteInternal.component_subscribe(e,W,(e=>n(29,v=e)));const R=m.dimensions.height;SvelteInternal.component_subscribe(e,R,(e=>n(26,a=e)));const Z=m.dimensions.width;SvelteInternal.component_subscribe(e,Z,(e=>n(27,s=e)));const B=g.cursor;let O,H;SvelteInternal.component_subscribe(e,B,(e=>n(33,h=e)));let X=1;function F(){const e=SvelteStore.get(B),t=e.x-o.x,n=e.y-o.y,l=Math.atan2(n,t);return E-(A-l)*(180/Math.PI)}return SvelteInternal.onMount((()=>{try{_=document.querySelector(`#${m.id}`),_&&n(19,[k,w]=x(_),k,n(18,w))}catch(e){console.error(e)}})),SvelteInternal.beforeUpdate((()=>{_&&n(19,[k,w]=x(_),k,n(18,w)),s<k&&f.set(!1),a<w&&f.set(!1)})),e.$$set=e=>{"width"in e&&n(0,$=e.width),"height"in e&&n(1,b=e.height),"rotation"in e&&n(2,y=e.rotation),"minHeight"in e&&n(18,w=e.minHeight),"minWidth"in e&&n(19,k=e.minWidth)},e.$$.update=()=>{if(268435456&e.$$.dirty[0]|4&e.$$.dirty[1]&&i&&SvelteInternal.set_store_value(W,v=F(),v),1624506368&e.$$.dirty[0]|4&e.$$.dirty[1]&&d){const e=SvelteStore.get(S),t=h,n=Math.max(w,H+(t.y-e.y)*X);n>w?(f.set(!0),SvelteInternal.set_store_value(R,a=n,a)):f.set(!1),-1===X&&SvelteInternal.set_store_value(L,p={x:T.x,y:T.y+t.y-e.y},p),0!==v&&m.position.update((e=>({y:T.y-(n-H)/2,x:e.x})))}if(548929536&e.$$.dirty[0]|5&e.$$.dirty[1]&&u){const e=SvelteStore.get(S),t=h,n=Math.max(k,O+(t.x-e.x)*X);n>k?(f.set(!0),SvelteInternal.set_store_value(Z,s=n,s)):f.set(!1),-1===X&&SvelteInternal.set_store_value(L,p={x:T.x+t.x-e.x,y:T.y},p),0!==v&&m.position.update((e=>({x:T.x-(n-O)/2,y:e.y})))}2&e.$$.dirty[1]&&n(25,l=p.x),2&e.$$.dirty[1]&&n(24,r=p.y),251658240&e.$$.dirty[0]&&(o={x:l+s/2,y:r+a/2})},[$,b,y,C,q,z,M,N,L,P,D,j,W,R,Z,B,function(e,t){const l=e=>{e.stopPropagation(),e.preventDefault(),t.left||t.top?n(23,X=-1):n(23,X=1),I.set(!0),SvelteInternal.set_store_value(S,c=SvelteStore.get(B),c),n(21,O=s),n(22,H=a),n(20,T=p),t.both?SvelteInternal.set_store_value(P,u=!0,u):SvelteInternal.set_store_value(P,u=!1,u),SvelteInternal.set_store_value(P,u=t.left||t.right||t.both||!1,u),SvelteInternal.set_store_value(D,d=t.top||t.bottom||t.both||!1,d),_&&n(19,[k,w]=x(_),k,n(18,w)),window.addEventListener("mouseup",r)},r=()=>{SvelteInternal.set_store_value(P,u=!1,u),SvelteInternal.set_store_value(D,d=!1,d),I.set(!1),window.removeEventListener("mouseup",r)};return e.addEventListener("mousedown",l),{destroy(){e.removeEventListener("mousedown",l)}}},function(e){const t=e=>{e.stopPropagation(),e.preventDefault(),E=v,SvelteInternal.set_store_value(S,c=SvelteStore.get(B),c);const t=c.x-o.x,l=c.y-o.y;A=Math.atan2(l,t),SvelteInternal.set_store_value(j,i=!0,i),window.addEventListener("mouseup",n)},n=()=>{SvelteInternal.set_store_value(j,i=!1,i),window.removeEventListener("mouseup",n)};return e.addEventListener("mousedown",t),{destroy(){e.removeEventListener("mousedown",t)}}},w,k,T,O,H,X,r,l,a,s,i,v,d,u,p,h]}class Ye extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Ge,Qe,SvelteInternal.safe_not_equal,{width:0,height:1,rotation:2,minHeight:18,minWidth:19},He,[-1,-1])}get width(){return this.$$.ctx[0]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get rotation(){return this.$$.ctx[2]}set rotation(e){this.$$set({rotation:e}),SvelteInternal.flush()}get minHeight(){return this.$$.ctx[18]}set minHeight(e){this.$$set({minHeight:e}),SvelteInternal.flush()}get minWidth(){return this.$$.ctx[19]}set minWidth(e){this.$$set({minWidth:e}),SvelteInternal.flush()}}function Ke(e){SvelteInternal.append_styles(e,"svelte-j5bq7k",".default-node.svelte-j5bq7k{display:flex;justify-content:center;align-items:center;position:relative;box-sizing:border-box;width:inherit;height:inherit}p.svelte-j5bq7k{font-size:20px;line-height:20px;text-align:center;user-select:none}.input-anchors.svelte-j5bq7k,.output-anchors.svelte-j5bq7k{display:flex;position:absolute;justify-content:center;align-items:center;z-index:1;pointer-events:none}.top.svelte-j5bq7k,.bottom.svelte-j5bq7k{width:100%;justify-content:space-around}.top.svelte-j5bq7k{transform:translate(0px, -50%);top:0px}.bottom.svelte-j5bq7k{transform:translate(0px, 50%);bottom:0px}.left.svelte-j5bq7k,.right.svelte-j5bq7k{height:100%;flex-direction:column;justify-content:space-around}.left.svelte-j5bq7k{transform:translate(-50%);left:0px}.right.svelte-j5bq7k{transform:translate(50%);right:0px}")}function Ue(e,t,n){const l=e.slice();return l[28]=t[n],l[34]=n,l}function Je(e,t,n){const l=e.slice();return l[28]=t[n],l[34]=n,l}function et(e,t,n){const l=e.slice();return l[28]=t[n],l}function tt(e,t,n){const l=e.slice();return l[28]=t[n],l}function nt(e){let t,n,l,r,o=[],a=new Map,s=[],i=new Map,c=SvelteInternal.ensure_array_like({length:e[2]});const v=e=>e[34];for(let t=0;t<c.length;t+=1){let n=Je(e,c,t),l=v(n);a.set(l,o[t]=rt(l,n))}let d=SvelteInternal.ensure_array_like({length:e[3]});const S=e=>e[34];for(let t=0;t<d.length;t+=1){let n=Ue(e,d,t),l=S(n);i.set(l,s[t]=ot(l,n))}return{c(){t=SvelteInternal.element("div");for(let e=0;e<o.length;e+=1)o[e].c();n=SvelteInternal.space(),l=SvelteInternal.element("div");for(let e=0;e<s.length;e+=1)s[e].c();SvelteInternal.attr(t,"class","input-anchors svelte-j5bq7k"),SvelteInternal.toggle_class(t,"top",e[14]),SvelteInternal.toggle_class(t,"left",e[16]),SvelteInternal.attr(l,"class","output-anchors svelte-j5bq7k"),SvelteInternal.toggle_class(l,"bottom",e[15]),SvelteInternal.toggle_class(l,"right",e[17])},m(e,a){SvelteInternal.insert(e,t,a);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);SvelteInternal.insert(e,n,a),SvelteInternal.insert(e,l,a);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(l,null);r=!0},p(e,n){16388&n[0]&&(c=SvelteInternal.ensure_array_like({length:e[2]}),SvelteInternal.group_outros(),o=SvelteInternal.update_keyed_each(o,n,v,1,e,c,a,t,SvelteInternal.outro_and_destroy_block,rt,null,Je),SvelteInternal.check_outros()),16392&n[0]&&(d=SvelteInternal.ensure_array_like({length:e[3]}),SvelteInternal.group_outros(),s=SvelteInternal.update_keyed_each(s,n,S,1,e,d,i,l,SvelteInternal.outro_and_destroy_block,ot,null,Ue),SvelteInternal.check_outros())},i(e){if(!r){for(let e=0;e<c.length;e+=1)SvelteInternal.transition_in(o[e]);for(let e=0;e<d.length;e+=1)SvelteInternal.transition_in(s[e]);r=!0}},o(e){for(let e=0;e<o.length;e+=1)SvelteInternal.transition_out(o[e]);for(let e=0;e<s.length;e+=1)SvelteInternal.transition_out(s[e]);r=!1},d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(n),SvelteInternal.detach(l));for(let e=0;e<o.length;e+=1)o[e].d();for(let e=0;e<s.length;e+=1)s[e].d()}}}function lt(e){let t,n,l,r=SvelteInternal.ensure_array_like({length:e[2]}),o=[];for(let t=0;t<r.length;t+=1)o[t]=at(tt(e,r,t));const a=e=>SvelteInternal.transition_out(o[e],1,1,(()=>{o[e]=null}));let s=SvelteInternal.ensure_array_like({length:e[3]}),i=[];for(let t=0;t<s.length;t+=1)i[t]=st(et(e,s,t));const c=e=>SvelteInternal.transition_out(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=SvelteInternal.space();for(let e=0;e<i.length;e+=1)i[e].c();n=SvelteInternal.empty()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);SvelteInternal.insert(e,t,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,r);SvelteInternal.insert(e,n,r),l=!0},p(e,l){if(4&l[0]){const n=r.length;let l;for(r=SvelteInternal.ensure_array_like({length:e[2]}),l=n;l<r.length;l+=1){const n=tt(e,r,l);o[l]?SvelteInternal.transition_in(o[l],1):(o[l]=at(n),o[l].c(),SvelteInternal.transition_in(o[l],1),o[l].m(t.parentNode,t))}for(SvelteInternal.group_outros(),l=r.length;l<o.length;l+=1)a(l);SvelteInternal.check_outros()}if(8&l[0]){const t=s.length;let l;for(s=SvelteInternal.ensure_array_like({length:e[3]}),l=t;l<s.length;l+=1){const t=et(e,s,l);i[l]?SvelteInternal.transition_in(i[l],1):(i[l]=st(t),i[l].c(),SvelteInternal.transition_in(i[l],1),i[l].m(n.parentNode,n))}for(SvelteInternal.group_outros(),l=s.length;l<i.length;l+=1)c(l);SvelteInternal.check_outros()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)SvelteInternal.transition_in(o[e]);for(let e=0;e<s.length;e+=1)SvelteInternal.transition_in(i[e]);l=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)SvelteInternal.transition_out(o[e]);i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)SvelteInternal.transition_out(i[e]);l=!1},d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(n)),SvelteInternal.destroy_each(o,e),SvelteInternal.destroy_each(i,e)}}}function rt(e,t){let n,l,r;return l=new Oe({props:{input:!0,direction:t[14]?"north":"west"}}),l.$on("connection",t[22]),l.$on("disconnection",t[23]),{key:e,first:null,c(){n=SvelteInternal.empty(),SvelteInternal.create_component(l.$$.fragment),this.first=n},m(e,t){SvelteInternal.insert(e,n,t),SvelteInternal.mount_component(l,e,t),r=!0},p(e,n){t=e},i(e){r||(SvelteInternal.transition_in(l.$$.fragment,e),r=!0)},o(e){SvelteInternal.transition_out(l.$$.fragment,e),r=!1},d(e){e&&SvelteInternal.detach(n),SvelteInternal.destroy_component(l,e)}}}function ot(e,t){let n,l,r;return l=new Oe({props:{output:!0,direction:t[14]?"south":"east"}}),l.$on("connection",t[24]),l.$on("disconnection",t[25]),{key:e,first:null,c(){n=SvelteInternal.empty(),SvelteInternal.create_component(l.$$.fragment),this.first=n},m(e,t){SvelteInternal.insert(e,n,t),SvelteInternal.mount_component(l,e,t),r=!0},p(e,n){t=e},i(e){r||(SvelteInternal.transition_in(l.$$.fragment,e),r=!0)},o(e){SvelteInternal.transition_out(l.$$.fragment,e),r=!1},d(e){e&&SvelteInternal.detach(n),SvelteInternal.destroy_component(l,e)}}}function at(e){let t,n;return t=new Oe({}),t.$on("connection",e[18]),t.$on("disconnection",e[19]),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function st(e){let t,n;return t=new Oe({}),t.$on("connection",e[20]),t.$on("disconnection",e[21]),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function it(e){let t,n;return t=new Ye({props:{width:!0,height:!0,rotation:!0}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function ct(e){let t,n,l,r,o,a,s,i,c=`${e[1]}px`;const v=[lt,nt],d=[];n=function(e,t){return e[7]?0:1}(e),l=d[n]=v[n](e);let S=e[6]&&it();return{c(){t=SvelteInternal.element("div"),l.c(),r=SvelteInternal.space(),o=SvelteInternal.element("p"),a=SvelteInternal.text(e[5]),s=SvelteInternal.space(),S&&S.c(),SvelteInternal.attr(o,"class","svelte-j5bq7k"),SvelteInternal.set_style(o,"color",e[4]),SvelteInternal.attr(t,"class","default-node svelte-j5bq7k"),SvelteInternal.toggle_class(t,"selected",e[0]),SvelteInternal.set_style(t,"border-radius",c)},m(e,l){SvelteInternal.insert(e,t,l),d[n].m(t,null),SvelteInternal.append(t,r),SvelteInternal.append(t,o),SvelteInternal.append(o,a),SvelteInternal.append(t,s),S&&S.m(t,null),i=!0},p(e,n){l.p(e,n),(!i||32&n[0])&&SvelteInternal.set_data(a,e[5]),16&n[0]&&SvelteInternal.set_style(o,"color",e[4]),e[6]?S?64&n[0]&&SvelteInternal.transition_in(S,1):(S=it(),S.c(),SvelteInternal.transition_in(S,1),S.m(t,null)):S&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(S,1,1,(()=>{S=null})),SvelteInternal.check_outros()),(!i||1&n[0])&&SvelteInternal.toggle_class(t,"selected",e[0]),2&n[0]&&c!==(c=`${e[1]}px`)&&SvelteInternal.set_style(t,"border-radius",c)},i(e){i||(SvelteInternal.transition_in(l),SvelteInternal.transition_in(S),i=!0)},o(e){SvelteInternal.transition_out(l),SvelteInternal.transition_out(S),i=!1},d(e){e&&SvelteInternal.detach(t),d[n].d(),S&&S.d()}}}function vt(e,t,n){let l,r,o,a,s,i;const c=SvelteInternal.getContext("dynamic"),v=SvelteInternal.getContext("node");let{selected:d}=t;const S=v.label;SvelteInternal.component_subscribe(e,S,(e=>n(5,s=e)));const u=v.borderRadius;SvelteInternal.component_subscribe(e,u,(e=>n(1,l=e)));const p=v.textColor;SvelteInternal.component_subscribe(e,p,(e=>n(4,a=e)));const I=v.inputs;SvelteInternal.component_subscribe(e,I,(e=>n(2,r=e)));const h=v.outputs;SvelteInternal.component_subscribe(e,h,(e=>n(3,o=e)));const g=v.resizable;SvelteInternal.component_subscribe(e,g,(e=>n(6,i=e)));const m=SvelteStore.get(v.direction);let f="TD"===m,_="TD"===m,$="TD"!==m,b="TD"!==m;return e.$$set=e=>{"selected"in e&&n(0,d=e.selected)},[d,l,r,o,a,s,i,c,S,u,p,I,h,g,f,_,$,b,function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)}]}class dt extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,vt,ct,SvelteInternal.safe_not_equal,{selected:0},Ke,[-1,-1])}get selected(){return this.$$.ctx[0]}set selected(e){this.$$set({selected:e}),SvelteInternal.flush()}}function St(e){SvelteInternal.append_styles(e,"svelte-1iknrz0",".svelvet-node.svelte-1iknrz0{position:absolute;pointer-events:all;display:flex;justify-content:center;align-items:center;will-change:top, left;cursor:var(--node-cursor, var(--default-node-cursor));--final-border-width:var(\n\t\t\t--prop-border-width,\n\t\t\tvar(--node-border-width, var(--default-node-border-width))\n\t\t);--final-border-color:var(\n\t\t\t--prop-border-color,\n\t\t\tvar(--node-border-color, var(--default-node-border-color))\n\t\t);--final-selection-color:var(\n\t\t\t--prop-selection-color,\n\t\t\tvar(--node-selection-color, var(--default-node-selection-color))\n\t\t);border-radius:var(\n\t\t\t--prop-border-radius,\n\t\t\tvar(--node-border-radius, var(--default-node-border-radius))\n\t\t);background-color:var(--prop-background-color, var(--node-color, var(--default-node-color)));color:var(--prop-text-color, var(--text-color, var(--default-text-color)));box-shadow:0 0 0 var(--final-border-width) var(--final-border-color),\n\t\t\tvar(--default-node-shadow);font-family:'Roboto', sans-serif}.anchors.svelte-1iknrz0{display:flex;position:absolute;justify-content:center;align-items:center;z-index:1;pointer-events:none}.top.svelte-1iknrz0,.bottom.svelte-1iknrz0{width:100%;justify-content:space-around}.top.svelte-1iknrz0{transform:translate(0px, -50%);top:0px}.bottom.svelte-1iknrz0{transform:translate(0px, 50%);bottom:0px}.left.svelte-1iknrz0,.right.svelte-1iknrz0{height:100%;flex-direction:column;justify-content:space-around}.left.svelte-1iknrz0{transform:translate(-50%);left:0px}.right.svelte-1iknrz0{transform:translate(50%);right:0px}.locked.svelte-1iknrz0{cursor:var(--node-cursor-blocked, var(--default-node-cursor-blocked))}.selected.svelte-1iknrz0{box-shadow:0 0 0 var(--final-border-width) var(--final-selection-color),\n\t\t\tvar(--default-node-shadow)}")}const ut=e=>({}),pt=e=>({}),It=e=>({}),ht=e=>({}),gt=e=>({}),mt=e=>({}),ft=e=>({}),_t=e=>({}),$t=e=>({selected:2048&e[0]}),bt=e=>({grabHandle:e[50],selected:e[11],destroy:e[48]}),xt=e=>({selected:2048&e[0]}),yt=e=>({grabHandle:e[50],selected:e[11],destroy:e[48]});function wt(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m,f=`${e[14].y}px`,_=`${e[14].x}px`,$=`rotate(${e[20]}deg)`;const b=[Ct,kt],x=[];function y(e,t){return e[12]?1:0}n=y(e),l=x[n]=b[n](e);const w=e[61].anchorWest,k=SvelteInternal.create_slot(w,e,e[60],_t),C=e[61].anchorEast,q=SvelteInternal.create_slot(C,e,e[60],mt),z=e[61].anchorNorth,M=SvelteInternal.create_slot(z,e,e[60],ht),N=e[61].anchorSouth,E=SvelteInternal.create_slot(N,e,e[60],pt);return{c(){t=SvelteInternal.element("div"),l.c(),r=SvelteInternal.space(),o=SvelteInternal.element("div"),k&&k.c(),s=SvelteInternal.space(),i=SvelteInternal.element("div"),q&&q.c(),v=SvelteInternal.space(),d=SvelteInternal.element("div"),M&&M.c(),u=SvelteInternal.space(),p=SvelteInternal.element("div"),E&&E.c(),SvelteInternal.attr(o,"id",a=`anchors-west-${e[0].id}`),SvelteInternal.attr(o,"class","anchors left svelte-1iknrz0"),SvelteInternal.attr(i,"id",c=`anchors-east-${e[0].id}`),SvelteInternal.attr(i,"class","anchors right svelte-1iknrz0"),SvelteInternal.attr(d,"id",S=`anchors-north-${e[0].id}`),SvelteInternal.attr(d,"class","anchors top svelte-1iknrz0"),SvelteInternal.attr(p,"id",I=`anchors-south-${e[0].id}`),SvelteInternal.attr(p,"class","anchors bottom svelte-1iknrz0"),SvelteInternal.attr(t,"id",e[30]),SvelteInternal.attr(t,"class","svelvet-node svelte-1iknrz0"),SvelteInternal.attr(t,"role","button"),SvelteInternal.attr(t,"title",e[10]),SvelteInternal.attr(t,"tabindex",0),SvelteInternal.toggle_class(t,"selected",e[11]),SvelteInternal.toggle_class(t,"locked",e[16]||e[15]),SvelteInternal.set_style(t,"top",f),SvelteInternal.set_style(t,"left",_),SvelteInternal.set_style(t,"z-index",e[17]),SvelteInternal.set_style(t,"width",e[12]?e[19]+"px":"fit-content"),SvelteInternal.set_style(t,"height",e[12]?e[18]+"px":"fit-content"),SvelteInternal.set_style(t,"transform",$),SvelteInternal.set_style(t,"--prop-background-color",e[21]||(e[1]||e[2]?null:"transparent")),SvelteInternal.set_style(t,"--prop-text-color",e[22]),SvelteInternal.set_style(t,"--prop-border-color",e[23]),SvelteInternal.set_style(t,"--prop-selection-color",e[24]),SvelteInternal.set_style(t,"--prop-border-radius",e[25]?`${e[25]}px`:e[1]||e[2]?null:"0px"),SvelteInternal.set_style(t,"--prop-border-width",e[26]||(e[1]||e[2]?null:"0px"))},m(l,a){SvelteInternal.insert(l,t,a),x[n].m(t,null),SvelteInternal.append(t,r),SvelteInternal.append(t,o),k&&k.m(o,null),SvelteInternal.append(t,s),SvelteInternal.append(t,i),q&&q.m(i,null),SvelteInternal.append(t,v),SvelteInternal.append(t,d),M&&M.m(d,null),SvelteInternal.append(t,u),SvelteInternal.append(t,p),E&&E.m(p,null),h=!0,g||(m=[SvelteInternal.listen(t,"contextmenu",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[62]))),SvelteInternal.listen(t,"mouseup",e[49]),SvelteInternal.action_destroyer(e[50].call(null,t))],g=!0)},p(e,s){let v=n;n=y(e),n===v?x[n].p(e,s):(SvelteInternal.group_outros(),SvelteInternal.transition_out(x[v],1,1,(()=>{x[v]=null})),SvelteInternal.check_outros(),l=x[n],l?l.p(e,s):(l=x[n]=b[n](e),l.c()),SvelteInternal.transition_in(l,1),l.m(t,r)),k&&k.p&&(!h||536870912&s[1])&&SvelteInternal.update_slot_base(k,w,e,e[60],h?SvelteInternal.get_slot_changes(w,e[60],s,ft):SvelteInternal.get_all_dirty_from_scope(e[60]),_t),(!h||1&s[0]&&a!==(a=`anchors-west-${e[0].id}`))&&SvelteInternal.attr(o,"id",a),q&&q.p&&(!h||536870912&s[1])&&SvelteInternal.update_slot_base(q,C,e,e[60],h?SvelteInternal.get_slot_changes(C,e[60],s,gt):SvelteInternal.get_all_dirty_from_scope(e[60]),mt),(!h||1&s[0]&&c!==(c=`anchors-east-${e[0].id}`))&&SvelteInternal.attr(i,"id",c),M&&M.p&&(!h||536870912&s[1])&&SvelteInternal.update_slot_base(M,z,e,e[60],h?SvelteInternal.get_slot_changes(z,e[60],s,It):SvelteInternal.get_all_dirty_from_scope(e[60]),ht),(!h||1&s[0]&&S!==(S=`anchors-north-${e[0].id}`))&&SvelteInternal.attr(d,"id",S),E&&E.p&&(!h||536870912&s[1])&&SvelteInternal.update_slot_base(E,N,e,e[60],h?SvelteInternal.get_slot_changes(N,e[60],s,ut):SvelteInternal.get_all_dirty_from_scope(e[60]),pt),(!h||1&s[0]&&I!==(I=`anchors-south-${e[0].id}`))&&SvelteInternal.attr(p,"id",I),(!h||1024&s[0])&&SvelteInternal.attr(t,"title",e[10]),(!h||2048&s[0])&&SvelteInternal.toggle_class(t,"selected",e[11]),(!h||98304&s[0])&&SvelteInternal.toggle_class(t,"locked",e[16]||e[15]),16384&s[0]&&f!==(f=`${e[14].y}px`)&&SvelteInternal.set_style(t,"top",f),16384&s[0]&&_!==(_=`${e[14].x}px`)&&SvelteInternal.set_style(t,"left",_),131072&s[0]&&SvelteInternal.set_style(t,"z-index",e[17]),528384&s[0]&&SvelteInternal.set_style(t,"width",e[12]?e[19]+"px":"fit-content"),266240&s[0]&&SvelteInternal.set_style(t,"height",e[12]?e[18]+"px":"fit-content"),1048576&s[0]&&$!==($=`rotate(${e[20]}deg)`)&&SvelteInternal.set_style(t,"transform",$),2097158&s[0]&&SvelteInternal.set_style(t,"--prop-background-color",e[21]||(e[1]||e[2]?null:"transparent")),4194304&s[0]&&SvelteInternal.set_style(t,"--prop-text-color",e[22]),8388608&s[0]&&SvelteInternal.set_style(t,"--prop-border-color",e[23]),16777216&s[0]&&SvelteInternal.set_style(t,"--prop-selection-color",e[24]),33554438&s[0]&&SvelteInternal.set_style(t,"--prop-border-radius",e[25]?`${e[25]}px`:e[1]||e[2]?null:"0px"),67108870&s[0]&&SvelteInternal.set_style(t,"--prop-border-width",e[26]||(e[1]||e[2]?null:"0px"))},i(e){h||(SvelteInternal.transition_in(l),SvelteInternal.transition_in(k,e),SvelteInternal.transition_in(q,e),SvelteInternal.transition_in(M,e),SvelteInternal.transition_in(E,e),h=!0)},o(e){SvelteInternal.transition_out(l),SvelteInternal.transition_out(k,e),SvelteInternal.transition_out(q,e),SvelteInternal.transition_out(M,e),SvelteInternal.transition_out(E,e),h=!1},d(e){e&&SvelteInternal.detach(t),x[n].d(),k&&k.d(e),q&&q.d(e),M&&M.d(e),E&&E.d(e),g=!1,SvelteInternal.run_all(m)}}}function kt(e){let t;const n=e[61].default,l=SvelteInternal.create_slot(n,e,e[60],bt);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||2048&r[0]|536870912&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[60],t?SvelteInternal.get_slot_changes(n,e[60],r,$t):SvelteInternal.get_all_dirty_from_scope(e[60]),bt)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Ct(e){let t,n,l;const r=e[61].default,o=SvelteInternal.create_slot(r,e,e[60],yt);return{c(){t=SvelteInternal.element("div"),o&&o.c(),SvelteInternal.add_render_callback((()=>e[63].call(t))),SvelteInternal.set_style(t,"width","fit-content"),SvelteInternal.set_style(t,"height","fit-content")},m(r,a){SvelteInternal.insert(r,t,a),o&&o.m(t,null),n=SvelteInternal.add_iframe_resize_listener(t,e[63].bind(t)),l=!0},p(e,t){o&&o.p&&(!l||2048&t[0]|536870912&t[1])&&SvelteInternal.update_slot_base(o,r,e,e[60],l?SvelteInternal.get_slot_changes(r,e[60],t,xt):SvelteInternal.get_all_dirty_from_scope(e[60]),yt)},i(e){l||(SvelteInternal.transition_in(o,e),l=!0)},o(e){SvelteInternal.transition_out(o,e),l=!1},d(e){e&&SvelteInternal.detach(t),o&&o.d(e),n()}}}function qt(e){let t,n,l=!e[13]&&wt(e);return{c(){l&&l.c(),t=SvelteInternal.empty()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),n=!0},p(e,n){e[13]?l&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(l,1,1,(()=>{l=null})),SvelteInternal.check_outros()):l?(l.p(e,n),8192&n[0]&&SvelteInternal.transition_in(l,1)):(l=wt(e),l.c(),SvelteInternal.transition_in(l,1),l.m(t.parentNode,t))},i(e){n||(SvelteInternal.transition_in(l),n=!0)},o(e){SvelteInternal.transition_out(l),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e)}}}const zt=new Set(["INPUT","SELECT","BUTTON","TEXTAREA"]);function Mt(e,t,n){let l,r,o,a,s,i,c,v,d,u,I,h,g,m,f,_,$,b,x,y,w,k,C,q,z,M,N,E,A,T,L,P,D,j=SvelteInternal.noop,W=()=>(j(),j=SvelteInternal.subscribe(de,(e=>n(66,c=e))),de),R=SvelteInternal.noop,Z=()=>(R(),R=SvelteInternal.subscribe(Ie,(e=>n(67,v=e))),Ie),B=SvelteInternal.noop,O=()=>(B(),B=SvelteInternal.subscribe(he,(e=>n(68,u=e))),he),H=SvelteInternal.noop,F=()=>(H(),H=SvelteInternal.subscribe(ge,(e=>n(71,g=e))),ge),V=SvelteInternal.noop,Q=()=>(V(),V=SvelteInternal.subscribe(ve,(e=>n(16,_=e))),ve),G=SvelteInternal.noop,Y=()=>(G(),G=SvelteInternal.subscribe(Se,(e=>n(73,$=e))),Se),K=SvelteInternal.noop,U=()=>(K(),K=SvelteInternal.subscribe(ue,(e=>n(75,w=e))),ue);SvelteInternal.component_subscribe(e,S,(e=>n(65,i=e))),SvelteInternal.component_subscribe(e,p,(e=>n(70,h=e))),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>K()));let{$$slots:J={},$$scope:ee}=t;const te=SvelteInternal.getContext("mounted"),ne=SvelteInternal.getContext("duplicate");SvelteInternal.component_subscribe(e,ne,(e=>n(56,C=e)));const le=SvelteInternal.getContext("graphDOMElement");SvelteInternal.component_subscribe(e,le,(e=>n(74,x=e)));const re=SvelteInternal.createEventDispatcher();let{node:oe}=t,{isDefault:ae}=t,{useDefaults:se}=t,{center:ie}=t,{nodeStore:ce}=t,{locked:ve}=t;Q();let{groups:de}=t;W();let{maxZIndex:Se}=t;Y();let{centerPoint:ue}=t;U();let{cursor:pe}=t,{initialNodePositions:Ie}=t;Z();let{activeGroup:he}=t;O();let{editing:ge}=t;F();let{dimensionsProvided:me=!1}=t,{title:fe}=t;const _e=SvelteStore.writable(0),$e=SvelteStore.writable(null);SvelteInternal.component_subscribe(e,$e,(e=>n(64,s=e)));const be=oe.id,xe=oe.position;SvelteInternal.component_subscribe(e,xe,(e=>n(59,M=e)));const ye=oe.dimensions.width;SvelteInternal.component_subscribe(e,ye,(e=>n(19,k=e)));const we=oe.dimensions.height;SvelteInternal.component_subscribe(e,we,(e=>n(18,y=e)));const ke=oe.selectionColor;SvelteInternal.component_subscribe(e,ke,(e=>n(24,L=e)));const Ce=oe.editable;SvelteInternal.component_subscribe(e,Ce,(e=>n(72,m=e)));const qe=oe.locked;SvelteInternal.component_subscribe(e,qe,(e=>n(15,f=e)));const ze=oe.zIndex;SvelteInternal.component_subscribe(e,ze,(e=>n(17,b=e)));const Me=oe.bgColor;SvelteInternal.component_subscribe(e,Me,(e=>n(21,E=e)));const Ne=oe.borderRadius;SvelteInternal.component_subscribe(e,Ne,(e=>n(25,P=e)));const Ee=oe.textColor;SvelteInternal.component_subscribe(e,Ee,(e=>n(22,A=e)));const Ae=oe.group;SvelteInternal.component_subscribe(e,Ae,(e=>n(69,I=e)));const Te=oe.borderColor;SvelteInternal.component_subscribe(e,Te,(e=>n(23,T=e)));const Le=oe.borderWidth;SvelteInternal.component_subscribe(e,Le,(e=>n(26,D=e)));const Pe=oe.rotation;SvelteInternal.component_subscribe(e,Pe,(e=>n(20,N=e)));const{selected:De,hidden:je}=c,We=je.nodes;SvelteInternal.component_subscribe(e,We,(e=>n(58,z=e)));const Re=De.nodes;SvelteInternal.component_subscribe(e,Re,(e=>n(55,d=e)));const Ze=SvelteStore.writable(!1);function Be(e){SvelteInternal.set_store_value(S,i=SvelteStore.get(pe),i),x.focus(),b!==$&&b!==1/0&&SvelteInternal.set_store_value(ze,b=SvelteInternal.set_store_value(Se,++$,$),b);const t=e.target;if(!zt.has(t.tagName)&&(e.preventDefault(),re("nodeClicked",{node:oe,e:e}),!_&&!f)){if("touches"in e){if(e.touches&&e.touches.length>1)return}else 2===e.button&&m&&SvelteInternal.set_store_value(ge,g=oe,g);SvelteInternal.set_store_value(p,h=!0,h),function(e){let t,n,l=!1;const o=I;o&&(t=c[o],n=SvelteStore.get(t.parent),l=n===oe);l?SvelteInternal.set_store_value(he,u=o,u):SvelteInternal.set_store_value(he,u="selected",u);!e.shiftKey&&r?SvelteInternal.set_store_value(he,u="selected",u):(e.shiftKey||r||e.shiftKey||(d.clear(),Re.set(d)),r?(oe&&d.delete(oe),Re.set(d)):(oe&&d.add(oe),Re.set(d)));SvelteInternal.set_store_value(Ie,v=X(c.selected.nodes),v)}(e)}}return SvelteInternal.component_subscribe(e,Ze,(e=>n(57,q=e))),SvelteInternal.setContext("node",oe),SvelteInternal.setContext("anchorsMounted",_e),SvelteInternal.setContext("resized",Ze),SvelteInternal.setContext("nodeConnectEvent",$e),SvelteInternal.onMount((()=>{if(ie){const e={x:w.x-k/2,y:w.y-y/2};oe.position.set(e),p.set(!0),p.set(!1)}te.update((e=>e+1))})),SvelteInternal.onDestroy((()=>{r&&(d.delete(oe),Re.set(d)),te.update((e=>e-1))})),e.$$set=e=>{"node"in e&&n(0,oe=e.node),"isDefault"in e&&n(1,ae=e.isDefault),"useDefaults"in e&&n(2,se=e.useDefaults),"center"in e&&n(51,ie=e.center),"nodeStore"in e&&n(52,ce=e.nodeStore),"locked"in e&&Q(n(3,ve=e.locked)),"groups"in e&&W(n(4,de=e.groups)),"maxZIndex"in e&&Y(n(5,Se=e.maxZIndex)),"centerPoint"in e&&U(n(6,ue=e.centerPoint)),"cursor"in e&&n(53,pe=e.cursor),"initialNodePositions"in e&&Z(n(7,Ie=e.initialNodePositions)),"activeGroup"in e&&O(n(8,he=e.activeGroup)),"editing"in e&&F(n(9,ge=e.editing)),"dimensionsProvided"in e&&n(54,me=e.dimensionsProvided),"title"in e&&n(10,fe=e.title),"$$scope"in e&&n(60,ee=e.$$scope)},e.$$.update=()=>{268435456&e.$$.dirty[1]&&n(14,l=M),1&e.$$.dirty[0]|16777216&e.$$.dirty[1]&&n(11,r=d.has(oe)),1&e.$$.dirty[0]|134217728&e.$$.dirty[1]&&n(13,o=z.has(oe)),75497472&e.$$.dirty[1]&&n(12,a=me||q),2049&e.$$.dirty[0]|33554432&e.$$.dirty[1]&&r&&C&&re("duplicate",oe)},[oe,ae,se,ve,de,Se,ue,Ie,he,ge,fe,r,a,o,l,f,_,b,y,k,N,E,A,T,L,P,D,ne,le,$e,be,xe,ye,we,ke,Ce,qe,ze,Me,Ne,Ee,Ae,Te,Le,Pe,We,Re,Ze,function(){ce.delete(be)},function(e){const t=SvelteStore.get(pe),n=t.x-i.x,l=t.y-i.y;Math.abs(n)+Math.abs(l)<4&&re("nodeReleased",{e:e,node:oe}),SvelteInternal.set_store_value($e,s=e,s)},function(e){return e.addEventListener("mousedown",Be),e.addEventListener("touchstart",Be),{destroy(){e.removeEventListener("mousedown",Be),e.removeEventListener("touchstart",Be)}}},ie,ce,pe,me,d,C,q,z,M,ee,J,function(t){SvelteInternal.bubble.call(this,e,t)},function(){y=this.clientHeight,we.set(y),k=this.clientWidth,ye.set(k)}]}class Nt extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Mt,qt,SvelteInternal.safe_not_equal,{node:0,isDefault:1,useDefaults:2,center:51,nodeStore:52,locked:3,groups:4,maxZIndex:5,centerPoint:6,cursor:53,initialNodePositions:7,activeGroup:8,editing:9,dimensionsProvided:54,title:10},St,[-1,-1,-1])}get node(){return this.$$.ctx[0]}set node(e){this.$$set({node:e}),SvelteInternal.flush()}get isDefault(){return this.$$.ctx[1]}set isDefault(e){this.$$set({isDefault:e}),SvelteInternal.flush()}get useDefaults(){return this.$$.ctx[2]}set useDefaults(e){this.$$set({useDefaults:e}),SvelteInternal.flush()}get center(){return this.$$.ctx[51]}set center(e){this.$$set({center:e}),SvelteInternal.flush()}get nodeStore(){return this.$$.ctx[52]}set nodeStore(e){this.$$set({nodeStore:e}),SvelteInternal.flush()}get locked(){return this.$$.ctx[3]}set locked(e){this.$$set({locked:e}),SvelteInternal.flush()}get groups(){return this.$$.ctx[4]}set groups(e){this.$$set({groups:e}),SvelteInternal.flush()}get maxZIndex(){return this.$$.ctx[5]}set maxZIndex(e){this.$$set({maxZIndex:e}),SvelteInternal.flush()}get centerPoint(){return this.$$.ctx[6]}set centerPoint(e){this.$$set({centerPoint:e}),SvelteInternal.flush()}get cursor(){return this.$$.ctx[53]}set cursor(e){this.$$set({cursor:e}),SvelteInternal.flush()}get initialNodePositions(){return this.$$.ctx[7]}set initialNodePositions(e){this.$$set({initialNodePositions:e}),SvelteInternal.flush()}get activeGroup(){return this.$$.ctx[8]}set activeGroup(e){this.$$set({activeGroup:e}),SvelteInternal.flush()}get editing(){return this.$$.ctx[9]}set editing(e){this.$$set({editing:e}),SvelteInternal.flush()}get dimensionsProvided(){return this.$$.ctx[54]}set dimensionsProvided(e){this.$$set({dimensionsProvided:e}),SvelteInternal.flush()}get title(){return this.$$.ctx[10]}set title(e){this.$$set({title:e}),SvelteInternal.flush()}}const Et=e=>({selected:262144&e[1],grabHandle:524288&e[1],node:128&e[0],destroy:131072&e[1]}),At=e=>({selected:e[49],grabHandle:e[50],disconnect:e[14],connect:e[13],node:e[7],destroy:e[48]}),Tt=e=>({}),Lt=e=>({slot:"anchorWest"}),Pt=e=>({}),Dt=e=>({slot:"anchorEast"}),jt=e=>({}),Wt=e=>({slot:"anchorNorth"}),Rt=e=>({}),Zt=e=>({slot:"anchorSouth"});function Bt(e){let t,n;return t=new Nt({props:{node:e[7],center:e[5]||"center"===e[0],isDefault:e[8],useDefaults:e[4],dimensionsProvided:!!e[1]||!!e[2]||!!e[3]||e[8]||!1,nodeStore:e[11].nodes,locked:e[11].locked,groups:e[11].groups,title:e[6],maxZIndex:e[11].maxZIndex,centerPoint:e[11].center,cursor:e[11].cursor,activeGroup:e[11].activeGroup,editing:e[11].editing,initialNodePositions:e[11].initialNodePositions,$$slots:{anchorSouth:[Qt],anchorNorth:[Vt],anchorEast:[Ft],anchorWest:[Xt],default:[Ht,({destroy:e,selected:t,grabHandle:n})=>({48:e,49:t,50:n}),({destroy:e,selected:t,grabHandle:n})=>[0,(e?131072:0)|(t?262144:0)|(n?524288:0)]]},$$scope:{ctx:e}}}),t.$on("nodeClicked",e[41]),t.$on("nodeMount",e[42]),t.$on("nodeReleased",e[43]),t.$on("duplicate",e[44]),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};128&n[0]&&(l.node=e[7]),33&n[0]&&(l.center=e[5]||"center"===e[0]),256&n[0]&&(l.isDefault=e[8]),16&n[0]&&(l.useDefaults=e[4]),270&n[0]&&(l.dimensionsProvided=!!e[1]||!!e[2]||!!e[3]||e[8]||!1),64&n[0]&&(l.title=e[6]),384&n[0]|933888&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ot(e){let t,n;return t=new dt({props:{selected:e[49]}}),t.$on("connection",e[39]),t.$on("disconnection",e[40]),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};262144&n[1]&&(l.selected=e[49]),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ht(e){let t;const n=e[38].default,l=SvelteInternal.create_slot(n,e,e[45],At),r=l||function(e){let t,n,l=e[8]&&Ot(e);return{c(){l&&l.c(),t=SvelteInternal.empty()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),n=!0},p(e,n){e[8]?l?(l.p(e,n),256&n[0]&&SvelteInternal.transition_in(l,1)):(l=Ot(e),l.c(),SvelteInternal.transition_in(l,1),l.m(t.parentNode,t)):l&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(l,1,1,(()=>{l=null})),SvelteInternal.check_outros())},i(e){n||(SvelteInternal.transition_in(l),n=!0)},o(e){SvelteInternal.transition_out(l),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){l?l.p&&(!t||128&o[0]|933888&o[1])&&SvelteInternal.update_slot_base(l,n,e,e[45],t?SvelteInternal.get_slot_changes(n,e[45],o,Et):SvelteInternal.get_all_dirty_from_scope(e[45]),At):r&&r.p&&(!t||256&o[0]|262144&o[1])&&r.p(e,t?o:[-1,-1])},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function Xt(e){let t;const n=e[38].anchorWest,l=SvelteInternal.create_slot(n,e,e[45],Lt);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16384&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[45],t?SvelteInternal.get_slot_changes(n,e[45],r,Tt):SvelteInternal.get_all_dirty_from_scope(e[45]),Lt)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Ft(e){let t;const n=e[38].anchorEast,l=SvelteInternal.create_slot(n,e,e[45],Dt);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16384&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[45],t?SvelteInternal.get_slot_changes(n,e[45],r,Pt):SvelteInternal.get_all_dirty_from_scope(e[45]),Dt)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Vt(e){let t;const n=e[38].anchorNorth,l=SvelteInternal.create_slot(n,e,e[45],Wt);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16384&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[45],t?SvelteInternal.get_slot_changes(n,e[45],r,jt):SvelteInternal.get_all_dirty_from_scope(e[45]),Wt)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Qt(e){let t;const n=e[38].anchorSouth,l=SvelteInternal.create_slot(n,e,e[45],Zt);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16384&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[45],t?SvelteInternal.get_slot_changes(n,e[45],r,Rt):SvelteInternal.get_all_dirty_from_scope(e[45]),Zt)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Gt(e){let t,n,l=e[7]&&e[10].get(e[7].id),r=l&&Bt(e);return{c(){r&&r.c(),t=SvelteInternal.empty()},m(e,l){r&&r.m(e,l),SvelteInternal.insert(e,t,l),n=!0},p(e,n){1152&n[0]&&(l=e[7]&&e[10].get(e[7].id)),l?r?(r.p(e,n),1152&n[0]&&SvelteInternal.transition_in(r,1)):(r=Bt(e),r.c(),SvelteInternal.transition_in(r,1),r.m(t.parentNode,t)):r&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(r,1,1,(()=>{r=null})),SvelteInternal.check_outros())},i(e){n||(SvelteInternal.transition_in(r),n=!0)},o(e){SvelteInternal.transition_out(r),n=!1},d(e){e&&SvelteInternal.detach(t),r&&r.d(e)}}}function Yt(e,n,l){let r,o,a,s=SvelteInternal.noop;e.$$.on_destroy.push((()=>s()));let{$$slots:i={},$$scope:c}=n;const v=SvelteInternal.compute_slots(i),d=SvelteInternal.getContext("graph"),S=SvelteInternal.getContext("group");let{position:u={x:0,y:0}}=n,{drop:p=!1}=n,{dimensions:I=null}=n,{id:h=0}=n,{bgColor:g=null}=n,{borderRadius:m=null}=n,{borderColor:f=null}=n,{borderWidth:_=null}=n,{selectionColor:$=null}=n,{textColor:b=null}=n,{resizable:x=!1}=n,{label:y=""}=n,{inputs:w=1}=n,{outputs:k=1}=n,{width:C=null}=n,{height:q=null}=n,{TD:z=!1}=n,{LR:M=!1}=n,{zIndex:N=1}=n,{editable:E=!0}=n,{locked:A=!1}=n,{rotation:T=0}=n,{edge:L=null}=n,{connections:P=[]}=n,{useDefaults:D=!1}=n,{center:j=!1}=n,{dynamic:W=!1}=n,{title:R=""}=n;const Z=d.nodes;let B;SvelteInternal.component_subscribe(e,Z,(e=>l(10,a=e))),SvelteInternal.setContext("dynamic",W);let O=!0;function H(e){B&&B.connections.set([e])}function X(e){if(!B)return;(Array.isArray(e)?e:[e]).forEach((e=>{const[t,n]=Array.isArray(e)?e:[e,null],l=`N-${t}`,r=d.nodes.get(l);if(!r)return;let o=null;const a=n?`A-${n}/${l}`:null;a&&(o=r.anchors.get(a));const s=d.edges.match(B,r,o);s.length&&d.edges.delete(s[s.length-1])}))}SvelteInternal.onMount((()=>{const e=z?"TD":M?"LR":d.direction,n=d.groupBoxes.get(S),r=d.nodes.count()+1;l(8,O=!v.default),(v.anchorWest||v.anchorEast||v.anchorNorth||v.anchorSouth)&&l(8,O=!1);const o=I||(C||q?{width:C||q||200,height:q||C||100}:O?{width:200,height:100}:{width:0,height:0}),a={id:h||r,position:"cursor"===p?{x:SvelteStore.get(d.cursor).x,y:SvelteStore.get(d.cursor).y}:n?{x:SvelteStore.get(n.position).x+u.x,y:SvelteStore.get(n.position).y+u.y}:u,dimensions:o,editable:E||d.editable,label:y,group:S,resizable:x,inputs:w,outputs:k,zIndex:N,direction:e,locked:A,rotation:T};P.length&&(a.connections=P),_&&(a.borderWidth=_),m&&(a.borderRadius=m),f&&(a.borderColor=f),$&&(a.selectionColor=$),b&&(a.textColor=b),g&&(a.bgColor=g),L&&(a.edge=L),l(7,B=t(a)),n&&d.groups.update((e=>{const t=SvelteStore.get(e[S].nodes);return e[S].nodes.set(new Set([...t,B])),e})),d.nodes.add(B,B.id)})),SvelteInternal.onDestroy((()=>{d.nodes.delete(B.id)})),SvelteInternal.setContext("connect",H),SvelteInternal.setContext("disconnect",X);let F=u;return e.$$set=e=>{"position"in e&&l(15,u=e.position),"drop"in e&&l(0,p=e.drop),"dimensions"in e&&l(1,I=e.dimensions),"id"in e&&l(16,h=e.id),"bgColor"in e&&l(17,g=e.bgColor),"borderRadius"in e&&l(18,m=e.borderRadius),"borderColor"in e&&l(19,f=e.borderColor),"borderWidth"in e&&l(20,_=e.borderWidth),"selectionColor"in e&&l(21,$=e.selectionColor),"textColor"in e&&l(22,b=e.textColor),"resizable"in e&&l(23,x=e.resizable),"label"in e&&l(24,y=e.label),"inputs"in e&&l(25,w=e.inputs),"outputs"in e&&l(26,k=e.outputs),"width"in e&&l(2,C=e.width),"height"in e&&l(3,q=e.height),"TD"in e&&l(27,z=e.TD),"LR"in e&&l(28,M=e.LR),"zIndex"in e&&l(29,N=e.zIndex),"editable"in e&&l(30,E=e.editable),"locked"in e&&l(31,A=e.locked),"rotation"in e&&l(32,T=e.rotation),"edge"in e&&l(33,L=e.edge),"connections"in e&&l(34,P=e.connections),"useDefaults"in e&&l(4,D=e.useDefaults),"center"in e&&l(5,j=e.center),"dynamic"in e&&l(35,W=e.dynamic),"title"in e&&l(6,R=e.title),"$$scope"in e&&l(45,c=e.$$scope)},e.$$.update=()=>{if(128&e.$$.dirty[0]|8&e.$$.dirty[1]&&B&&B.connections.set(P),131200&e.$$.dirty[0]&&B&&B.bgColor.set(g),16777344&e.$$.dirty[0]&&B&&B.label.set(y),4194432&e.$$.dirty[0]&&B&&B.textColor.set(b),524416&e.$$.dirty[0]&&B&&B.borderColor.set(f),2097280&e.$$.dirty[0]&&B&&B.selectionColor.set($),8388736&e.$$.dirty[0]&&B&&B.resizable.set(x),1073741952&e.$$.dirty[0]&&B&&B.editable.set(E),128&e.$$.dirty[0]|1&e.$$.dirty[1]&&B&&B.locked.set(A),33554560&e.$$.dirty[0]&&B&&B.inputs.set(w),67108992&e.$$.dirty[0]&&B&&B.outputs.set(k),536871040&e.$$.dirty[0]&&B&&B.zIndex.set(N),128&e.$$.dirty[0]&&(l(9,r=B&&B?.position),s(),s=SvelteInternal.subscribe(r,(e=>l(37,o=e)))),32896&e.$$.dirty[0]|96&e.$$.dirty[1]&&B){const{x:e,y:t}=F,{x:n,y:r}=o,{x:a,y:s}=u;(a!==n||s!==r)&&(a!==e||s!==t?(l(36,F=u),B.position.set(u)):(l(36,F=o),l(15,u=o)))}33554560&e.$$.dirty[0]&&B&&B.inputs.set(w),67108992&e.$$.dirty[0]&&B&&B.outputs.set(k)},[p,I,C,q,D,j,R,B,O,r,a,d,Z,H,X,u,h,g,m,f,_,$,b,x,y,w,k,z,M,N,E,A,T,L,P,W,F,o,i,function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},c]}class Kt extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Yt,Gt,SvelteInternal.safe_not_equal,{position:15,drop:0,dimensions:1,id:16,bgColor:17,borderRadius:18,borderColor:19,borderWidth:20,selectionColor:21,textColor:22,resizable:23,label:24,inputs:25,outputs:26,width:2,height:3,TD:27,LR:28,zIndex:29,editable:30,locked:31,rotation:32,edge:33,connections:34,useDefaults:4,center:5,dynamic:35,title:6},null,[-1,-1])}get position(){return this.$$.ctx[15]}set position(e){this.$$set({position:e}),SvelteInternal.flush()}get drop(){return this.$$.ctx[0]}set drop(e){this.$$set({drop:e}),SvelteInternal.flush()}get dimensions(){return this.$$.ctx[1]}set dimensions(e){this.$$set({dimensions:e}),SvelteInternal.flush()}get id(){return this.$$.ctx[16]}set id(e){this.$$set({id:e}),SvelteInternal.flush()}get bgColor(){return this.$$.ctx[17]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}get borderRadius(){return this.$$.ctx[18]}set borderRadius(e){this.$$set({borderRadius:e}),SvelteInternal.flush()}get borderColor(){return this.$$.ctx[19]}set borderColor(e){this.$$set({borderColor:e}),SvelteInternal.flush()}get borderWidth(){return this.$$.ctx[20]}set borderWidth(e){this.$$set({borderWidth:e}),SvelteInternal.flush()}get selectionColor(){return this.$$.ctx[21]}set selectionColor(e){this.$$set({selectionColor:e}),SvelteInternal.flush()}get textColor(){return this.$$.ctx[22]}set textColor(e){this.$$set({textColor:e}),SvelteInternal.flush()}get resizable(){return this.$$.ctx[23]}set resizable(e){this.$$set({resizable:e}),SvelteInternal.flush()}get label(){return this.$$.ctx[24]}set label(e){this.$$set({label:e}),SvelteInternal.flush()}get inputs(){return this.$$.ctx[25]}set inputs(e){this.$$set({inputs:e}),SvelteInternal.flush()}get outputs(){return this.$$.ctx[26]}set outputs(e){this.$$set({outputs:e}),SvelteInternal.flush()}get width(){return this.$$.ctx[2]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[3]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get TD(){return this.$$.ctx[27]}set TD(e){this.$$set({TD:e}),SvelteInternal.flush()}get LR(){return this.$$.ctx[28]}set LR(e){this.$$set({LR:e}),SvelteInternal.flush()}get zIndex(){return this.$$.ctx[29]}set zIndex(e){this.$$set({zIndex:e}),SvelteInternal.flush()}get editable(){return this.$$.ctx[30]}set editable(e){this.$$set({editable:e}),SvelteInternal.flush()}get locked(){return this.$$.ctx[31]}set locked(e){this.$$set({locked:e}),SvelteInternal.flush()}get rotation(){return this.$$.ctx[32]}set rotation(e){this.$$set({rotation:e}),SvelteInternal.flush()}get edge(){return this.$$.ctx[33]}set edge(e){this.$$set({edge:e}),SvelteInternal.flush()}get connections(){return this.$$.ctx[34]}set connections(e){this.$$set({connections:e}),SvelteInternal.flush()}get useDefaults(){return this.$$.ctx[4]}set useDefaults(e){this.$$set({useDefaults:e}),SvelteInternal.flush()}get center(){return this.$$.ctx[5]}set center(e){this.$$set({center:e}),SvelteInternal.flush()}get dynamic(){return this.$$.ctx[35]}set dynamic(e){this.$$set({dynamic:e}),SvelteInternal.flush()}get title(){return this.$$.ctx[6]}set title(e){this.$$set({title:e}),SvelteInternal.flush()}}function Ut(e){e.parentNodes.forEach((e=>function(e,t=0,n=0){const l=[],r=(e,t=0,n=0)=>{e.depth=Math.max(e.depth,t),e.nesting=Math.max(e.nesting,n),l.push(e);for(const l of e.children){const{node:e,length:o}=l;r(e,o+t,n+1)}};r(e,t,n);for(const e of l)if(e.children.length){e.nesting=e.children[0].node.nesting-1,e.depth=e.children[0].node.depth-e.children[0].length;for(const t of e.children)e.nesting=Math.min(e.nesting,t.node.nesting-1),e.depth=Math.min(e.depth,t.node.depth-t.length)}}(e)));const[t,n]=function(e){let t=0;const n={};for(const l in e.nodeList){const{depth:r,parents:o,children:a,type:s,data:i}=e.nodeList[l];t=Math.max(t,r),n[r]||(n[r]=[]);const c={id:l,label:i.content,children:[],parents:[],layer:r,type:s.trim()};i.props&&(c.propsId=i.props.trim());for(const e of o)c.parents.push(e.node.id);for(const e of a)c.children.push(e.node.id);n[r].push(c)}return[n,t]}(e);!function(e,t){for(const n in t.nodeList)for(const l of t.nodeList[n].children)if(l.node.depth-1>t.nodeList[n].depth){const r=t.nodeList[n].depth+1,o=l.node.depth-1,a=[];let s=0;for(let e=r;e<=o;e++){const t={id:`GHOST_${l.node.id}_${s}`,label:"",children:[],parents:[],layer:e,ignore:!0};a.push(t),s++}for(const e of l.node.parents)a[0].parents.push(e.node.id);a[a.length-1].children.push(l.node.id);for(let e=0;e<a.length-1;e++)a[e].children.push(`GHOST_${l.node.id}_${e+1}`);for(let t=o;t>=r;t--)a.length>0&&e[t].push(a[0]);for(const r of e[t.nodeList[n].depth])r.id===n&&(r.children.push(a[0].id),r.children=r.children.filter((e=>e!==l.node.id)))}}(t,e),function(e){let t=0;for(const n in e)t=Math.max(e[n].length,t);for(const n in e)if(e[n].length<t){const l=Array.from({length:t-e[n].length},(()=>({id:"NULL_NODE",children:[],parents:[],layer:parseInt(n),ignore:!0})));e[n]=e[n].concat(l)}}(t);for(let e=0;e<10;e++){let e=!1;for(let l=0;l<=n;l++)if(t[l])for(let n=0;n<t[l].length;n++){const r=ln(t,t[l][n],n);r&&(rn(t[l],n,r),e=!0)}if(!e)break}const l=function(e){const t=[];for(const n in e)for(const l of e[n])t.push(l);return t.sort(((e,t)=>t.parents.length+t.children.length-(e.parents.length+e.children.length)))}(t);for(let e=0;e<10;e++){if(!an(t,l))break}for(let e=0;e<2;e++){let e=!1;for(let l=0;l<=n;l++)for(let n=0;n<t[l].length;n++){const r=nn(t,t[l][n],n);r&&(rn(t[l],n,r),e=!0)}if(!e)break}const r=[];for(let e=0;e<=n;e++)r.push(t[e]);return r}function Jt(e,t,n){let l=0,r=0;for(const o of t.parents){for(let r=0;r<e[t.layer-1].length;r++)if(o===e[t.layer-1][r].id){l+=Math.abs(n-r);break}r++}for(const o of t.children){for(let r=0;r<e[t.layer+1].length;r++)if(o===e[t.layer+1][r].id){l+=Math.abs(n-r);break}r++}return isNaN(l/r)?0:l/r}function en(e,t,n){let l=0,r=0;for(const o of t.parents){for(let r=0;r<e[t.layer-1].length;r++)if(o===e[t.layer-1][r].id){l+=Math.abs(n-r);break}r++}return isNaN(l/r)?0:l/r}function tn(e,t,n){let l=0,r=0;for(const o of t.children){for(let r=0;r<e[t.layer+1].length;r++)if(o===e[t.layer+1][r].id){l+=Math.abs(n-r);break}r++}return isNaN(l/r)?0:l/r}function nn(e,t,n){const l=on(e,t.layer);let r=0;r=0===t.layer?tn(e,t,n):en(e,t,n);let o=r,a=n;for(let r=0;r<e[t.layer].length;r++){if("NULL_NODE"===e[t.layer][r].id){rn(e[t.layer],n,r);const s=on(e,t.layer);let i=0;i=0===t.layer?tn(e,t,r):en(e,t,r),s<=l&&i<o&&(o=i,a=r),rn(e[t.layer],r,n)}}return a===n?null:a}function ln(e,t,n){const l={};let r=1/0,o=0;for(let r=0;r<e[t.layer].length;r++){const o=Jt(e,t,r),a=Jt(e,e[t.layer][r],n);l[r]=o+a}for(const e in l)l[e]<r&&(r=l[e],o=parseInt(e));return o===n?null:o}function rn(e,t,n){const l=e[t];e[t]=e[n],e[n]=l}function on(e,t){let n=0;for(let l=0;l<e[t].length;l++){const r=e[t][l],o=[],a=[];if(e[t-1])for(let n=l+1;n<e[t-1].length;n++)r.parents.includes(e[t-1][n].id)&&o.push(n);if(e[t+1])for(let n=l+1;n<e[t+1].length;n++)r.children.includes(e[t+1][n].id)&&a.push(n);for(let r=l+1;r<e[t].length;r++){const l=e[t][r];if(o.length)for(let r=0;r<e[t-1].length;r++)l.parents.includes(e[t-1][r].id)&&o.forEach((e=>{r<e&&n++}));if(a.length)for(let r=0;r<e[t+1].length;r++)l.children.includes(e[t+1][r].id)&&a.forEach((e=>{r<e&&n++}))}}return n}function an(e,t){let n=!1;for(const l of t){if(l.children.length+l.parents.length===0)return n;let t=0;for(let n=0;n<e[l.layer].length;n++)if(e[l.layer][n].id===l.id){t=n;break}let r=1/0,o=t;for(let n=0;n<e[l.layer].length;n++){rn(e[l.layer],t,n);const a=on(e,l.layer);a<r&&(r=a,o=n),rn(e[l.layer],n,t)}o!==t&&(rn(e[l.layer],t,o),n=!0)}return n}function sn(e,t,n){const l=e.slice();return l[6]=t[n],l}function cn(e,t,n){const l=e.slice();return l[9]=t[n],l}function vn(e){let t,n,l=!e[9].ignore&&function(e){let t,n;const l=[{label:e[9].label},{id:e[9].id},{TD:!0},e[0][e[9].id],{connections:e[9].children.map(un)}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Kt({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=3&n?SvelteInternal.get_spread_update(l,[2&n&&{label:e[9].label},2&n&&{id:e[9].id},l[2],SvelteInternal.get_spread_object(e[0][e[9].id]),2&n&&{connections:e[9].children.map(un)}]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}(e);return{c(){l&&l.c(),t=SvelteInternal.empty()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),n=!0},p(e,t){e[9].ignore||l.p(e,t)},i(e){n||(SvelteInternal.transition_in(l),n=!0)},o(e){SvelteInternal.transition_out(l),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e)}}}function dn(e){let t,n,l=SvelteInternal.ensure_array_like(e[6]),r=[];for(let t=0;t<l.length;t+=1)r[t]=vn(cn(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,n){if(3&n){let a;for(l=SvelteInternal.ensure_array_like(e[6]),a=0;a<l.length;a+=1){const o=cn(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=vn(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}function Sn(e){let t,n,l=SvelteInternal.ensure_array_like(e[1]),r=[];for(let t=0;t<l.length;t+=1)r[t]=dn(sn(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,[n]){if(3&n){let a;for(l=SvelteInternal.ensure_array_like(e[1]),a=0;a<l.length;a+=1){const o=sn(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=dn(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}const un=e=>[e,"1"];function pn(e,t,n){let{mermaid:l=""}=t,{mermaidConfig:r={}}=t;const o=(e=>{const t=e.split("\n"),n={parentNodes:[],nodeList:{}};for(const e of t){const{parentNodes:t,childNodes:l,edge:r}=j(e);for(const e of t){n.nodeList[e.id]||n.parentNodes.push(e);for(const t of l){if(n.nodeList[e.id]){if(n.nodeList[t.id]&&n.nodeList[t.id].children.some((({node:t})=>t.id===e.id)))throw new Error("Circular reference detected");n.nodeList[e.id].children.push({node:n.nodeList[t.id]||t,...r})}else e.children.push({node:n.nodeList[t.id]||t,...r}),n.nodeList[e.id]=e;n.nodeList[t.id]?n.nodeList[t.id].parents.push({node:n.nodeList[e.id]||e}):(t.parents.push({node:n.nodeList[e.id]||e}),n.nodeList[t.id]=t),n.parentNodes=n.parentNodes.filter((e=>e.id!==t.id))}}}return n})(l);SvelteInternal.setContext("flowchart",o);const a=Ut(o),s=SvelteInternal.getContext("graph");let i;return SvelteInternal.onMount((()=>{s.nodes.subscribe((e=>i=Object.fromEntries(e)));let e=0;for(const t of a){let n=0,l=-1/0;for(const r of t)r.ignore||(i[`N-${r.id}`].position.update((()=>({x:n,y:e}))),i[`N-${r.id}`].dimensions.width.subscribe((e=>n+=e)),i[`N-${r.id}`].dimensions.height.subscribe((e=>l=Math.max(l,e)))),n+=100;e+=l+100}})),e.$$set=e=>{"mermaid"in e&&n(2,l=e.mermaid),"mermaidConfig"in e&&n(0,r=e.mermaidConfig)},[r,a,l]}class In extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,pn,Sn,SvelteInternal.safe_not_equal,{mermaid:2,mermaidConfig:0})}get mermaid(){return this.$$.ctx[2]}set mermaid(e){this.$$set({mermaid:e}),SvelteInternal.flush()}get mermaidConfig(){return this.$$.ctx[0]}set mermaidConfig(e){this.$$set({mermaidConfig:e}),SvelteInternal.flush()}}const hn=new Set(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]),gn=e=>hn.has(e);function mn(e){SvelteInternal.append_styles(e,"svelte-1okgqig",".svelte-1okgqig{box-sizing:border-box}.wrapper.svelte-1okgqig{display:flex;gap:0.5rem;justify-content:center;align-items:center}.slider-input.svelte-1okgqig{border:none;border-radius:6px;color:inherit;text-align:right;width:100%;height:1.5rem;cursor:ew-resize;padding:0.25rem;pointer-events:auto}.button.svelte-1okgqig{background:none;border:none;font-size:1.5rem;color:inherit;line-height:1rem;cursor:pointer;display:flex;align-items:baseline;justify-content:center}.button.svelte-1okgqig:hover{opacity:50%}.slider.svelte-1okgqig{width:100%;display:flex;align-items:center;justify-content:space-between;height:100%;pointer-events:auto}.connected.svelte-1okgqig{display:flex;justify-content:space-between;padding:0.25rem 0.5rem}.input-label.svelte-1okgqig{margin-left:0.5rem;position:absolute;pointer-events:none;color:inherit}")}function fn(e){let t,n,l,r,o,a,s;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div"),l=SvelteInternal.element("p"),r=SvelteInternal.text(e[2]),o=SvelteInternal.space(),a=SvelteInternal.element("p"),s=SvelteInternal.text(e[6]),SvelteInternal.attr(l,"class","svelte-1okgqig"),SvelteInternal.attr(a,"class","svelte-1okgqig"),SvelteInternal.attr(n,"class","slider-input connected svelte-1okgqig"),SvelteInternal.attr(n,"aria-label",e[2]),SvelteInternal.set_style(n,"--percentage","100%"),SvelteInternal.attr(t,"class","wrapper connected svelte-1okgqig")},m(e,i){SvelteInternal.insert(e,t,i),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),SvelteInternal.append(n,o),SvelteInternal.append(n,a),SvelteInternal.append(a,s)},p(e,t){4&t[0]&&SvelteInternal.set_data(r,e[2]),64&t[0]&&SvelteInternal.set_data(s,e[6]),4&t[0]&&SvelteInternal.attr(n,"aria-label",e[2])},d(e){e&&SvelteInternal.detach(t)}}}function _n(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("button"),n.textContent="",l=SvelteInternal.space(),r=SvelteInternal.element("div"),o=SvelteInternal.element("label"),a=SvelteInternal.text(e[2]),s=SvelteInternal.space(),i=SvelteInternal.element("input"),d=SvelteInternal.space(),S=SvelteInternal.element("button"),S.textContent="+",SvelteInternal.attr(n,"class","button svelte-1okgqig"),SvelteInternal.attr(o,"for","slider-input"),SvelteInternal.attr(o,"class","input-label svelte-1okgqig"),SvelteInternal.attr(i,"tabindex",0),SvelteInternal.attr(i,"id","slider-input"),SvelteInternal.attr(i,"class","slider-input svelte-1okgqig"),SvelteInternal.attr(i,"type","text"),i.value=c=e[6].toFixed(e[3]),SvelteInternal.attr(i,"aria-label",e[2]),SvelteInternal.set_style(i,"background",e[9]),SvelteInternal.set_style(i,"--percentage",e[5]),SvelteInternal.attr(r,"class","slider svelte-1okgqig"),SvelteInternal.add_render_callback((()=>e[31].call(r))),SvelteInternal.attr(S,"class","button svelte-1okgqig"),SvelteInternal.attr(t,"class","wrapper svelte-1okgqig"),SvelteInternal.set_style(t,"color",e[4])},m(c,I){SvelteInternal.insert(c,t,I),SvelteInternal.append(t,n),SvelteInternal.append(t,l),SvelteInternal.append(t,r),SvelteInternal.append(r,o),SvelteInternal.append(o,a),SvelteInternal.append(r,s),SvelteInternal.append(r,i),e[30](i),v=SvelteInternal.add_iframe_resize_listener(r,e[31].bind(r)),SvelteInternal.append(t,d),SvelteInternal.append(t,S),u||(p=[SvelteInternal.listen(n,"touchstart",SvelteInternal.stop_propagation(e[26]),{passive:!0}),SvelteInternal.listen(n,"mousedown",SvelteInternal.stop_propagation(e[27])),SvelteInternal.listen(i,"wheel",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[28]))),SvelteInternal.listen(i,"keydown",SvelteInternal.stop_propagation(e[29])),SvelteInternal.action_destroyer(e[15].call(null,i)),SvelteInternal.listen(S,"touchstart",SvelteInternal.stop_propagation(e[32]),{passive:!0}),SvelteInternal.listen(S,"mousedown",SvelteInternal.stop_propagation(e[33]))],u=!0)},p(e,n){4&n[0]&&SvelteInternal.set_data(a,e[2]),72&n[0]&&c!==(c=e[6].toFixed(e[3]))&&i.value!==c&&(i.value=c),4&n[0]&&SvelteInternal.attr(i,"aria-label",e[2]),512&n[0]&&SvelteInternal.set_style(i,"background",e[9]),32&n[0]&&SvelteInternal.set_style(i,"--percentage",e[5]),16&n[0]&&SvelteInternal.set_style(t,"color",e[4])},d(n){n&&SvelteInternal.detach(t),e[30](null),v(),u=!1,SvelteInternal.run_all(p)}}}function $n(e){let t;function n(e,t){return e[12]?fn:_n}let l=n(e),r=l(e);return{c(){r.c(),t=SvelteInternal.empty()},m(e,n){r.m(e,n),SvelteInternal.insert(e,t,n)},p(e,o){l===(l=n(e))&&r?r.p(e,o):(r.d(1),r=l(e),r&&(r.c(),r.m(t.parentNode,t)))},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),r.d(e)}}}function bn(e,t,n){let l,r,o,a,s,i,c,v,d,u,I,h,g=SvelteInternal.noop,m=()=>(g(),g=SvelteInternal.subscribe($,(e=>n(6,c=e))),$),f=SvelteInternal.noop,_=SvelteInternal.noop;SvelteInternal.component_subscribe(e,S,(e=>n(37,u=e))),e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>_()));let{parameterStore:$}=t;m();let{min:b=0}=t,{max:x=100}=t,{step:y=1}=t,{label:w="Value"}=t,{fixed:k=2}=t,{fontColor:C=null}=t,{barColor:q=null}=t,{bgColor:z=null}=t,M=SvelteInternal.getContext("graph"),N=SvelteInternal.getContext("node");const E=M.groups;SvelteInternal.component_subscribe(e,E,(e=>n(39,h=e)));const A=h.selected,T=M.activeGroup;let L,P;SvelteInternal.component_subscribe(e,T,(e=>n(38,I=e)));let D=!1,j=0,W=0;function R(e){e.stopPropagation(),e.preventDefault(),SvelteInternal.set_store_value(S,u={x:d.x,y:d.y},u),n(23,j=d.x),window.addEventListener("mouseup",H,{once:!0}),n(22,D=!0)}let B=c;function O(e){SvelteInternal.set_store_value(T,I=null,I),A.nodes.set(new Set),p.set(!1),e.stopPropagation(),e.preventDefault(),SvelteInternal.set_store_value(S,u={x:d.x,y:d.y},u),n(23,j=d.x),window.addEventListener("touchend",H,{once:!0}),n(22,D=!0)}function H(){B===c?(P.focus(),P.select()):B=c,n(22,D=!1),window.removeEventListener("mouseup",H)}function X(e,t=y){"number"==typeof c&&SvelteInternal.set_store_value($,c=Z(Math.max(b,Math.min(c+e*t,x)),3),c)}function F(){const e=parseFloat(P.value);Number.isNaN(e)||(e<=b?SvelteInternal.set_store_value($,c=b,c):e>=x?SvelteInternal.set_store_value($,c=x,c):SvelteInternal.set_store_value($,c=Z(e,2),c)),n(8,P.value=JSON.stringify(c),P),P.blur()}return e.$$set=e=>{"parameterStore"in e&&m(n(0,$=e.parameterStore)),"min"in e&&n(18,b=e.min),"max"in e&&n(19,x=e.max),"step"in e&&n(1,y=e.step),"label"in e&&n(2,w=e.label),"fixed"in e&&n(3,k=e.fixed),"fontColor"in e&&n(4,C=e.fontColor),"barColor"in e&&n(20,q=e.barColor),"bgColor"in e&&n(21,z=e.bgColor)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&n(12,l="function"!=typeof $.set),46137344&e.$$.dirty[0]&&D){!function(e,t=y){if("number"!=typeof c)return;const n=.7*v/((x-b)/t);if(W+=e,Math.abs(W)>=n){const e=Math.floor(Math.abs(W)/n);X(W>0?e:-e),W=W>0?W-e*n:W+e*n}}(d.x-j),n(23,j=d.x)}786496&e.$$.dirty[0]&&n(24,a=(c-b)/(x-b)*100),16777216&e.$$.dirty[0]&&n(5,s=`${a}%`),3145760&e.$$.dirty[0]&&n(9,i=`linear-gradient(\n\t\t\t90deg,\n\t\t\t${q||"var(--primary-color, var(--default-primary-color))"} ${s},\n\t\t\t${z||"var(--accent-color, var(--default-accent-color))"} ${s}\n\t\t)`)},n(11,r=N.dimensions.width),f(),f=SvelteInternal.subscribe(r,(e=>n(36,v=e))),n(10,o=M.cursor),_(),_=SvelteInternal.subscribe(o,(e=>n(25,d=e))),[$,y,w,k,C,s,c,L,P,i,o,r,l,E,T,function(e){return e.addEventListener("mousedown",R),e.addEventListener("touchstart",O),{destroy(){e.removeEventListener("mousedown",R)}}},X,F,b,x,q,z,D,j,a,d,()=>X(-1),()=>X(-1),e=>{X(Math.sign(e.deltaY),y)},e=>{const{key:t}=e;gn(t)&&(e.preventDefault(),X("ArrowDown"==t?-1:"ArrowUp"==t?1:0)),"Enter"===t&&F()},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{P=e,n(8,P)}))},function(){L=this.offsetWidth,n(7,L)},()=>X(1),()=>X(1)]}class xn extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,bn,$n,SvelteInternal.safe_not_equal,{parameterStore:0,min:18,max:19,step:1,label:2,fixed:3,fontColor:4,barColor:20,bgColor:21},mn,[-1,-1])}get parameterStore(){return this.$$.ctx[0]}set parameterStore(e){this.$$set({parameterStore:e}),SvelteInternal.flush()}get min(){return this.$$.ctx[18]}set min(e){this.$$set({min:e}),SvelteInternal.flush()}get max(){return this.$$.ctx[19]}set max(e){this.$$set({max:e}),SvelteInternal.flush()}get step(){return this.$$.ctx[1]}set step(e){this.$$set({step:e}),SvelteInternal.flush()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),SvelteInternal.flush()}get fixed(){return this.$$.ctx[3]}set fixed(e){this.$$set({fixed:e}),SvelteInternal.flush()}get fontColor(){return this.$$.ctx[4]}set fontColor(e){this.$$set({fontColor:e}),SvelteInternal.flush()}get barColor(){return this.$$.ctx[20]}set barColor(e){this.$$set({barColor:e}),SvelteInternal.flush()}get bgColor(){return this.$$.ctx[21]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}}function yn(e){let t,n,l;return{c(){t=SvelteInternal.element("input"),SvelteInternal.attr(t,"placeholder",e[0]),SvelteInternal.attr(t,"type","text")},m(r,o){SvelteInternal.insert(r,t,o),SvelteInternal.set_input_value(t,e[1]),n||(l=[SvelteInternal.listen(t,"keydown",SvelteInternal.stop_propagation(e[3])),SvelteInternal.listen(t,"click",SvelteInternal.stop_propagation(e[4])),SvelteInternal.listen(t,"mousedown",SvelteInternal.stop_propagation(e[5])),SvelteInternal.listen(t,"input",e[6])],n=!0)},p(e,[n]){1&n&&SvelteInternal.attr(t,"placeholder",e[0]),2&n&&t.value!==e[1]&&SvelteInternal.set_input_value(t,e[1])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),n=!1,SvelteInternal.run_all(l)}}}function wn(e,t,n){let l,{placeholder:r}=t;const o=SvelteInternal.getContext("textStore");return SvelteInternal.component_subscribe(e,o,(e=>n(1,l=e))),e.$$set=e=>{"placeholder"in e&&n(0,r=e.placeholder)},[r,l,o,function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(){l=this.value,o.set(l)}]}class kn extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,wn,yn,SvelteInternal.safe_not_equal,{placeholder:0})}get placeholder(){return this.$$.ctx[0]}set placeholder(e){this.$$set({placeholder:e}),SvelteInternal.flush()}}function Cn(e){SvelteInternal.append_styles(e,"svelte-1nv0yho","div.svelte-1nv0yho{--shadow-color:0deg 0% 0%;--shadow-elevation-high:0px 0.6px 0.6px hsl(var(--shadow-color) / 0.12),\n\t\t\t0.1px 2.5px 2.5px -0.5px hsl(var(--shadow-color) / 0.11),\n\t\t\t0.2px 4.7px 4.8px -0.9px hsl(var(--shadow-color) / 0.11),\n\t\t\t0.4px 8.2px 8.3px -1.4px hsl(var(--shadow-color) / 0.1),\n\t\t\t0.6px 14px 14.2px -1.9px hsl(var(--shadow-color) / 0.09),\n\t\t\t1px 22.9px 23.2px -2.3px hsl(var(--shadow-color) / 0.09),\n\t\t\t1.5px 35.9px 36.4px -2.8px hsl(var(--shadow-color) / 0.08),\n\t\t\t2.3px 53.9px 54.6px -3.2px hsl(var(--shadow-color) / 0.07);border:solid 1px rgb(153, 153, 153);position:absolute;border-radius:6px;z-index:100;width:150px;padding:10px;height:200px;background-color:rgb(243, 237, 237);box-shadow:var(--shadow-elevation-high);display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:4rem;gap:10px}.editor.svelte-1nv0yho{background-color:rgb(108, 233, 35);width:250px;height:200px;justify-content:space-evenly}")}function qn(e){let t,n,l,r,o,a,s,i,c,v,d,S,u;return a=new kn({props:{placeholder:"Node Label"}}),{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("span"),n.textContent="Editor",l=SvelteInternal.space(),r=SvelteInternal.element("button"),r.textContent="X",o=SvelteInternal.space(),SvelteInternal.create_component(a.$$.fragment),s=SvelteInternal.space(),i=SvelteInternal.element("button"),i.textContent="Delete Node",c=SvelteInternal.space(),v=SvelteInternal.element("button"),v.textContent="Resize Node",SvelteInternal.set_style(n,"color","white"),SvelteInternal.set_style(n,"font-size","45px"),SvelteInternal.set_style(r,"position","absolute"),SvelteInternal.set_style(r,"top","10px"),SvelteInternal.set_style(r,"right","10px"),SvelteInternal.attr(t,"class","editor svelte-1nv0yho")},m(p,I){SvelteInternal.insert(p,t,I),SvelteInternal.append(t,n),SvelteInternal.append(t,l),SvelteInternal.append(t,r),SvelteInternal.append(t,o),SvelteInternal.mount_component(a,t,null),SvelteInternal.append(t,s),SvelteInternal.append(t,i),SvelteInternal.append(t,c),SvelteInternal.append(t,v),d=!0,S||(u=[SvelteInternal.listen(r,"click",e[6]),SvelteInternal.listen(i,"click",e[3]),SvelteInternal.listen(v,"click",e[4]),SvelteInternal.listen(t,"contextmenu",e[2])],S=!0)},p:SvelteInternal.noop,i(e){d||(SvelteInternal.transition_in(a.$$.fragment,e),d=!0)},o(e){SvelteInternal.transition_out(a.$$.fragment,e),d=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_component(a),S=!1,SvelteInternal.run_all(u)}}}function zn(e){let t,n;return t=new Kt({props:{zIndex:1/0,position:e[0],bgColor:"white",id:"editor",$$slots:{default:[qn]},$$scope:{ctx:e}}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,[n]){const l={};1&n&&(l.position=e[0]),512&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Mn(e,t,n){let{editing:l}=t;const r=SvelteInternal.getContext("graph");SvelteInternal.setContext("graph",r),SvelteInternal.setContext("textStore",l.label),SvelteInternal.setContext("colorStore",l.bgColor);let o={x:150,y:50};return e.$$set=e=>{"editing"in e&&n(5,l=e.editing)},r.cursor,[o,r,function(e){e.preventDefault(),n(0,o={x:e.clientX,y:e.clientY}),r.editing.set(l)},function(){r.nodes.delete(l.id),r.editing.set(null)},function(){const e=l.id,t=r.nodes.get(e);if(t){const e=t.dimensions.width,n=t.dimensions.height,l=prompt("Enter new width (for example:250):",e?e.toString():""),r=prompt("Enter new height (for example:200):",n?n.toString():"");if(null===l||null===r)return;t.dimensions.width.set(parseInt(l,10)||0),t.dimensions.height.set(parseInt(r,10)||0),t.resizingWidth.set(!0),t.resizingHeight.set(!0)}},l,()=>r.editing.set(null)]}class Nn extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Mn,zn,SvelteInternal.safe_not_equal,{editing:5},Cn)}get editing(){return this.$$.ctx[5]}set editing(e){this.$$set({editing:e}),SvelteInternal.flush()}}function En(e){SvelteInternal.append_styles(e,"svelte-1e5jg43",".bounding-box.svelte-1e5jg43{width:100%;height:100%;opacity:25%;z-index:-4;pointer-events:none}.bounding-box-border.svelte-1e5jg43{position:absolute;overflow:hidden;border-radius:10px;pointer-events:auto;z-index:-4}")}function An(e){let t,n,l,r;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div"),SvelteInternal.attr(n,"class","bounding-box svelte-1e5jg43"),SvelteInternal.set_style(n,"background-color",e[6]),SvelteInternal.attr(t,"role","button"),SvelteInternal.attr(t,"tabindex","0"),SvelteInternal.attr(t,"class","bounding-box-border svelte-1e5jg43"),SvelteInternal.attr(t,"id",e[2]),SvelteInternal.set_style(t,"border","solid 4px "+e[6]),SvelteInternal.set_style(t,"top",`${e[3].y}px`),SvelteInternal.set_style(t,"left",`${e[3].x}px`),SvelteInternal.set_style(t,"width",`${e[4]}px`),SvelteInternal.set_style(t,"height",`${e[5]}px`)},m(o,a){SvelteInternal.insert(o,t,a),SvelteInternal.append(t,n),l||(r=[SvelteInternal.listen(t,"contextmenu",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[12]))),SvelteInternal.listen(t,"mousedown",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[9])))],l=!0)},p(e,[l]){64&l&&SvelteInternal.set_style(n,"background-color",e[6]),4&l&&SvelteInternal.attr(t,"id",e[2]),64&l&&SvelteInternal.set_style(t,"border","solid 4px "+e[6]);const r=64&l;(72&l||r)&&SvelteInternal.set_style(t,"top",`${e[3].y}px`),(72&l||r)&&SvelteInternal.set_style(t,"left",`${e[3].x}px`),(80&l||r)&&SvelteInternal.set_style(t,"width",`${e[4]}px`),(96&l||r)&&SvelteInternal.set_style(t,"height",`${e[5]}px`)},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),l=!1,SvelteInternal.run_all(r)}}}function Tn(e,t,n){let l,r,o,a,s,i=SvelteInternal.noop,c=()=>(i(),i=SvelteInternal.subscribe(u,(e=>n(3,r=e))),u),v=SvelteInternal.noop,d=()=>(v(),v=SvelteInternal.subscribe(p,(e=>n(6,s=e))),p);e.$$.on_destroy.push((()=>i())),e.$$.on_destroy.push((()=>v()));let{dimensions:S}=t,{position:u}=t;c();let{color:p}=t;d();let{groupName:I}=t;const{width:h,height:g}=S;SvelteInternal.component_subscribe(e,h,(e=>n(4,o=e))),SvelteInternal.component_subscribe(e,g,(e=>n(5,a=e)));const m=SvelteInternal.createEventDispatcher();return e.$$set=e=>{"dimensions"in e&&n(10,S=e.dimensions),"position"in e&&c(n(0,u=e.position)),"color"in e&&d(n(1,p=e.color)),"groupName"in e&&n(11,I=e.groupName)},e.$$.update=()=>{2048&e.$$.dirty&&n(2,l=`${I}-bounding-box`)},[u,p,l,r,o,a,s,h,g,function(){m("groupClick",{groupName:I})},S,I,function(t){SvelteInternal.bubble.call(this,e,t)}]}class Ln extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Tn,An,SvelteInternal.safe_not_equal,{dimensions:10,position:0,color:1,groupName:11},En)}get dimensions(){return this.$$.ctx[10]}set dimensions(e){this.$$set({dimensions:e}),SvelteInternal.flush()}get position(){return this.$$.ctx[0]}set position(e){this.$$set({position:e}),SvelteInternal.flush()}get color(){return this.$$.ctx[1]}set color(e){this.$$set({color:e}),SvelteInternal.flush()}get groupName(){return this.$$.ctx[11]}set groupName(e){this.$$set({groupName:e}),SvelteInternal.flush()}}function Pn(e,t,n){const l=e.slice();return l[4]=t[n][0],l[5]=t[n][1],l}function Dn(e,t){let n,l,r;const o=[t[5],{groupName:t[4]}];let a={};for(let e=0;e<o.length;e+=1)a=SvelteInternal.assign(a,o[e]);return l=new Ln({props:a}),l.$on("groupClick",t[2]),{key:e,first:null,c(){n=SvelteInternal.empty(),SvelteInternal.create_component(l.$$.fragment),this.first=n},m(e,t){SvelteInternal.insert(e,n,t),SvelteInternal.mount_component(l,e,t),r=!0},p(e,n){t=e;const r=1&n?SvelteInternal.get_spread_update(o,[SvelteInternal.get_spread_object(t[5]),{groupName:t[4]}]):{};l.$set(r)},i(e){r||(SvelteInternal.transition_in(l.$$.fragment,e),r=!0)},o(e){SvelteInternal.transition_out(l.$$.fragment,e),r=!1},d(e){e&&SvelteInternal.detach(n),SvelteInternal.destroy_component(l,e)}}}function jn(e){let t,n,l=[],r=new Map,o=SvelteInternal.ensure_array_like(Array.from(e[0]));const a=e=>e[4];for(let t=0;t<o.length;t+=1){let n=Pn(e,o,t),s=a(n);r.set(s,l[t]=Dn(s,n))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=SvelteInternal.empty()},m(e,r){for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,r);SvelteInternal.insert(e,t,r),n=!0},p(e,[n]){1&n&&(o=SvelteInternal.ensure_array_like(Array.from(e[0])),SvelteInternal.group_outros(),l=SvelteInternal.update_keyed_each(l,n,a,1,e,o,r,t.parentNode,SvelteInternal.outro_and_destroy_block,Dn,t,Pn),SvelteInternal.check_outros())},i(e){if(!n){for(let e=0;e<o.length;e+=1)SvelteInternal.transition_in(l[e]);n=!0}},o(e){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_out(l[e]);n=!1},d(e){e&&SvelteInternal.detach(t);for(let t=0;t<l.length;t+=1)l[t].d(e)}}}function Wn(e,t,n){let l;const r=SvelteInternal.getContext("graph").groupBoxes;return SvelteInternal.component_subscribe(e,r,(e=>n(0,l=e))),[l,r,function(t){SvelteInternal.bubble.call(this,e,t)}]}class Rn extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Wn,jn,SvelteInternal.safe_not_equal,{})}}function Zn(e){SvelteInternal.append_styles(e,"svelte-19pa6i0",".svelvet-graph-wrapper.svelte-19pa6i0{box-sizing:border-box;position:absolute;width:100%;height:100%;pointer-events:none !important;touch-action:none}")}function Bn(e){let t,n,l,r;const o=e[11].default,a=SvelteInternal.create_slot(o,e,e[10],null);return{c(){t=SvelteInternal.element("div"),a&&a.c(),SvelteInternal.attr(t,"class","svelvet-graph-wrapper svelte-19pa6i0"),SvelteInternal.attr(t,"role","presentation"),SvelteInternal.set_style(t,"transform",e[0])},m(o,s){SvelteInternal.insert(o,t,s),a&&a.m(t,null),n=!0,l||(r=[SvelteInternal.listen(t,"contextmenu",SvelteInternal.self(SvelteInternal.prevent_default(e[12]))),SvelteInternal.listen(t,"click",SvelteInternal.self(SvelteInternal.prevent_default(e[13]))),SvelteInternal.listen(t,"touchstart",SvelteInternal.self(SvelteInternal.prevent_default(e[14])))],l=!0)},p(e,[l]){a&&a.p&&(!n||1024&l)&&SvelteInternal.update_slot_base(a,o,e,e[10],n?SvelteInternal.get_slot_changes(o,e[10],l,null):SvelteInternal.get_all_dirty_from_scope(e[10]),null),1&l&&SvelteInternal.set_style(t,"transform",e[0])},i(e){n||(SvelteInternal.transition_in(a,e),n=!0)},o(e){SvelteInternal.transition_out(a,e),n=!1},d(e){e&&SvelteInternal.detach(t),a&&a.d(e),l=!1,SvelteInternal.run_all(r)}}}function On(e,t,n){let l,r,o,a,s,{$$slots:i={},$$scope:c}=t;const v=SvelteInternal.getContext("graph"),d=v.transforms,u=d.scale;SvelteInternal.component_subscribe(e,u,(e=>n(9,s=e)));const p=d.translation;SvelteInternal.component_subscribe(e,p,(e=>n(8,a=e)));const I=v.cursor;SvelteInternal.component_subscribe(e,I,(e=>n(15,o=e)));let h,{isMovable:g}=t,m=!1;function f(){SvelteInternal.set_store_value(p,a=function(e,t,n){const{scale:l,translation:r}=n,o=SvelteStore.get(l),a=SvelteStore.get(r),s=t.x-e.x,i=t.y-e.y;return{x:a.x+s*o,y:a.y+i*o}}(SvelteStore.get(S),o,d),a),n(5,h=requestAnimationFrame(f))}return e.$$set=e=>{"isMovable"in e&&n(4,g=e.isMovable),"$$scope"in e&&n(10,c=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(7,l=a),640&e.$$.dirty&&n(0,r=`translate(${l.x}px, ${l.y}px) scale(${s})`),112&e.$$.dirty&&(g&&!m?(n(6,m=!0),n(5,h=requestAnimationFrame(f))):g&&m||(n(6,m=!1),cancelAnimationFrame(h)))},[r,u,p,I,g,h,m,l,a,s,c,i,function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)},function(t){SvelteInternal.bubble.call(this,e,t)}]}class Hn extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,On,Bn,SvelteInternal.safe_not_equal,{isMovable:4},Zn)}get isMovable(){return this.$$.ctx[4]}set isMovable(e){this.$$set({isMovable:e}),SvelteInternal.flush()}}function Xn(e){let t,n,l;const r=e[8].default,o=SvelteInternal.create_slot(r,e,e[9],null);return n=new Rn({}),n.$on("groupClick",e[5]),{c(){o&&o.c(),t=SvelteInternal.space(),SvelteInternal.create_component(n.$$.fragment)},m(e,r){o&&o.m(e,r),SvelteInternal.insert(e,t,r),SvelteInternal.mount_component(n,e,r),l=!0},p(e,t){o&&o.p&&(!l||512&t)&&SvelteInternal.update_slot_base(o,r,e,e[9],l?SvelteInternal.get_slot_changes(r,e[9],t,null):SvelteInternal.get_all_dirty_from_scope(e[9]),null)},i(e){l||(SvelteInternal.transition_in(o,e),SvelteInternal.transition_in(n.$$.fragment,e),l=!0)},o(e){SvelteInternal.transition_out(o,e),SvelteInternal.transition_out(n.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(t),o&&o.d(e),SvelteInternal.destroy_component(n,e)}}}function Fn(e){let t,n;return t=new Hn({props:{isMovable:e[0],$$slots:{default:[Xn]},$$scope:{ctx:e}}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,[n]){const l={};1&n&&(l.isMovable=e[0]),512&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Vn(e,t,n){let l,r,o,a,s,i;SvelteInternal.component_subscribe(e,S,(e=>n(13,a=e))),SvelteInternal.component_subscribe(e,p,(e=>n(7,i=e)));let{$$slots:c={},$$scope:v}=t;const d=SvelteInternal.getContext("graph"),u=SvelteInternal.getContext("snapTo");let{isMovable:I}=t;const h=d.activeGroup;SvelteInternal.component_subscribe(e,h,(e=>n(6,s=e)));const g=d.groups;SvelteInternal.component_subscribe(e,g,(e=>n(10,l=e)));const m=d.initialNodePositions;SvelteInternal.component_subscribe(e,m,(e=>n(11,r=e)));const f=d.cursor;return SvelteInternal.component_subscribe(e,f,(e=>n(12,o=e))),e.$$set=e=>{"isMovable"in e&&n(0,I=e.isMovable),"$$scope"in e&&n(9,v=e.$$scope)},e.$$.update=()=>{192&e.$$.dirty&&s&&i&&function(e,t){let n;const l=SvelteStore.get(e.groups),r=SvelteStore.get(e.activeGroup);if(!r)return;const o=l[r].nodes;if(!o)return;const a=SvelteStore.get(e.initialNodePositions),{x:s,y:i}=SvelteStore.get(S),c=Array.from(SvelteStore.get(o)),v=SvelteStore.get(e.groupBoxes);c.forEach((e=>e.moving.set(!0))),function l(){const o=SvelteStore.get(e.cursor);let d=o.x-s,S=o.y-i;t&&(d-=d%t,S-=S%t);const u={x:d,y:S};c.forEach(((e,t)=>{const{group:n,position:l}=e,o=a[t];let s;if("selected"===r){const e=SvelteStore.get(n);e&&(s=v.get(e))}if(s){const t=Q(s,SvelteStore.get(e.dimensions.width),SvelteStore.get(e.dimensions.height));V(o,u,l,t)}else F(o,u,l)})),SvelteStore.get(p)?n=requestAnimationFrame(l):cancelAnimationFrame(n)}()}(d,u)},[I,h,g,m,f,function(e){SvelteInternal.set_store_value(p,i=!0,i);const{groupName:t}=e.detail;SvelteInternal.set_store_value(h,s=t,s),SvelteInternal.set_store_value(S,a=o,a),SvelteInternal.set_store_value(m,r=X(l[t].nodes),r)},s,i,c,v]}class Qn extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Vn,Fn,SvelteInternal.safe_not_equal,{isMovable:0})}get isMovable(){return this.$$.ctx[0]}set isMovable(e){this.$$set({isMovable:e}),SvelteInternal.flush()}}function Gn(e){SvelteInternal.append_styles(e,"svelte-rryw83","#background-wrapper.svelte-rryw83{width:100%;height:100%;pointer-events:none;z-index:-10;box-sizing:border-box;background-color:var(\n\t\t\t--calculated-background-color,\n\t\t\tvar(--background-color, var(--default-background-color))\n\t\t)}.background-dot.svelte-rryw83{fill:var(--calculated-dot-color, var(--dot-color, var(--default-dot-color)))}.background-line.svelte-rryw83{stroke:var(--calculated-dot-color, var(--dot-color, var(--default-dot-color)))}svg.svelte-rryw83{width:100%;height:100%}")}function Yn(e){let t,n;return{c(){t=SvelteInternal.svg_element("line"),n=SvelteInternal.svg_element("line"),SvelteInternal.attr(t,"class","background-line svelte-rryw83"),SvelteInternal.attr(t,"x1",e[11]),SvelteInternal.attr(t,"y1",0),SvelteInternal.attr(t,"x2",e[11]),SvelteInternal.attr(t,"y2",e[6]),SvelteInternal.attr(t,"stroke-width",e[5]),SvelteInternal.set_style(t,"--calculated-dot-color",e[2]),SvelteInternal.attr(n,"class","background-line svelte-rryw83"),SvelteInternal.attr(n,"y1",e[11]),SvelteInternal.attr(n,"x1",0),SvelteInternal.attr(n,"y2",e[11]),SvelteInternal.attr(n,"x2",e[6]),SvelteInternal.attr(n,"stroke-width",e[5]),SvelteInternal.set_style(n,"--calculated-dot-color",e[2])},m(e,l){SvelteInternal.insert(e,t,l),SvelteInternal.insert(e,n,l)},p(e,l){2048&l&&SvelteInternal.attr(t,"x1",e[11]),2048&l&&SvelteInternal.attr(t,"x2",e[11]),64&l&&SvelteInternal.attr(t,"y2",e[6]),32&l&&SvelteInternal.attr(t,"stroke-width",e[5]),4&l&&SvelteInternal.set_style(t,"--calculated-dot-color",e[2]),2048&l&&SvelteInternal.attr(n,"y1",e[11]),2048&l&&SvelteInternal.attr(n,"y2",e[11]),64&l&&SvelteInternal.attr(n,"x2",e[6]),32&l&&SvelteInternal.attr(n,"stroke-width",e[5]),4&l&&SvelteInternal.set_style(n,"--calculated-dot-color",e[2])},d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(n))}}}function Kn(e){let t;return{c(){t=SvelteInternal.svg_element("circle"),SvelteInternal.attr(t,"class","background-dot svelte-rryw83"),SvelteInternal.attr(t,"r",e[5]),SvelteInternal.attr(t,"cx",e[11]),SvelteInternal.attr(t,"cy",e[11]),SvelteInternal.set_style(t,"--calculated-dot-color",e[2])},m(e,n){SvelteInternal.insert(e,t,n)},p(e,n){32&n&&SvelteInternal.attr(t,"r",e[5]),2048&n&&SvelteInternal.attr(t,"cx",e[11]),2048&n&&SvelteInternal.attr(t,"cy",e[11]),4&n&&SvelteInternal.set_style(t,"--calculated-dot-color",e[2])},d(e){e&&SvelteInternal.detach(t)}}}function Un(e){let t,n,l;function r(e,t){return"dots"===e[0]?el:"lines"===e[0]?Jn:void 0}let o=r(e),a=o&&o(e);return{c(){t=SvelteInternal.svg_element("pattern"),a&&a.c(),SvelteInternal.attr(t,"id","graph-coarse-pattern"),SvelteInternal.attr(t,"x",e[7]),SvelteInternal.attr(t,"y",e[8]),SvelteInternal.attr(t,"width",n=e[6]*e[3]),SvelteInternal.attr(t,"height",l=e[6]*e[3]),SvelteInternal.attr(t,"patternUnits","userSpaceOnUse")},m(e,n){SvelteInternal.insert(e,t,n),a&&a.m(t,null)},p(e,s){o===(o=r(e))&&a?a.p(e,s):(a&&a.d(1),a=o&&o(e),a&&(a.c(),a.m(t,null))),128&s&&SvelteInternal.attr(t,"x",e[7]),256&s&&SvelteInternal.attr(t,"y",e[8]),72&s&&n!==(n=e[6]*e[3])&&SvelteInternal.attr(t,"width",n),72&s&&l!==(l=e[6]*e[3])&&SvelteInternal.attr(t,"height",l)},d(e){e&&SvelteInternal.detach(t),a&&a.d()}}}function Jn(e){let t,n,l,r,o,a;return{c(){t=SvelteInternal.svg_element("line"),r=SvelteInternal.svg_element("line"),SvelteInternal.attr(t,"class","background-line svelte-rryw83"),SvelteInternal.attr(t,"x1",e[11]),SvelteInternal.attr(t,"y1",0),SvelteInternal.attr(t,"x2",e[11]),SvelteInternal.attr(t,"y2",n=e[6]*e[3]),SvelteInternal.attr(t,"stroke-width",l=1.2*e[5]),SvelteInternal.set_style(t,"--calculated-dot-color",e[2]),SvelteInternal.attr(r,"class","background-line svelte-rryw83"),SvelteInternal.attr(r,"y1",e[11]),SvelteInternal.attr(r,"x1",0),SvelteInternal.attr(r,"y2",e[11]),SvelteInternal.attr(r,"x2",o=e[6]*e[3]),SvelteInternal.attr(r,"stroke-width",a=1.2*e[5]),SvelteInternal.set_style(r,"--calculated-dot-color",e[2])},m(e,n){SvelteInternal.insert(e,t,n),SvelteInternal.insert(e,r,n)},p(e,s){2048&s&&SvelteInternal.attr(t,"x1",e[11]),2048&s&&SvelteInternal.attr(t,"x2",e[11]),72&s&&n!==(n=e[6]*e[3])&&SvelteInternal.attr(t,"y2",n),32&s&&l!==(l=1.2*e[5])&&SvelteInternal.attr(t,"stroke-width",l),4&s&&SvelteInternal.set_style(t,"--calculated-dot-color",e[2]),2048&s&&SvelteInternal.attr(r,"y1",e[11]),2048&s&&SvelteInternal.attr(r,"y2",e[11]),72&s&&o!==(o=e[6]*e[3])&&SvelteInternal.attr(r,"x2",o),32&s&&a!==(a=1.2*e[5])&&SvelteInternal.attr(r,"stroke-width",a),4&s&&SvelteInternal.set_style(r,"--calculated-dot-color",e[2])},d(e){e&&(SvelteInternal.detach(t),SvelteInternal.detach(r))}}}function el(e){let t,n;return{c(){t=SvelteInternal.svg_element("circle"),SvelteInternal.attr(t,"class","background-dot svelte-rryw83"),SvelteInternal.attr(t,"r",n=2*e[5]),SvelteInternal.attr(t,"cx",e[11]),SvelteInternal.attr(t,"cy",e[11]),SvelteInternal.set_style(t,"--calculated-dot-color",e[2])},m(e,n){SvelteInternal.insert(e,t,n)},p(e,l){32&l&&n!==(n=2*e[5])&&SvelteInternal.attr(t,"r",n),2048&l&&SvelteInternal.attr(t,"cx",e[11]),2048&l&&SvelteInternal.attr(t,"cy",e[11]),4&l&&SvelteInternal.set_style(t,"--calculated-dot-color",e[2])},d(e){e&&SvelteInternal.detach(t)}}}function tl(e){let t;return{c(){t=SvelteInternal.svg_element("rect"),SvelteInternal.attr(t,"width","100%"),SvelteInternal.attr(t,"height","100%"),SvelteInternal.attr(t,"fill","url(#graph-coarse-pattern)"),SvelteInternal.attr(t,"opacity",e[10])},m(e,n){SvelteInternal.insert(e,t,n)},p(e,n){1024&n&&SvelteInternal.attr(t,"opacity",e[10])},d(e){e&&SvelteInternal.detach(t)}}}function nl(e){let t,n,l,r,o;function a(e,t){return"dots"===e[0]?Kn:"lines"===e[0]?Yn:void 0}let s=a(e),i=s&&s(e),c=e[3]>0&&Un(e),v=e[3]>0&&tl(e);return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.svg_element("svg"),l=SvelteInternal.svg_element("defs"),r=SvelteInternal.svg_element("pattern"),i&&i.c(),c&&c.c(),o=SvelteInternal.svg_element("rect"),v&&v.c(),SvelteInternal.attr(r,"id","graph-pattern"),SvelteInternal.attr(r,"x",e[7]),SvelteInternal.attr(r,"y",e[8]),SvelteInternal.attr(r,"width",e[6]),SvelteInternal.attr(r,"height",e[6]),SvelteInternal.attr(r,"patternUnits","userSpaceOnUse"),SvelteInternal.attr(o,"width","100%"),SvelteInternal.attr(o,"height","100%"),SvelteInternal.attr(o,"fill","url(#graph-pattern)"),SvelteInternal.attr(o,"opacity",e[9]),SvelteInternal.attr(n,"class","svelte-rryw83"),SvelteInternal.attr(t,"id","background-wrapper"),SvelteInternal.attr(t,"class","svelte-rryw83"),SvelteInternal.set_style(t,"--calculated-background-color",e[1])},m(a,s){SvelteInternal.insert(a,t,s),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),i&&i.m(r,null),c&&c.m(l,null),SvelteInternal.append(n,o),v&&v.m(n,null),e[24](t)},p(e,[d]){s===(s=a(e))&&i?i.p(e,d):(i&&i.d(1),i=s&&s(e),i&&(i.c(),i.m(r,null))),128&d&&SvelteInternal.attr(r,"x",e[7]),256&d&&SvelteInternal.attr(r,"y",e[8]),64&d&&SvelteInternal.attr(r,"width",e[6]),64&d&&SvelteInternal.attr(r,"height",e[6]),e[3]>0?c?c.p(e,d):(c=Un(e),c.c(),c.m(l,null)):c&&(c.d(1),c=null),512&d&&SvelteInternal.attr(o,"opacity",e[9]),e[3]>0?v?v.p(e,d):(v=tl(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),2&d&&SvelteInternal.set_style(t,"--calculated-background-color",e[1])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(n){n&&SvelteInternal.detach(t),i&&i.d(),c&&c.d(),v&&v.d(),e[24](null)}}}function ll(e,t,n){let l,r,o,a,s,v,d;const S=SvelteInternal.getContext("graph");let{style:u="dots"}=t,{gridWidth:p=i}=t,{dotSize:I=c}=t,{bgColor:h=null}=t,{dotColor:g=null}=t,{opacityThreshold:m=3}=t,{majorGrid:f=0}=t,{minOpacity:_=.4}=t;const $=S.transforms,b=$.scale;SvelteInternal.component_subscribe(e,b,(e=>n(22,v=e)));const x=$.translation;let y,w,k,C,q;SvelteInternal.component_subscribe(e,x,(e=>n(23,d=e)));let z=1,M=1;return e.$$set=e=>{"style"in e&&n(0,u=e.style),"gridWidth"in e&&n(14,p=e.gridWidth),"dotSize"in e&&n(15,I=e.dotSize),"bgColor"in e&&n(1,h=e.bgColor),"dotColor"in e&&n(2,g=e.dotColor),"opacityThreshold"in e&&n(16,m=e.opacityThreshold),"majorGrid"in e&&n(3,f=e.majorGrid),"minOpacity"in e&&n(17,_=e.minOpacity)},e.$$.update=()=>{8388608&e.$$.dirty&&n(21,l=d),4194304&e.$$.dirty&&n(20,r=v),1064960&e.$$.dirty&&n(6,o=r*p),1081344&e.$$.dirty&&n(5,a=r*I/2),64&e.$$.dirty&&n(11,s=o/2),4128816&e.$$.dirty&&(n(18,w=y?.offsetWidth||0),n(19,k=y?.offsetHeight||0),n(7,C=(w+a)*(1-r)/2+l.x),n(8,q=(k+a)*(1-r)/2+l.y),n(9,z=r>m?1:r/m+_),n(10,M=r>m/3?1:r/(m/3)+_))},[u,h,g,f,y,a,o,C,q,z,M,s,b,x,p,I,m,_,w,k,r,l,v,d,function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{y=e,n(4,y)}))}]}class rl extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,ll,nl,SvelteInternal.safe_not_equal,{style:0,gridWidth:14,dotSize:15,bgColor:1,dotColor:2,opacityThreshold:16,majorGrid:3,minOpacity:17},Gn)}get style(){return this.$$.ctx[0]}set style(e){this.$$set({style:e}),SvelteInternal.flush()}get gridWidth(){return this.$$.ctx[14]}set gridWidth(e){this.$$set({gridWidth:e}),SvelteInternal.flush()}get dotSize(){return this.$$.ctx[15]}set dotSize(e){this.$$set({dotSize:e}),SvelteInternal.flush()}get bgColor(){return this.$$.ctx[1]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}get dotColor(){return this.$$.ctx[2]}set dotColor(e){this.$$set({dotColor:e}),SvelteInternal.flush()}get opacityThreshold(){return this.$$.ctx[16]}set opacityThreshold(e){this.$$set({opacityThreshold:e}),SvelteInternal.flush()}get majorGrid(){return this.$$.ctx[3]}set majorGrid(e){this.$$set({majorGrid:e}),SvelteInternal.flush()}get minOpacity(){return this.$$.ctx[17]}set minOpacity(e){this.$$set({minOpacity:e}),SvelteInternal.flush()}}function ol(e){SvelteInternal.append_styles(e,"svelte-10ds4jd",".selection-box.svelte-10ds4jd,.selection-border.svelte-10ds4jd{border-radius:5px}.selection-box.svelte-10ds4jd{width:100%;height:100%;opacity:20%;background-color:var(\n\t\t\t--prop-selection-box-color,\n\t\t\tvar(--selection-box-color, var(--default-selection-box-color))\n\t\t)}.selection-border.svelte-10ds4jd{position:absolute;border-radius:5px;pointer-events:none;z-index:100;cursor:crosshair;border:1px dashed;border-color:var(\n\t\t\t--prop-selection-box-color,\n\t\t\tvar(--selection-box-color, var(--default-selection-box-color))\n\t\t)}.selection-box.creating.svelte-10ds4jd{background-color:rgba(220, 189, 13, 0.438)}.selection-border.creating.svelte-10ds4jd{border:1px solid goldenrod}")}function al(e){let t,n;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div"),SvelteInternal.attr(n,"class","selection-box svelte-10ds4jd"),SvelteInternal.toggle_class(n,"creating",e[0]),SvelteInternal.attr(t,"class","selection-border svelte-10ds4jd"),SvelteInternal.toggle_class(t,"creating",e[0]),SvelteInternal.set_style(t,"--prop-selection-box-color",e[1]),SvelteInternal.set_style(t,"height",e[4]),SvelteInternal.set_style(t,"width",e[3]),SvelteInternal.set_style(t,"top",e[6]),SvelteInternal.set_style(t,"left",e[5])},m(l,r){SvelteInternal.insert(l,t,r),SvelteInternal.append(t,n),e[18](n)},p(e,[l]){1&l&&SvelteInternal.toggle_class(n,"creating",e[0]),1&l&&SvelteInternal.toggle_class(t,"creating",e[0]),2&l&&SvelteInternal.set_style(t,"--prop-selection-box-color",e[1]),16&l&&SvelteInternal.set_style(t,"height",e[4]),8&l&&SvelteInternal.set_style(t,"width",e[3]),64&l&&SvelteInternal.set_style(t,"top",e[6]),32&l&&SvelteInternal.set_style(t,"left",e[5])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(n){n&&SvelteInternal.detach(t),e[18](null)}}}function sl(e,t,n){let l,r,o,a,s,i,c,v,d,S,u,p,I=SvelteInternal.noop;SvelteInternal.component_subscribe(e,h,(e=>n(16,u=e))),e.$$.on_destroy.push((()=>I()));let{graph:g}=t,{anchor:m}=t,{adding:f=!1}=t,{creating:_=!1}=t,{color:$=null}=t;const{groups:b}=g;let x,y;return SvelteInternal.component_subscribe(e,b,(e=>n(17,p=e))),SvelteInternal.onMount((function(){const e=Array.from(document.querySelectorAll(".svelvet-node"));x=e.map((e=>{const{top:t,left:n,width:l,height:r}=e.getBoundingClientRect();return{id:e.id,top:t,left:n,width:l,height:r}}))})),e.$$set=e=>{"graph"in e&&n(9,g=e.graph),"anchor"in e&&n(10,m=e.anchor),"adding"in e&&n(11,f=e.adding),"creating"in e&&n(0,_=e.creating),"color"in e&&n(1,$=e.color)},e.$$.update=()=>{131072&e.$$.dirty&&(n(7,l=p.selected.nodes),I(),I=SvelteInternal.subscribe(l,(e=>n(20,S=e)))),66560&e.$$.dirty&&n(12,r=u.y-m.y-m.top),66560&e.$$.dirty&&n(14,o=u.x-m.x-m.left),5120&e.$$.dirty&&n(13,a=Math.min(m.y,m.y+r)),17408&e.$$.dirty&&n(15,s=Math.min(m.x,m.x+o)),8192&e.$$.dirty&&n(6,i=`${a}px`),32768&e.$$.dirty&&n(5,c=`${s}px`),4096&e.$$.dirty&&n(4,v=`${Math.abs(r)}px`),16384&e.$$.dirty&&n(3,d=`${Math.abs(o)}px`),20480&e.$$.dirty&&(o||r)&&function(){if(!x)return;const e=x.reduce(((e,t)=>{if(s+m.left<=t.left&&a+m.top<=t.top&&s+m.left+Math.abs(o)>=t.left+t.width&&a+m.top+Math.abs(r)>=t.top+t.height){const n=t.id,l=g.nodes.get(n);if(!l)return e;e.push(l)}return e}),[]);f?e.forEach((e=>{S.add(e)})):SvelteInternal.set_store_value(l,S=new Set(e),S),l.set(S)}()},[_,$,y,d,v,c,i,l,b,g,m,f,r,a,o,s,u,p,function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{y=e,n(2,y)}))}]}class il extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,sl,al,SvelteInternal.safe_not_equal,{graph:9,anchor:10,adding:11,creating:0,color:1},ol)}get graph(){return this.$$.ctx[9]}set graph(e){this.$$set({graph:e}),SvelteInternal.flush()}get anchor(){return this.$$.ctx[10]}set anchor(e){this.$$set({anchor:e}),SvelteInternal.flush()}get adding(){return this.$$.ctx[11]}set adding(e){this.$$set({adding:e}),SvelteInternal.flush()}get creating(){return this.$$.ctx[0]}set creating(e){this.$$set({creating:e}),SvelteInternal.flush()}get color(){return this.$$.ctx[1]}set color(e){this.$$set({color:e}),SvelteInternal.flush()}}function cl(e){SvelteInternal.append_styles(e,"svelte-13nq7cv",".svelvet-wrapper.svelte-13nq7cv{position:relative;overflow:hidden;cursor:move;font-family:'Rubik';box-sizing:border-box !important;user-select:none;margin:0;line-height:1rem;font-size:0.85rem;pointer-events:auto;color:var(--default-text-color)}.svelvet-wrapper.svelte-13nq7cv:focus{outline:none;box-shadow:0 0 0 2px rgb(59, 102, 232)}")}const vl=e=>({}),dl=e=>({}),Sl=e=>({}),ul=e=>({}),pl=e=>({}),Il=e=>({}),hl=e=>({}),gl=e=>({}),ml=e=>({}),fl=e=>({});function _l(e){let t,n;return t=new Nn({props:{editing:e[22]}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};4194304&n[0]&&(l.editing=e[22]),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function $l(e){let t,n,l=e[22]&&_l(e);const r=e[53].default,o=SvelteInternal.create_slot(r,e,e[55],null);return{c(){l&&l.c(),t=SvelteInternal.space(),o&&o.c()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),o&&o.m(e,r),n=!0},p(e,a){e[22]?l?(l.p(e,a),4194304&a[0]&&SvelteInternal.transition_in(l,1)):(l=_l(e),l.c(),SvelteInternal.transition_in(l,1),l.m(t.parentNode,t)):l&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(l,1,1,(()=>{l=null})),SvelteInternal.check_outros()),o&&o.p&&(!n||16777216&a[1])&&SvelteInternal.update_slot_base(o,r,e,e[55],n?SvelteInternal.get_slot_changes(r,e[55],a,null):SvelteInternal.get_all_dirty_from_scope(e[55]),null)},i(e){n||(SvelteInternal.transition_in(l),SvelteInternal.transition_in(o,e),n=!0)},o(e){SvelteInternal.transition_out(l),SvelteInternal.transition_out(o,e),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e),o&&o.d(e)}}}function bl(e){let t,n;return t=new rl({}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p:SvelteInternal.noop,i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function xl(e){let t;const n=e[53].background,l=SvelteInternal.create_slot(n,e,e[55],fl);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16777216&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[55],t?SvelteInternal.get_slot_changes(n,e[55],r,ml):SvelteInternal.get_all_dirty_from_scope(e[55]),fl)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function yl(e){let t,n,l;var r=e[13];return r&&(t=SvelteInternal.construct_svelte_component(r,{})),{c(){t&&SvelteInternal.create_component(t.$$.fragment),n=SvelteInternal.empty()},m(e,r){t&&SvelteInternal.mount_component(t,e,r),SvelteInternal.insert(e,n,r),l=!0},p(e,l){if(8192&l[0]&&r!==(r=e[13])){if(t){SvelteInternal.group_outros();const e=t;SvelteInternal.transition_out(e.$$.fragment,1,0,(()=>{SvelteInternal.destroy_component(e,1)})),SvelteInternal.check_outros()}r?(t=SvelteInternal.construct_svelte_component(r,{}),SvelteInternal.create_component(t.$$.fragment),SvelteInternal.transition_in(t.$$.fragment,1),SvelteInternal.mount_component(t,n.parentNode,n)):t=null}},i(e){l||(t&&SvelteInternal.transition_in(t.$$.fragment,e),l=!0)},o(e){t&&SvelteInternal.transition_out(t.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(n),t&&SvelteInternal.destroy_component(t,e)}}}function wl(e){let t,n,l;var r=e[14];return r&&(t=SvelteInternal.construct_svelte_component(r,{})),{c(){t&&SvelteInternal.create_component(t.$$.fragment),n=SvelteInternal.empty()},m(e,r){t&&SvelteInternal.mount_component(t,e,r),SvelteInternal.insert(e,n,r),l=!0},p(e,l){if(16384&l[0]&&r!==(r=e[14])){if(t){SvelteInternal.group_outros();const e=t;SvelteInternal.transition_out(e.$$.fragment,1,0,(()=>{SvelteInternal.destroy_component(e,1)})),SvelteInternal.check_outros()}r?(t=SvelteInternal.construct_svelte_component(r,{}),SvelteInternal.create_component(t.$$.fragment),SvelteInternal.transition_in(t.$$.fragment,1),SvelteInternal.mount_component(t,n.parentNode,n)):t=null}},i(e){l||(t&&SvelteInternal.transition_in(t.$$.fragment,e),l=!0)},o(e){t&&SvelteInternal.transition_out(t.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(n),t&&SvelteInternal.destroy_component(t,e)}}}function kl(e){let t,n,l;var r=e[12];return r&&(t=SvelteInternal.construct_svelte_component(r,{})),{c(){t&&SvelteInternal.create_component(t.$$.fragment),n=SvelteInternal.empty()},m(e,r){t&&SvelteInternal.mount_component(t,e,r),SvelteInternal.insert(e,n,r),l=!0},p(e,l){if(4096&l[0]&&r!==(r=e[12])){if(t){SvelteInternal.group_outros();const e=t;SvelteInternal.transition_out(e.$$.fragment,1,0,(()=>{SvelteInternal.destroy_component(e,1)})),SvelteInternal.check_outros()}r?(t=SvelteInternal.construct_svelte_component(r,{}),SvelteInternal.create_component(t.$$.fragment),SvelteInternal.transition_in(t.$$.fragment,1),SvelteInternal.mount_component(t,n.parentNode,n)):t=null}},i(e){l||(t&&SvelteInternal.transition_in(t.$$.fragment,e),l=!0)},o(e){t&&SvelteInternal.transition_out(t.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(n),t&&SvelteInternal.destroy_component(t,e)}}}function Cl(e){let t,n,l;var r=e[15];return r&&(t=SvelteInternal.construct_svelte_component(r,{})),{c(){t&&SvelteInternal.create_component(t.$$.fragment),n=SvelteInternal.empty()},m(e,r){t&&SvelteInternal.mount_component(t,e,r),SvelteInternal.insert(e,n,r),l=!0},p(e,l){if(32768&l[0]&&r!==(r=e[15])){if(t){SvelteInternal.group_outros();const e=t;SvelteInternal.transition_out(e.$$.fragment,1,0,(()=>{SvelteInternal.destroy_component(e,1)})),SvelteInternal.check_outros()}r?(t=SvelteInternal.construct_svelte_component(r,{}),SvelteInternal.create_component(t.$$.fragment),SvelteInternal.transition_in(t.$$.fragment,1),SvelteInternal.mount_component(t,n.parentNode,n)):t=null}},i(e){l||(t&&SvelteInternal.transition_in(t.$$.fragment,e),l=!0)},o(e){t&&SvelteInternal.transition_out(t.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(n),t&&SvelteInternal.destroy_component(t,e)}}}function ql(e){let t,n;return t=new il({props:{creating:e[18],anchor:e[16],graph:e[0],adding:e[19],color:e[8]}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};262144&n[0]&&(l.creating=e[18]),65536&n[0]&&(l.anchor=e[16]),1&n[0]&&(l.graph=e[0]),524288&n[0]&&(l.adding=e[19]),256&n[0]&&(l.color=e[8]),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function zl(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m;n=new Qn({props:{isMovable:e[20],$$slots:{default:[$l]},$$scope:{ctx:e}}});const f=[xl,bl],_=[];function $(e,t){return e[9]?0:1}r=$(e),o=_[r]=f[r](e);let b=e[3]&&yl(e),x=e[4]&&wl(e),y=e[5]&&kl(e),w=e[11]&&Cl(e);const k=e[53].minimap,C=SvelteInternal.create_slot(k,e,e[55],gl),q=e[53].drawer,z=SvelteInternal.create_slot(q,e,e[55],Il),M=e[53].controls,N=SvelteInternal.create_slot(M,e,e[55],ul),E=e[53].toggle,A=SvelteInternal.create_slot(E,e,e[55],dl);let T=e[17]&&!e[7]&&ql(e);return{c(){t=SvelteInternal.element("section"),SvelteInternal.create_component(n.$$.fragment),l=SvelteInternal.space(),o.c(),a=SvelteInternal.space(),b&&b.c(),s=SvelteInternal.space(),x&&x.c(),i=SvelteInternal.space(),y&&y.c(),c=SvelteInternal.space(),w&&w.c(),v=SvelteInternal.space(),C&&C.c(),d=SvelteInternal.space(),z&&z.c(),S=SvelteInternal.space(),N&&N.c(),u=SvelteInternal.space(),A&&A.c(),p=SvelteInternal.space(),T&&T.c(),SvelteInternal.attr(t,"role","presentation"),SvelteInternal.attr(t,"id",I=e[0].id),SvelteInternal.attr(t,"class","svelvet-wrapper svelte-13nq7cv"),SvelteInternal.attr(t,"title",e[10]),SvelteInternal.attr(t,"tabindex",0),SvelteInternal.set_style(t,"width",e[1]?e[1]+"px":"100%"),SvelteInternal.set_style(t,"height",e[2]?e[2]+"px":"100%"),SvelteInternal.set_style(t,"cursor",e[6]?"move":"default")},m(o,I){SvelteInternal.insert(o,t,I),SvelteInternal.mount_component(n,t,null),SvelteInternal.append(t,l),_[r].m(t,null),SvelteInternal.append(t,a),b&&b.m(t,null),SvelteInternal.append(t,s),x&&x.m(t,null),SvelteInternal.append(t,i),y&&y.m(t,null),SvelteInternal.append(t,c),w&&w.m(t,null),SvelteInternal.append(t,v),C&&C.m(t,null),SvelteInternal.append(t,d),z&&z.m(t,null),SvelteInternal.append(t,S),N&&N.m(t,null),SvelteInternal.append(t,u),A&&A.m(t,null),SvelteInternal.append(t,p),T&&T.m(t,null),e[54](t),h=!0,g||(m=[SvelteInternal.listen(window,"touchend",e[34]),SvelteInternal.listen(window,"mouseup",e[34]),SvelteInternal.listen(window,"resize",e[33]),SvelteInternal.listen(window,"scroll",e[33]),SvelteInternal.listen(t,"wheel",SvelteInternal.prevent_default(e[40])),SvelteInternal.listen(t,"mousedown",SvelteInternal.self(SvelteInternal.prevent_default(e[35]))),SvelteInternal.listen(t,"touchend",SvelteInternal.prevent_default(e[37])),SvelteInternal.listen(t,"touchstart",SvelteInternal.self(SvelteInternal.prevent_default(e[36]))),SvelteInternal.listen(t,"keydown",e[38]),SvelteInternal.listen(t,"keyup",e[39])],g=!0)},p(e,l){const d={};1048576&l[0]&&(d.isMovable=e[20]),4194304&l[0]|16777216&l[1]&&(d.$$scope={dirty:l,ctx:e}),n.$set(d);let S=r;r=$(e),r===S?_[r].p(e,l):(SvelteInternal.group_outros(),SvelteInternal.transition_out(_[S],1,1,(()=>{_[S]=null})),SvelteInternal.check_outros(),o=_[r],o?o.p(e,l):(o=_[r]=f[r](e),o.c()),SvelteInternal.transition_in(o,1),o.m(t,a)),e[3]?b?(b.p(e,l),8&l[0]&&SvelteInternal.transition_in(b,1)):(b=yl(e),b.c(),SvelteInternal.transition_in(b,1),b.m(t,s)):b&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(b,1,1,(()=>{b=null})),SvelteInternal.check_outros()),e[4]?x?(x.p(e,l),16&l[0]&&SvelteInternal.transition_in(x,1)):(x=wl(e),x.c(),SvelteInternal.transition_in(x,1),x.m(t,i)):x&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(x,1,1,(()=>{x=null})),SvelteInternal.check_outros()),e[5]?y?(y.p(e,l),32&l[0]&&SvelteInternal.transition_in(y,1)):(y=kl(e),y.c(),SvelteInternal.transition_in(y,1),y.m(t,c)):y&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(y,1,1,(()=>{y=null})),SvelteInternal.check_outros()),e[11]?w?(w.p(e,l),2048&l[0]&&SvelteInternal.transition_in(w,1)):(w=Cl(e),w.c(),SvelteInternal.transition_in(w,1),w.m(t,v)):w&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(w,1,1,(()=>{w=null})),SvelteInternal.check_outros()),C&&C.p&&(!h||16777216&l[1])&&SvelteInternal.update_slot_base(C,k,e,e[55],h?SvelteInternal.get_slot_changes(k,e[55],l,hl):SvelteInternal.get_all_dirty_from_scope(e[55]),gl),z&&z.p&&(!h||16777216&l[1])&&SvelteInternal.update_slot_base(z,q,e,e[55],h?SvelteInternal.get_slot_changes(q,e[55],l,pl):SvelteInternal.get_all_dirty_from_scope(e[55]),Il),N&&N.p&&(!h||16777216&l[1])&&SvelteInternal.update_slot_base(N,M,e,e[55],h?SvelteInternal.get_slot_changes(M,e[55],l,Sl):SvelteInternal.get_all_dirty_from_scope(e[55]),ul),A&&A.p&&(!h||16777216&l[1])&&SvelteInternal.update_slot_base(A,E,e,e[55],h?SvelteInternal.get_slot_changes(E,e[55],l,vl):SvelteInternal.get_all_dirty_from_scope(e[55]),dl),e[17]&&!e[7]?T?(T.p(e,l),131200&l[0]&&SvelteInternal.transition_in(T,1)):(T=ql(e),T.c(),SvelteInternal.transition_in(T,1),T.m(t,null)):T&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(T,1,1,(()=>{T=null})),SvelteInternal.check_outros()),(!h||1&l[0]&&I!==(I=e[0].id))&&SvelteInternal.attr(t,"id",I),(!h||1024&l[0])&&SvelteInternal.attr(t,"title",e[10]),2&l[0]&&SvelteInternal.set_style(t,"width",e[1]?e[1]+"px":"100%"),4&l[0]&&SvelteInternal.set_style(t,"height",e[2]?e[2]+"px":"100%"),64&l[0]&&SvelteInternal.set_style(t,"cursor",e[6]?"move":"default")},i(e){h||(SvelteInternal.transition_in(n.$$.fragment,e),SvelteInternal.transition_in(o),SvelteInternal.transition_in(b),SvelteInternal.transition_in(x),SvelteInternal.transition_in(y),SvelteInternal.transition_in(w),SvelteInternal.transition_in(C,e),SvelteInternal.transition_in(z,e),SvelteInternal.transition_in(N,e),SvelteInternal.transition_in(A,e),SvelteInternal.transition_in(T),h=!0)},o(e){SvelteInternal.transition_out(n.$$.fragment,e),SvelteInternal.transition_out(o),SvelteInternal.transition_out(b),SvelteInternal.transition_out(x),SvelteInternal.transition_out(y),SvelteInternal.transition_out(w),SvelteInternal.transition_out(C,e),SvelteInternal.transition_out(z,e),SvelteInternal.transition_out(N,e),SvelteInternal.transition_out(A,e),SvelteInternal.transition_out(T),h=!1},d(l){l&&SvelteInternal.detach(t),SvelteInternal.destroy_component(n),_[r].d(),b&&b.d(),x&&x.d(),y&&y.d(),w&&w.d(),C&&C.d(l),z&&z.d(l),N&&N.d(l),A&&A.d(l),T&&T.d(),e[54](null),g=!1,SvelteInternal.run_all(m)}}}let Ml;function Nl(e,t,n){let l,r,o,a,s,i,c,v,d,I,h,g,m,f,_;SvelteInternal.component_subscribe(e,u,(e=>n(66,i=e))),SvelteInternal.component_subscribe(e,S,(e=>n(67,c=e))),SvelteInternal.component_subscribe(e,p,(e=>n(68,d=e))),SvelteInternal.component_subscribe(e,Ze,(e=>n(71,g=e)));let{$$slots:$={},$$scope:b}=t,{graph:x}=t,{width:w}=t,{height:k}=t,{minimap:q=!1}=t,{controls:z=!1}=t,{toggle:N=!1}=t,{fixedZoom:E=!1}=t,{pannable:T=!0}=t,{disableSelection:L=!1}=t,{ZOOM_INCREMENT:P=.1}=t,{PAN_INCREMENT:D=50}=t,{PAN_TIME:j=250}=t,{MAX_SCALE:W=3}=t,{MIN_SCALE:R=.2}=t,{selectionColor:Z}=t,{backgroundExists:B}=t,{fitView:O=!1}=t,{trackpadPan:H}=t,{modifier:X}=t,{theme:Y="light"}=t,{title:K}=t,{drawer:U=!1}=t;const J=SvelteInternal.createEventDispatcher(),ee={},te=SvelteStore.writable(!1),ne=SvelteStore.writable(0),le=SvelteStore.writable(null);SvelteInternal.component_subscribe(e,le,(e=>n(21,v=e)));const re=x.cursor,oe=x.transforms.scale;SvelteInternal.component_subscribe(e,oe,(e=>n(64,a=e)));const ae=x.dimensions;SvelteInternal.component_subscribe(e,ae,(e=>n(52,f=e)));const se=x.transforms.translation;SvelteInternal.component_subscribe(e,se,(e=>n(63,o=e)));const ie=x.groups;SvelteInternal.component_subscribe(e,ie,(e=>n(65,s=e)));const ce=x.groupBoxes,ve=s.selected.nodes;SvelteInternal.component_subscribe(e,ve,(e=>n(62,r=e)));const de=x.activeGroup;SvelteInternal.component_subscribe(e,de,(e=>n(70,h=e)));const Se=x.initialNodePositions;SvelteInternal.component_subscribe(e,Se,(e=>n(69,I=e)));const ue=x.editing;SvelteInternal.component_subscribe(e,ue,(e=>n(22,_=e)));const pe=x.bounds.nodeBounds;SvelteInternal.component_subscribe(e,pe,(e=>n(72,m=e)));let Ie,he=0,ge=1,me={x:0,y:0,top:0,left:0},fe=!1,_e=!1,$e=!1,be=!1,xe=!1,ye=!1,we=null,ke=null,Ce=null,qe=null;const ze={id:null,position:x.cursor,offset:SvelteStore.writable({x:0,y:0}),connected:SvelteStore.writable(new Set),dynamic:SvelteStore.writable(!1),edge:null,edgeColor:SvelteStore.writable(null),direction:SvelteStore.writable("self"),inputKey:null,type:"output",moving:SvelteStore.readable(!1),store:null,mounted:SvelteStore.writable(!0),rotation:SvelteStore.readable(0),node:{zIndex:SvelteStore.writable(1/0),rotating:SvelteStore.writable(!1),position:x.cursor,dimensions:{width:SvelteStore.writable(0),height:SvelteStore.writable(0)}}};async function Me(){await SvelteInternal.tick(),p.set(!0);const{x:e,y:t,scale:l}=M(Ie,m);null!==e&&null!==t&&null!==l&&(x.transforms.scale.set(l),se.set({x:e,y:t})),p.set(!1),n(51,ye=!0)}function Ne(){if(!v)return;const e=v.getBoundingClientRect();Ie={top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height},x.dimensions.set(Ie),"resize"===O&&Me()}function Ee(){if(!xe)return void cancelAnimationFrame(Ml);const e=i/he;SvelteInternal.set_store_value(oe,a=ge*e,a),Ml=requestAnimationFrame(Ee)}return SvelteInternal.setContext("graphDOMElement",le),SvelteInternal.setContext("cursorAnchor",ze),SvelteInternal.setContext("duplicate",te),SvelteInternal.setContext("graph",x),SvelteInternal.setContext("transforms",x.transforms),SvelteInternal.setContext("dimensions",x.dimensions),SvelteInternal.setContext("locked",x.locked),SvelteInternal.setContext("groups",x.groups),SvelteInternal.setContext("bounds",x.bounds),SvelteInternal.setContext("edgeStore",x.edges),SvelteInternal.setContext("nodeStore",x.nodes),SvelteInternal.setContext("mounted",ne),SvelteInternal.onMount((()=>{Ne()})),e.$$set=e=>{"graph"in e&&n(0,x=e.graph),"width"in e&&n(1,w=e.width),"height"in e&&n(2,k=e.height),"minimap"in e&&n(3,q=e.minimap),"controls"in e&&n(4,z=e.controls),"toggle"in e&&n(5,N=e.toggle),"fixedZoom"in e&&n(41,E=e.fixedZoom),"pannable"in e&&n(6,T=e.pannable),"disableSelection"in e&&n(7,L=e.disableSelection),"ZOOM_INCREMENT"in e&&n(42,P=e.ZOOM_INCREMENT),"PAN_INCREMENT"in e&&n(43,D=e.PAN_INCREMENT),"PAN_TIME"in e&&n(44,j=e.PAN_TIME),"MAX_SCALE"in e&&n(45,W=e.MAX_SCALE),"MIN_SCALE"in e&&n(46,R=e.MIN_SCALE),"selectionColor"in e&&n(8,Z=e.selectionColor),"backgroundExists"in e&&n(9,B=e.backgroundExists),"fitView"in e&&n(47,O=e.fitView),"trackpadPan"in e&&n(48,H=e.trackpadPan),"modifier"in e&&n(49,X=e.modifier),"theme"in e&&n(50,Y=e.theme),"title"in e&&n(10,K=e.title),"drawer"in e&&n(11,U=e.drawer),"$$scope"in e&&n(55,b=e.$$scope)},e.$$.update=()=>{2097152&e.$$.dirty[1]&&(l=f),524288&e.$$.dirty[1]&&Y&&document.documentElement.setAttribute("svelvet-theme",Y),1114112&e.$$.dirty[1]&&!ye&&O&&Me(),4128&e.$$.dirty[0]&&N&&!we&&async function(){n(12,we=(await Promise.resolve().then((function(){return Ka}))).default)}(),8200&e.$$.dirty[0]&&q&&!ke&&async function(){n(13,ke=(await Promise.resolve().then((function(){return to}))).default)}(),16400&e.$$.dirty[0]&&z&&!Ce&&async function(){n(14,Ce=(await Promise.resolve().then((function(){return Dr}))).default)}(),34816&e.$$.dirty[0]&&U&&!qe&&async function(){n(15,qe=(await Promise.resolve().then((function(){return oi}))).default)}()},[x,w,k,q,z,N,T,L,Z,B,K,U,we,ke,Ce,qe,me,fe,_e,$e,be,v,_,le,oe,ae,se,ie,ve,de,Se,ue,pe,Ne,function(e){if(_e){const e=`${Math.random().toString(36).substring(7)}/${x.id}`,t=SvelteStore.get(re),l=t.x-c.x,o=t.y-c.y,a=Math.min(c.y,c.y+o),s=Math.min(c.x,c.x+l),i={width:SvelteStore.writable(Math.abs(l)),height:SvelteStore.writable(Math.abs(o))},v=SvelteStore.writable({x:s,y:a}),d={group:SvelteStore.writable(e),dimensions:i,position:v,color:SvelteStore.writable(A()),moving:SvelteStore.writable(!1)};ce.add(d,e),Array.from(r).forEach((t=>{t.group.set(e)})),ie.update((t=>{const n={parent:SvelteStore.writable(d),nodes:SvelteStore.writable(new Set([...r,d]))};return t[e]=n,t})),SvelteInternal.set_store_value(ve,r=new Set,r),n(18,_e=!1),n(17,fe=!1)}if(h){Array.from(SvelteStore.get(s[h].nodes)).forEach((e=>e.moving.set(!1)))}const t=x.edges.get("cursor");t&&(x.edges.delete("cursor"),t.disconnect||J("edgeDrop",{cursor:SvelteStore.get(re),source:{node:g?.anchor.node.id.slice(2),anchor:g?.anchor.id.split("/")[0].slice(2)}})),SvelteInternal.set_store_value(de,h=null,h),SvelteInternal.set_store_value(S,c={x:0,y:0},c),SvelteInternal.set_store_value(Se,I=[],I),n(17,fe=!1),n(20,be=!1),SvelteInternal.set_store_value(p,d=!1,d),e.shiftKey||Ze.set(null),n(16,me.y=0,me),n(16,me.x=0,me)},function(e){if(!T&&!e.shiftKey&&!e.metaKey)return;if(2===e.button)return;v&&v.focus();const{clientX:t,clientY:o}=e;if(SvelteInternal.set_store_value(S,c=SvelteStore.get(re),c),e.shiftKey||e.metaKey){e.preventDefault(),n(17,fe=!0);const{top:r,left:a}=l;n(16,me.y=o-r,me),n(16,me.x=t-a,me),n(16,me.top=r,me),n(16,me.left=a,me),e.shiftKey&&e.metaKey?n(18,_e=!0):n(18,_e=!1),e.metaKey&&!e.shiftKey?n(19,$e=!0):n(19,$e=!1)}else n(20,be=!0),SvelteInternal.set_store_value(ve,r=new Set,r),ve.set(r)},function(e){SvelteInternal.set_store_value(ve,r=new Set,r),ve.set(r),SvelteInternal.set_store_value(S,c=SvelteStore.get(re),c),n(20,be=!0),2===e.touches.length&&(xe||(xe=!0,Ml=requestAnimationFrame(Ee)),he=i,ge=a)},function(){n(20,be=!1),xe=!1},function(e){const{key:t,code:n}=e,l=e.target;if("INPUT"!=l.tagName&&"TEXTAREA"!=l.tagName){if("KeyA"===n&&e[`${X}Key`]){const e=x.nodes.getAll().filter((e=>!SvelteStore.get(e.locked)));SvelteInternal.set_store_value(ve,r=new Set(e),r)}else if(gn(t))!function(e,t){const n=t.shiftKey?2:1,l=performance.now(),a="ArrowLeft"===e||"ArrowUp"===e?-1:1,s="ArrowLeft"===e||"ArrowRight"===e,i=s?o.x:o.y,c=i+a*D*n;if(!ee[e]){let t=setInterval((()=>{const e=performance.now()-l;if(0===r.size){const t=i+e/j*(c-i);se.set({x:s?t:o.x,y:s?o.y:t})}else{const e={x:s?2*a:0,y:s?0:2*a};Array.from(r).forEach((t=>{const n=SvelteStore.get(t.position);let l;const r=SvelteStore.get(t.group),o=SvelteStore.get(x.groupBoxes);if(r&&(l=o.get(r)),l){const r=Q(l,SvelteStore.get(t.dimensions.width),SvelteStore.get(t.dimensions.height));V(n,e,t.position,r)}else F(n,e,t.position)}))}}),2);ee[e]=t}}(t,e);else if("="===t)G(-1,x.dimensions,x.transforms,P);else if("-"===t)G(1,x.dimensions,x.transforms,P);else if("0"===t)Me();else if("Control"===t)s.selected.nodes.set(new Set);else{if("KeyD"!==n||!e[`${X}Key`])return;te.set(!0),setTimeout((()=>{te.set(!1)}),100)}e.preventDefault()}},function(e){const{key:t}=e;gn(t)?(clearInterval(ee[t]),delete ee[t]):"Shift"===t&&Ze.set(null)},function(e){if(E)return;const t=e.shiftKey?.15:1,{clientX:n,clientY:l,deltaY:r}=e,s=o,i={x:n,y:l};if((H||e.metaKey)&&r%1==0)return void SvelteInternal.set_store_value(se,o={x:SvelteInternal.set_store_value(se,o.x-=e.deltaX,o),y:SvelteInternal.set_store_value(se,o.y-=e.deltaY,o)},o);if(a>=W&&r<0||a<=R&&r>0)return;const c=Math.min(.009*t*Math.abs(r),.08),v=C(a,Math.sign(r),c),d=y(a,v,s,i,Ie);oe.set(v),se.set(d)},E,P,D,j,W,R,O,H,X,Y,ye,f,$,function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{v=e,le.set(v)}))},b]}class El extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Nl,zl,SvelteInternal.safe_not_equal,{graph:0,width:1,height:2,minimap:3,controls:4,toggle:5,fixedZoom:41,pannable:6,disableSelection:7,ZOOM_INCREMENT:42,PAN_INCREMENT:43,PAN_TIME:44,MAX_SCALE:45,MIN_SCALE:46,selectionColor:8,backgroundExists:9,fitView:47,trackpadPan:48,modifier:49,theme:50,title:10,drawer:11},cl,[-1,-1,-1])}get graph(){return this.$$.ctx[0]}set graph(e){this.$$set({graph:e}),SvelteInternal.flush()}get width(){return this.$$.ctx[1]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[2]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get minimap(){return this.$$.ctx[3]}set minimap(e){this.$$set({minimap:e}),SvelteInternal.flush()}get controls(){return this.$$.ctx[4]}set controls(e){this.$$set({controls:e}),SvelteInternal.flush()}get toggle(){return this.$$.ctx[5]}set toggle(e){this.$$set({toggle:e}),SvelteInternal.flush()}get fixedZoom(){return this.$$.ctx[41]}set fixedZoom(e){this.$$set({fixedZoom:e}),SvelteInternal.flush()}get pannable(){return this.$$.ctx[6]}set pannable(e){this.$$set({pannable:e}),SvelteInternal.flush()}get disableSelection(){return this.$$.ctx[7]}set disableSelection(e){this.$$set({disableSelection:e}),SvelteInternal.flush()}get ZOOM_INCREMENT(){return this.$$.ctx[42]}set ZOOM_INCREMENT(e){this.$$set({ZOOM_INCREMENT:e}),SvelteInternal.flush()}get PAN_INCREMENT(){return this.$$.ctx[43]}set PAN_INCREMENT(e){this.$$set({PAN_INCREMENT:e}),SvelteInternal.flush()}get PAN_TIME(){return this.$$.ctx[44]}set PAN_TIME(e){this.$$set({PAN_TIME:e}),SvelteInternal.flush()}get MAX_SCALE(){return this.$$.ctx[45]}set MAX_SCALE(e){this.$$set({MAX_SCALE:e}),SvelteInternal.flush()}get MIN_SCALE(){return this.$$.ctx[46]}set MIN_SCALE(e){this.$$set({MIN_SCALE:e}),SvelteInternal.flush()}get selectionColor(){return this.$$.ctx[8]}set selectionColor(e){this.$$set({selectionColor:e}),SvelteInternal.flush()}get backgroundExists(){return this.$$.ctx[9]}set backgroundExists(e){this.$$set({backgroundExists:e}),SvelteInternal.flush()}get fitView(){return this.$$.ctx[47]}set fitView(e){this.$$set({fitView:e}),SvelteInternal.flush()}get trackpadPan(){return this.$$.ctx[48]}set trackpadPan(e){this.$$set({trackpadPan:e}),SvelteInternal.flush()}get modifier(){return this.$$.ctx[49]}set modifier(e){this.$$set({modifier:e}),SvelteInternal.flush()}get theme(){return this.$$.ctx[50]}set theme(e){this.$$set({theme:e}),SvelteInternal.flush()}get title(){return this.$$.ctx[10]}set title(e){this.$$set({title:e}),SvelteInternal.flush()}get drawer(){return this.$$.ctx[11]}set drawer(e){this.$$set({drawer:e}),SvelteInternal.flush()}}function Al(e){SvelteInternal.append_styles(e,"svelte-1i6klh",".svelvet-temp.svelte-1i6klh{background-color:transparent}:root{--default-node-border-width:1.5px;--default-node-width:200px;--default-node-height:100px;--default-node-border-radius:10px;--default-node-cursor:grab;--default-node-cursor-blocked:not-allowed;--default-background-cursor:move;--default-anchor-border-width:1px;--default-anchor-radius:50%;--default-anchor-size:12px;--default-edge-width:2px;--default-selection-box-border-width:1px;--shadow-color:0deg 0% 10%;--shadow-elevation-low:0.3px 0.5px 0.7px hsl(var(--shadow-color) / 0.4),\n\t\t\t0.4px 0.8px 1px -1.2px hsl(var(--shadow-color) / 0.34),\n\t\t\t1px 2px 2.5px -2.5px hsl(var(--shadow-color) / 0.34);--shadow-elevation-medium:0.3px 0.5px 0.7px hsl(var(--shadow-color) / 0.42),\n\t\t\t0.8px 1.6px 2px -0.8px hsl(var(--shadow-color) / 0.1),\n\t\t\t2.1px 4.1px 5.2px -1.7px hsl(var(--shadow-color) / 0.1),\n\t\t\t5px 10px 12.6px -2.5px hsl(var(--shadow-color) / 0.1);--default-controls-shadow:var(--shadow-elevation-medium);--default-minimap-shadow:var(--shadow-elevation-medium);--default-theme-toggle-shadow:var(--shadow-elevation-medium)}:root{--default-node-color:hsl(0, 0%, 95%);--default-node-border-color:hsl(0, 0%, 87%);--default-node-selection-color:hsl(0, 0%, 13%);--default-text-color:hsl(0, 0%, 20%);--default-node-shadow:var(--shadow-elevation-medium);--default-background-color:hsl(0, 0%, 100%);--default-dot-color:hsl(0, 0%, 53%);--default-accent-color:hsl(0, 0%, 100%);--default-primary-color:hsl(0, 0%, 83%);--default-selection-box-color:hsl(195, 53%, 79%);--default-edge-color:hsl(0, 0%, 40%);--default-target-edge-color:hsl(0, 0%, 0%);--default-edge-shadow:var(--shadow-elevation-medium);--default-label-color:hsl(0, 0%, 95%);--default-label-text-color:hsl(0, 0%, 20%);--plugin-border:hsl(0, 0%, 42%);--default-controls-border:var(--plugin-border);--default-minimap-border:var(--plugin-border);--default-theme-toggle-border:var(--plugin-border);--default-anchor-color:hsl(0, 0%, 67%);--default-anchor-border-color:hsl(0, 0%, 100%);--default-anchor-connected:hsl(0, 0%, 40%);--default-anchor-connected-border:hsl(0, 0%, 95%);--default-anchor-connecting:hsl(0, 0%, 40%);--default-anchor-connecting-border:hsl(0, 0%, 100%);--default-anchor-hovering:hsl(0, 0%, 46%);--default-anchor-hovering-border:hsl(0, 0%, 0%);--default-minimap-background-color:hsl(0, 0%, 100%);--default-minimap-node-color:hsl(0, 0%, 95%);--default-controls-background-color:hsl(0, 0%, 100%);--default-controls-text-color:hsl(0, 0%, 20%);--default-theme-toggle-text-color:hsl(0, 0%, 20%);--default-theme-toggle-color:hsl(0, 0%, 100%);--default-drawer-button-color:hsl(0, 2%, 89%);--default-drawer-button-text-color:hsl(0, 0%, 20%);--default-drawer-reset-button-color:hsl(0, 2%, 89%);--default-drawer-reset-button-text-color:hsl(0, 0%, 20%);--default-drawer-reset-button-hover-color:hsl(0, 0%, 30%);--default-drawer-reset-button-hover-text-color:hsl(0, 0%, 100%)}:root[svelvet-theme='dark']{--default-node-color:hsl(0, 0%, 20%);--default-node-border-color:hsl(0, 0%, 7%);--default-node-selection-color:hsl(0, 0%, 87%);--default-text-color:hsl(0, 0%, 100%);--default-node-shadow:var(--shadow-elevation-medium);--default-background-color:hsl(0, 0%, 27%);--default-dot-color:hsl(0, 0%, 60%);--default-accent-color:hsl(0, 0%, 7%);--default-primary-color:hsl(0, 0%, 66%);--default-selection-box-color:hsl(195, 53%, 79%);--default-edge-color:hsl(0, 0%, 100%);--default-target-edge-color:hsl(0, 0%, 0%);--default-edge-shadow:var(--shadow-elevation-medium);--default-label-color:hsl(0, 0%, 20%);--default-label-text-color:hsl(0, 0%, 100%);--default-anchor-color:hsl(0, 0%, 67%);--default-anchor-border-color:hsl(0, 0%, 87%);--default-anchor-connected:hsl(0, 0%, 100%);--default-anchor-connected-border:hsl(0, 0%, 20%);--default-anchor-connecting:hsl(0, 0%, 40%);--default-anchor-connecting-border:hsl(0, 0%, 100%);--default-anchor-hovering:hsl(0, 0%, 46%);--default-anchor-hovering-border:hsl(0, 0%, 0%);--plugin-border:hsl(0, 0%, 42%);--default-controls-border:var(--plugin-border);--default-minimap-border:var(--plugin-border);--default-theme-toggle-border:var(--plugin-border);--default-minimap-background-color:hsl(0, 0%, 27%);--default-minimap-node-color:hsl(0, 0%, 20%);--default-controls-background-color:hsl(0, 0%, 27%);--default-controls-text-color:hsl(0, 0%, 100%);--default-theme-toggle-text-color:hsl(0, 0%, 100%);--default-theme-toggle-color:hsl(0, 0%, 27%);--default-drawer-button-color:hsl(0, 0%, 19%);--default-drawer-button-text-color:hsl(0, 0%, 100%);--default-drawer-reset-button-color:hsl(0, 0%, 19%);--default-drawer-reset-button-text-color:hsl(0, 0%, 89%);--default-drawer-reset-button-hover-color:hsl(0, 0%, 59%);--default-drawer-reset-button-hover-text-color:hsl(0, 0%, 100%)}:root[svelvet-theme='light']{--default-node-color:hsl(0, 0%, 95%);--default-node-border-color:hsl(0, 0%, 87%);--default-node-selection-color:hsl(0, 0%, 13%);--default-text-color:hsl(0, 0%, 20%);--default-node-shadow:var(--shadow-elevation-medium);--default-background-color:hsl(0, 0%, 100%);--default-dot-color:hsl(0, 0%, 53%);--default-accent-color:hsl(0, 0%, 100%);--default-primary-color:hsl(0, 0%, 83%);--default-selection-box-color:hsl(195, 53%, 79%);--default-edge-color:hsl(0, 0%, 40%);--default-target-edge-color:hsl(0, 0%, 0%);--default-edge-shadow:var(--shadow-elevation-medium);--default-label-color:hsl(0, 0%, 95%);--default-label-text-color:hsl(0, 0%, 20%);--plugin-border:hsl(0, 0%, 42%);--default-controls-border:var(--plugin-border);--default-minimap-border:var(--plugin-border);--default-theme-toggle-border:var(--plugin-border);--default-anchor-color:hsl(0, 0%, 67%);--default-anchor-border-color:hsl(0, 0%, 100%);--default-anchor-connected:hsl(0, 0%, 40%);--default-anchor-connected-border:hsl(0, 0%, 95%);--default-anchor-connecting:hsl(0, 0%, 40%);--default-anchor-connecting-border:hsl(0, 0%, 100%);--default-anchor-hovering:hsl(0, 0%, 46%);--default-anchor-hovering-border:hsl(0, 0%, 0%);--default-minimap-background-color:hsl(0, 0%, 100%);--default-minimap-node-color:hsl(0, 0%, 95%);--default-controls-background-color:hsl(0, 0%, 100%);--default-controls-text-color:hsl(0, 0%, 20%);--default-theme-toggle-text-color:hsl(0, 0%, 20%);--default-theme-toggle-color:hsl(0, 0%, 100%);--default-drawer-button-color:hsl(0, 2%, 89%);--default-drawer-button-text-color:hsl(0, 0%, 20%);--default-drawer-reset-button-color:hsl(0, 2%, 89%);--default-drawer-reset-button-text-color:hsl(0, 0%, 20%);--default-drawer-reset-button-hover-color:hsl(0, 0%, 30%);--default-drawer-reset-button-hover-text-color:hsl(0, 0%, 100%)}")}const Tl=e=>({}),Ll=e=>({slot:"minimap"}),Pl=e=>({}),Dl=e=>({slot:"controls"}),jl=e=>({}),Wl=e=>({slot:"background"}),Rl=e=>({}),Zl=e=>({slot:"toggle"}),Bl=e=>({}),Ol=e=>({slot:"drawer"});function Hl(e){let t;return{c(){t=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","svelvet-temp svelte-1i6klh"),SvelteInternal.set_style(t,"width",e[2]?e[2]+"px":"100%"),SvelteInternal.set_style(t,"height",e[3]?e[3]+"px":"100%")},m(e,n){SvelteInternal.insert(e,t,n)},p(e,n){4&n[0]&&SvelteInternal.set_style(t,"width",e[2]?e[2]+"px":"100%"),8&n[0]&&SvelteInternal.set_style(t,"height",e[3]?e[3]+"px":"100%")},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}function Xl(e){let t,n;return t=new El({props:{width:e[2],height:e[3],toggle:e[6],backgroundExists:e[18],minimap:e[4],graph:e[17],fitView:e[8],fixedZoom:e[15],pannable:e[16],theme:e[1],drawer:e[7],controls:e[5],selectionColor:e[9],disableSelection:e[10],trackpadPan:e[12],modifier:e[13],title:e[14],$$slots:{drawer:[Ul],toggle:[Kl],background:[Yl],controls:[Gl],minimap:[Ql],default:[Vl]},$$scope:{ctx:e}}}),t.$on("edgeDrop",e[34]),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};4&n[0]&&(l.width=e[2]),8&n[0]&&(l.height=e[3]),64&n[0]&&(l.toggle=e[6]),262144&n[0]&&(l.backgroundExists=e[18]),16&n[0]&&(l.minimap=e[4]),131072&n[0]&&(l.graph=e[17]),256&n[0]&&(l.fitView=e[8]),32768&n[0]&&(l.fixedZoom=e[15]),65536&n[0]&&(l.pannable=e[16]),2&n[0]&&(l.theme=e[1]),128&n[0]&&(l.drawer=e[7]),32&n[0]&&(l.controls=e[5]),512&n[0]&&(l.selectionColor=e[9]),1024&n[0]&&(l.disableSelection=e[10]),4096&n[0]&&(l.trackpadPan=e[12]),8192&n[0]&&(l.modifier=e[13]),16384&n[0]&&(l.title=e[14]),2049&n[0]|16&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Fl(e){let t,n;return t=new In({props:{mermaid:e[0],mermaidConfig:e[11]}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};1&n[0]&&(l.mermaid=e[0]),2048&n[0]&&(l.mermaidConfig=e[11]),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Vl(e){let t,n,l=e[0].length&&Fl(e);const r=e[33].default,o=SvelteInternal.create_slot(r,e,e[35],null);return{c(){l&&l.c(),t=SvelteInternal.space(),o&&o.c()},m(e,r){l&&l.m(e,r),SvelteInternal.insert(e,t,r),o&&o.m(e,r),n=!0},p(e,a){e[0].length?l?(l.p(e,a),1&a[0]&&SvelteInternal.transition_in(l,1)):(l=Fl(e),l.c(),SvelteInternal.transition_in(l,1),l.m(t.parentNode,t)):l&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(l,1,1,(()=>{l=null})),SvelteInternal.check_outros()),o&&o.p&&(!n||16&a[1])&&SvelteInternal.update_slot_base(o,r,e,e[35],n?SvelteInternal.get_slot_changes(r,e[35],a,null):SvelteInternal.get_all_dirty_from_scope(e[35]),null)},i(e){n||(SvelteInternal.transition_in(l),SvelteInternal.transition_in(o,e),n=!0)},o(e){SvelteInternal.transition_out(l),SvelteInternal.transition_out(o,e),n=!1},d(e){e&&SvelteInternal.detach(t),l&&l.d(e),o&&o.d(e)}}}function Ql(e){let t;const n=e[33].minimap,l=SvelteInternal.create_slot(n,e,e[35],Ll);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[35],t?SvelteInternal.get_slot_changes(n,e[35],r,Tl):SvelteInternal.get_all_dirty_from_scope(e[35]),Ll)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Gl(e){let t;const n=e[33].controls,l=SvelteInternal.create_slot(n,e,e[35],Dl);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[35],t?SvelteInternal.get_slot_changes(n,e[35],r,Pl):SvelteInternal.get_all_dirty_from_scope(e[35]),Dl)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Yl(e){let t;const n=e[33].background,l=SvelteInternal.create_slot(n,e,e[35],Wl);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[35],t?SvelteInternal.get_slot_changes(n,e[35],r,jl):SvelteInternal.get_all_dirty_from_scope(e[35]),Wl)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Kl(e){let t;const n=e[33].toggle,l=SvelteInternal.create_slot(n,e,e[35],Zl);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[35],t?SvelteInternal.get_slot_changes(n,e[35],r,Rl):SvelteInternal.get_all_dirty_from_scope(e[35]),Zl)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Ul(e){let t;const n=e[33].drawer,l=SvelteInternal.create_slot(n,e,e[35],Ol);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||16&r[1])&&SvelteInternal.update_slot_base(l,n,e,e[35],t?SvelteInternal.get_slot_changes(n,e[35],r,Bl):SvelteInternal.get_all_dirty_from_scope(e[35]),Ol)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Jl(e){let t,n,l,r;const o=[Xl,Hl],a=[];function s(e,t){return e[17]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function er(e,n,l){let r,o,{$$slots:a={},$$scope:s}=n;const i=SvelteInternal.compute_slots(a);let{mermaid:c=""}=n,{theme:v="light"}=n,{id:d=0}=n,{snapTo:S=0}=n,{zoom:u=1}=n,{TD:p=!1}=n,{editable:I=!0}=n,{locked:h=!1}=n,{width:g=0}=n,{height:m=0}=n,{minimap:f=!1}=n,{controls:$=!1}=n,{toggle:b=!1}=n,{drawer:x=!1}=n,{fitView:y=!1}=n,{selectionColor:w="lightblue"}=n,{edgeStyle:k="bezier"}=n,{endStyles:C=[null,null]}=n,{edge:q=null}=n,{disableSelection:z=!1}=n,{mermaidConfig:M={}}=n,{translation:N={x:0,y:0}}=n,{trackpadPan:E=!1}=n,{modifier:A="meta"}=n,{raiseEdgesOnSelect:T=!1}=n,{edgesAboveNode:L=!1}=n,{title:P=""}=n,{fixedZoom:D=!1}=n,{pannable:j=!0}=n;const W=SvelteInternal.createEventDispatcher();let R,Z=p?"TD":"LR";return SvelteInternal.setContext("snapTo",S),SvelteInternal.setContext("edgeStyle",k),SvelteInternal.setContext("endStyles",C),SvelteInternal.setContext("graphEdge",q),SvelteInternal.setContext("raiseEdgesOnSelect",T),SvelteInternal.setContext("edgesAboveNode",L),SvelteInternal.onMount((()=>{const e=localStorage.getItem("state");if(e)l(17,R=function(e){const n=JSON.parse(e),l=_(n.id,{...n,initialZoom:n.transforms.scale});return Object.entries(n.nodes).forEach((([e,n])=>{const r=t(n);Object.entries(n.anchors).forEach((([e,t])=>{const n=K(r,e,t.position,{width:0,height:0},t.input,t.direction,t.dynamic);r.anchors.add(n,e)})),l.nodes.add(r,e)})),Object.entries(n.edges).forEach((([e,t])=>{l.edges.add(t,e)})),l}(e)),U.add(R,R.id);else{let e=`G-${d||U.count()+1}`;l(17,R=_(e,{zoom:u,direction:Z,editable:I,locked:h,translation:N})),U.add(R,e)}})),e.$$set=e=>{"mermaid"in e&&l(0,c=e.mermaid),"theme"in e&&l(1,v=e.theme),"id"in e&&l(19,d=e.id),"snapTo"in e&&l(20,S=e.snapTo),"zoom"in e&&l(21,u=e.zoom),"TD"in e&&l(22,p=e.TD),"editable"in e&&l(23,I=e.editable),"locked"in e&&l(24,h=e.locked),"width"in e&&l(2,g=e.width),"height"in e&&l(3,m=e.height),"minimap"in e&&l(4,f=e.minimap),"controls"in e&&l(5,$=e.controls),"toggle"in e&&l(6,b=e.toggle),"drawer"in e&&l(7,x=e.drawer),"fitView"in e&&l(8,y=e.fitView),"selectionColor"in e&&l(9,w=e.selectionColor),"edgeStyle"in e&&l(25,k=e.edgeStyle),"endStyles"in e&&l(26,C=e.endStyles),"edge"in e&&l(27,q=e.edge),"disableSelection"in e&&l(10,z=e.disableSelection),"mermaidConfig"in e&&l(11,M=e.mermaidConfig),"translation"in e&&l(28,N=e.translation),"trackpadPan"in e&&l(12,E=e.trackpadPan),"modifier"in e&&l(13,A=e.modifier),"raiseEdgesOnSelect"in e&&l(29,T=e.raiseEdgesOnSelect),"edgesAboveNode"in e&&l(30,L=e.edgesAboveNode),"title"in e&&l(14,P=e.title),"fixedZoom"in e&&l(15,D=e.fixedZoom),"pannable"in e&&l(16,j=e.pannable),"$$scope"in e&&l(35,s=e.$$scope)},e.$$.update=()=>{131072&e.$$.dirty[0]&&l(32,o=R&&R.edges),2228224&e.$$.dirty[0]&&R&&R.transforms.scale.set(u),2&e.$$.dirty[1]&&o&&o.onEdgeChange(((e,t)=>{W(t,{sourceAnchor:e.source,targetAnchor:e.target,sourceNode:e.source.node,targetNode:e.target.node})}))},l(18,r=i.background),[c,v,g,m,f,$,b,x,y,w,z,M,E,A,P,D,j,R,r,d,S,u,p,I,h,k,C,q,N,T,L,function(e,t){const n=`N-${e[0]}`,l=R.nodes.get(n);if(!l)return;const r=l.anchors.get(`A-${e[1]}/N-${e[0]}`);if(!r)return;const o=`N-${t[0]}`,a=R.nodes.get(o);if(!a)return;const s=a.anchors.get(`A-${t[1]}/N-${t[0]}`);if(!s)return;const i=R.edges.match(r,s);i&&R.edges.delete(i[0])},o,a,function(t){SvelteInternal.bubble.call(this,e,t)},s]}class tr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,er,Jl,SvelteInternal.safe_not_equal,{mermaid:0,theme:1,id:19,snapTo:20,zoom:21,TD:22,editable:23,locked:24,width:2,height:3,minimap:4,controls:5,toggle:6,drawer:7,fitView:8,selectionColor:9,edgeStyle:25,endStyles:26,edge:27,disableSelection:10,mermaidConfig:11,translation:28,trackpadPan:12,modifier:13,raiseEdgesOnSelect:29,edgesAboveNode:30,title:14,fixedZoom:15,pannable:16,disconnect:31},Al,[-1,-1])}get mermaid(){return this.$$.ctx[0]}set mermaid(e){this.$$set({mermaid:e}),SvelteInternal.flush()}get theme(){return this.$$.ctx[1]}set theme(e){this.$$set({theme:e}),SvelteInternal.flush()}get id(){return this.$$.ctx[19]}set id(e){this.$$set({id:e}),SvelteInternal.flush()}get snapTo(){return this.$$.ctx[20]}set snapTo(e){this.$$set({snapTo:e}),SvelteInternal.flush()}get zoom(){return this.$$.ctx[21]}set zoom(e){this.$$set({zoom:e}),SvelteInternal.flush()}get TD(){return this.$$.ctx[22]}set TD(e){this.$$set({TD:e}),SvelteInternal.flush()}get editable(){return this.$$.ctx[23]}set editable(e){this.$$set({editable:e}),SvelteInternal.flush()}get locked(){return this.$$.ctx[24]}set locked(e){this.$$set({locked:e}),SvelteInternal.flush()}get width(){return this.$$.ctx[2]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[3]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get minimap(){return this.$$.ctx[4]}set minimap(e){this.$$set({minimap:e}),SvelteInternal.flush()}get controls(){return this.$$.ctx[5]}set controls(e){this.$$set({controls:e}),SvelteInternal.flush()}get toggle(){return this.$$.ctx[6]}set toggle(e){this.$$set({toggle:e}),SvelteInternal.flush()}get drawer(){return this.$$.ctx[7]}set drawer(e){this.$$set({drawer:e}),SvelteInternal.flush()}get fitView(){return this.$$.ctx[8]}set fitView(e){this.$$set({fitView:e}),SvelteInternal.flush()}get selectionColor(){return this.$$.ctx[9]}set selectionColor(e){this.$$set({selectionColor:e}),SvelteInternal.flush()}get edgeStyle(){return this.$$.ctx[25]}set edgeStyle(e){this.$$set({edgeStyle:e}),SvelteInternal.flush()}get endStyles(){return this.$$.ctx[26]}set endStyles(e){this.$$set({endStyles:e}),SvelteInternal.flush()}get edge(){return this.$$.ctx[27]}set edge(e){this.$$set({edge:e}),SvelteInternal.flush()}get disableSelection(){return this.$$.ctx[10]}set disableSelection(e){this.$$set({disableSelection:e}),SvelteInternal.flush()}get mermaidConfig(){return this.$$.ctx[11]}set mermaidConfig(e){this.$$set({mermaidConfig:e}),SvelteInternal.flush()}get translation(){return this.$$.ctx[28]}set translation(e){this.$$set({translation:e}),SvelteInternal.flush()}get trackpadPan(){return this.$$.ctx[12]}set trackpadPan(e){this.$$set({trackpadPan:e}),SvelteInternal.flush()}get modifier(){return this.$$.ctx[13]}set modifier(e){this.$$set({modifier:e}),SvelteInternal.flush()}get raiseEdgesOnSelect(){return this.$$.ctx[29]}set raiseEdgesOnSelect(e){this.$$set({raiseEdgesOnSelect:e}),SvelteInternal.flush()}get edgesAboveNode(){return this.$$.ctx[30]}set edgesAboveNode(e){this.$$set({edgesAboveNode:e}),SvelteInternal.flush()}get title(){return this.$$.ctx[14]}set title(e){this.$$set({title:e}),SvelteInternal.flush()}get fixedZoom(){return this.$$.ctx[15]}set fixedZoom(e){this.$$set({fixedZoom:e}),SvelteInternal.flush()}get pannable(){return this.$$.ctx[16]}set pannable(e){this.$$set({pannable:e}),SvelteInternal.flush()}get disconnect(){return this.$$.ctx[31]}}function nr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","m629-419-44-44q26-71-27-118t-115-24l-44-44q17-11 38-16t43-5q71 0 120.5 49.5T650-500q0 22-5.5 43.5T629-419Zm129 129-40-40q49-36 85.5-80.5T857-500q-50-111-150-175.5T490-740q-42 0-86 8t-69 19l-46-47q35-16 89.5-28T485-800q143 0 261.5 81.5T920-500q-26 64-67 117t-95 93Zm58 226L648-229q-35 14-79 21.5t-89 7.5q-146 0-265-81.5T40-500q20-52 55.5-101.5T182-696L56-822l42-43 757 757-39 44ZM223-654q-37 27-71.5 71T102-500q51 111 153.5 175.5T488-260q33 0 65-4t48-12l-64-64q-11 5-27 7.5t-30 2.5q-70 0-120-49t-50-121q0-15 2.5-30t7.5-27l-97-97Zm305 142Zm-116 58Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class lr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,nr,SvelteInternal.safe_not_equal,{})}}function rr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M796-121 533-384q-30 26-69.959 40.5T378-329q-108.162 0-183.081-75Q120-479 120-585t75-181q75-75 181.5-75t181 75Q632-691 632-584.85 632-542 618-502q-14 40-42 75l264 262-44 44ZM377-389q81.25 0 138.125-57.5T572-585q0-81-56.875-138.5T377-781q-82.083 0-139.542 57.5Q180-666 180-585t57.458 138.5Q294.917-389 377-389ZM275-556v-60h201v60H275Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class or extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,rr,SvelteInternal.safe_not_equal,{})}}function ar(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M796-121 533-384q-30 26-69.959 40.5T378-329q-108.162 0-183.081-75Q120-479 120-585t75-181q75-75 181.5-75t181 75Q632-691 632-584.85 632-542 618-502q-14 40-42 75l264 262-44 44ZM377-389q81.25 0 138.125-57.5T572-585q0-81-56.875-138.5T377-781q-82.083 0-139.542 57.5Q180-666 180-585t57.458 138.5Q294.917-389 377-389Zm-31-85v-82h-82v-60h82v-81h60v81h81v60h-81v82h-60Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class sr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,ar,SvelteInternal.safe_not_equal,{})}}function ir(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M364-200v-60h294L160-758l42-42 498 498v-294h60v396H364Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class cr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,ir,SvelteInternal.safe_not_equal,{})}}function vr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M758-160 260-658v294h-60v-396h396v60H302l498 498-42 42Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class dr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,vr,SvelteInternal.safe_not_equal,{})}}function Sr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M220-634h390v-96q0-54.167-37.882-92.083-37.883-37.917-92-37.917Q426-860 388-822.083 350-784.167 350-730h-60q0-79 55.606-134.5t134.5-55.5Q559-920 614.5-864.425T670-730v96h70q24.75 0 42.375 17.625T800-574v434q0 24.75-17.625 42.375T740-80H220q-24.75 0-42.375-17.625T160-140v-434q0-24.75 17.625-42.375T220-634Zm0 494h520v-434H220v434Zm260.168-140Q512-280 534.5-302.031T557-355q0-30-22.668-54.5t-54.5-24.5Q448-434 425.5-409.5t-22.5 55q0 30.5 22.668 52.5t54.5 22ZM220-140v-434 434Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class ur extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,Sr,SvelteInternal.safe_not_equal,{})}}function pr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M220-80q-24.75 0-42.375-17.625T160-140v-434q0-24.75 17.625-42.375T220-634h70v-96q0-78.85 55.606-134.425Q401.212-920 480.106-920T614.5-864.425Q670-808.85 670-730v96h70q24.75 0 42.375 17.625T800-574v434q0 24.75-17.625 42.375T740-80H220Zm0-60h520v-434H220v434Zm260.168-140Q512-280 534.5-302.031T557-355q0-30-22.668-54.5t-54.5-24.5Q448-434 425.5-409.5t-22.5 55q0 30.5 22.668 52.5t54.5 22ZM350-634h260v-96q0-54.167-37.882-92.083-37.883-37.917-92-37.917Q426-860 388-822.083 350-784.167 350-730v96ZM220-140v-434 434Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class Ir extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,pr,SvelteInternal.safe_not_equal,{})}}function hr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M480-376q-45 0-74.5-29.5T376-480q0-45 29.5-74.5T480-584q45 0 74.5 29.5T584-480q0 45-29.5 74.5T480-376Zm0-60q18 0 31-13t13-31q0-18-13-31t-31-13q-18 0-31 13t-13 31q0 18 13 31t31 13ZM180-120q-24 0-42-18t-18-42v-172h60v172h172v60H180Zm428 0v-60h172v-172h60v172q0 24-18 42t-42 18H608ZM120-608v-172q0-24 18-42t42-18h172v60H180v172h-60Zm660 0v-172H608v-60h172q24 0 42 18t18 42v172h-60Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class gr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,hr,SvelteInternal.safe_not_equal,{})}}function mr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M479.765-340Q538-340 579-380.765q41-40.764 41-99Q620-538 579.235-579q-40.764-41-99-41Q422-620 381-579.235q-41 40.764-41 99Q340-422 380.765-381q40.764 41 99 41Zm.235 60q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM70-450q-12.75 0-21.375-8.675Q40-467.351 40-480.175 40-493 48.625-501.5T70-510h100q12.75 0 21.375 8.675 8.625 8.676 8.625 21.5 0 12.825-8.625 21.325T170-450H70Zm720 0q-12.75 0-21.375-8.675-8.625-8.676-8.625-21.5 0-12.825 8.625-21.325T790-510h100q12.75 0 21.375 8.675 8.625 8.676 8.625 21.5 0 12.825-8.625 21.325T890-450H790ZM479.825-760Q467-760 458.5-768.625T450-790v-100q0-12.75 8.675-21.375 8.676-8.625 21.5-8.625 12.825 0 21.325 8.625T510-890v100q0 12.75-8.675 21.375-8.676 8.625-21.5 8.625Zm0 720Q467-40 458.5-48.625T450-70v-100q0-12.75 8.675-21.375 8.676-8.625 21.5-8.625 12.825 0 21.325 8.625T510-170v100q0 12.75-8.675 21.375Q492.649-40 479.825-40ZM240-678l-57-56q-9-9-8.629-21.603.37-12.604 8.526-21.5 8.896-8.897 21.5-8.897Q217-786 226-777l56 57q8 9 8 21t-8 20.5q-8 8.5-20.5 8.5t-21.5-8Zm494 495-56-57q-8-9-8-21.375T678.5-282q8.5-9 20.5-9t21 9l57 56q9 9 8.629 21.603-.37 12.604-8.526 21.5-8.896 8.897-21.5 8.897Q743-174 734-183Zm-56-495q-9-9-9-21t9-21l56-57q9-9 21.603-8.629 12.604.37 21.5 8.526 8.897 8.896 8.897 21.5Q786-743 777-734l-57 56q-8 8-20.364 8-12.363 0-21.636-8ZM182.897-182.897q-8.897-8.896-8.897-21.5Q174-217 183-226l57-56q8.8-9 20.9-9 12.1 0 20.709 9Q291-273 291-261t-9 21l-56 57q-9 9-21.603 8.629-12.604-.37-21.5-8.526ZM480-480Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class fr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,mr,SvelteInternal.safe_not_equal,{})}}function _r(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q8 0 17 .5t23 1.5q-36 32-56 79t-20 99q0 90 63 153t153 63q52 0 99-18.5t79-51.5q1 12 1.5 19.5t.5 14.5q0 150-105 255T480-120Zm0-60q109 0 190-67.5T771-406q-25 11-53.667 16.5Q688.667-384 660-384q-114.689 0-195.345-80.655Q384-545.311 384-660q0-24 5-51.5t18-62.5q-98 27-162.5 109.5T180-480q0 125 87.5 212.5T480-180Zm-4-297Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class $r extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,_r,SvelteInternal.safe_not_equal,{})}}function br(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M400-280v-400l200 200-200 200Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class xr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,br,SvelteInternal.safe_not_equal,{})}}function yr(e){let t;return{c(){t=SvelteInternal.svg_element("path"),SvelteInternal.attr(t,"d","M560-280 360-480l200-200v400Z")},m(e,n){SvelteInternal.insert(e,t,n)},p:SvelteInternal.noop,i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}class wr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,null,yr,SvelteInternal.safe_not_equal,{})}}function kr(e){SvelteInternal.append_styles(e,"svelte-1kvv4m1","svg.svelte-1kvv4m1{fill:currentColor}")}function Cr(e){let t,n,l;var r=e[2][e[1]];return r&&(n=SvelteInternal.construct_svelte_component(r,{})),{c(){t=SvelteInternal.svg_element("svg"),n&&SvelteInternal.create_component(n.$$.fragment),SvelteInternal.attr(t,"xmlns","http://www.w3.org/2000/svg"),SvelteInternal.attr(t,"height",e[0]),SvelteInternal.attr(t,"viewBox","0 -960 960 960"),SvelteInternal.attr(t,"width",e[0]),SvelteInternal.attr(t,"class","svelte-1kvv4m1")},m(e,r){SvelteInternal.insert(e,t,r),n&&SvelteInternal.mount_component(n,t,null),l=!0},p(e,[o]){if(2&o&&r!==(r=e[2][e[1]])){if(n){SvelteInternal.group_outros();const e=n;SvelteInternal.transition_out(e.$$.fragment,1,0,(()=>{SvelteInternal.destroy_component(e,1)})),SvelteInternal.check_outros()}r?(n=SvelteInternal.construct_svelte_component(r,{}),SvelteInternal.create_component(n.$$.fragment),SvelteInternal.transition_in(n.$$.fragment,1),SvelteInternal.mount_component(n,t,null)):n=null}(!l||1&o)&&SvelteInternal.attr(t,"height",e[0]),(!l||1&o)&&SvelteInternal.attr(t,"width",e[0])},i(e){l||(n&&SvelteInternal.transition_in(n.$$.fragment,e),l=!0)},o(e){n&&SvelteInternal.transition_out(n.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(t),n&&SvelteInternal.destroy_component(n)}}}function qr(e,t,n){let{width:l=16}=t,{icon:r}=t;const o={arrow_left:wr,arrow_right:xr,dark_mode:$r,light_mode:fr,filter_center_focus:gr,lock:Ir,lock_open:ur,north_west:dr,south_east:cr,zoom_in:sr,zoom_out:or,visibility_off:lr};return e.$$set=e=>{"width"in e&&n(0,l=e.width),"icon"in e&&n(1,r=e.icon)},[l,r,o]}class zr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,qr,Cr,SvelteInternal.safe_not_equal,{width:0,icon:1},kr)}get width(){return this.$$.ctx[0]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get icon(){return this.$$.ctx[1]}set icon(e){this.$$set({icon:e}),SvelteInternal.flush()}}function Mr(e){SvelteInternal.append_styles(e,"svelte-10dric6",".svelte-10dric6.svelte-10dric6{box-sizing:border-box}.graph-controls.svelte-10dric6.svelte-10dric6{position:absolute}.NW.svelte-10dric6.svelte-10dric6{left:10px;top:10px}.NE.svelte-10dric6.svelte-10dric6{right:10px;top:10px}.SE.svelte-10dric6.svelte-10dric6{right:10px;bottom:10px}.SW.svelte-10dric6.svelte-10dric6{left:10px;bottom:10px}.controls-wrapper.svelte-10dric6.svelte-10dric6{left:10px;bottom:10px;display:flex;width:1.8rem;flex-direction:column;border-radius:6px;overflow:hidden;box-shadow:var(--controls-shadow, var(--default-controls-shadow));border:solid 1px var(--controls-border, var(--default-controls-border));padding:4px;color:var(\n\t\t\t--prop-controls-text-color,\n\t\t\tvar(--controls-text-color, var(--default-controls-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-controls-background-color,\n\t\t\tvar(--controls-background-color, var(--default-controls-background-color))\n\t\t)}button.svelte-10dric6.svelte-10dric6{margin:0;padding:0;border:none;background:none;display:flex;align-items:center;justify-content:center;padding:0.2rem 0;border-bottom:solid 1px rgb(190, 188, 188);color:inherit}.horizontal.svelte-10dric6>button.svelte-10dric6{border-bottom:none}button.svelte-10dric6.svelte-10dric6:last-child{border-bottom:none}button.svelte-10dric6.svelte-10dric6:hover{cursor:pointer}.horizontal.svelte-10dric6.svelte-10dric6{flex-direction:row-reverse !important;height:1.5rem;gap:6px;width:fit-content}")}const Nr=e=>({}),Er=e=>({zoomIn:e[12],zoomOut:e[13],fitView:e[14],lock:e[15],unhideAll:e[11]});function Ar(e){let t,n,l,r,o;return n=new zr({props:{icon:"visibility_off"}}),{c(){t=SvelteInternal.element("button"),SvelteInternal.create_component(n.$$.fragment),SvelteInternal.attr(t,"class","unhide svelte-10dric6")},m(a,s){SvelteInternal.insert(a,t,s),SvelteInternal.mount_component(n,t,null),l=!0,r||(o=SvelteInternal.listen(t,"mousedown",SvelteInternal.stop_propagation(e[11])),r=!0)},p:SvelteInternal.noop,i(e){l||(SvelteInternal.transition_in(n.$$.fragment,e),l=!0)},o(e){SvelteInternal.transition_out(n.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_component(n),r=!1,o()}}}function Tr(e){let t,n;const l=e[18].default,r=SvelteInternal.create_slot(l,e,e[17],Er),o=r||function(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g=e[5].size>0&&Ar(e);return r=new zr({props:{icon:"zoom_in"}}),s=new zr({props:{icon:"zoom_out"}}),v=new zr({props:{icon:"filter_center_focus"}}),u=new zr({props:{icon:e[4]?"lock_open":"lock"}}),{c(){t=SvelteInternal.element("div"),g&&g.c(),n=SvelteInternal.space(),l=SvelteInternal.element("button"),SvelteInternal.create_component(r.$$.fragment),o=SvelteInternal.space(),a=SvelteInternal.element("button"),SvelteInternal.create_component(s.$$.fragment),i=SvelteInternal.space(),c=SvelteInternal.element("button"),SvelteInternal.create_component(v.$$.fragment),d=SvelteInternal.space(),S=SvelteInternal.element("button"),SvelteInternal.create_component(u.$$.fragment),SvelteInternal.attr(l,"class","zoom-in svelte-10dric6"),SvelteInternal.attr(a,"class","zoom-out svelte-10dric6"),SvelteInternal.attr(c,"class","reset svelte-10dric6"),SvelteInternal.attr(S,"class","lock svelte-10dric6"),SvelteInternal.attr(t,"class","controls-wrapper svelte-10dric6"),SvelteInternal.toggle_class(t,"horizontal",e[0]),SvelteInternal.set_style(t,"--prop-controls-background-color",e[1]),SvelteInternal.set_style(t,"--prop-controls-text-color",e[2])},m(m,f){SvelteInternal.insert(m,t,f),g&&g.m(t,null),SvelteInternal.append(t,n),SvelteInternal.append(t,l),SvelteInternal.mount_component(r,l,null),SvelteInternal.append(t,o),SvelteInternal.append(t,a),SvelteInternal.mount_component(s,a,null),SvelteInternal.append(t,i),SvelteInternal.append(t,c),SvelteInternal.mount_component(v,c,null),SvelteInternal.append(t,d),SvelteInternal.append(t,S),SvelteInternal.mount_component(u,S,null),p=!0,I||(h=[SvelteInternal.listen(l,"mousedown",SvelteInternal.stop_propagation(e[12])),SvelteInternal.listen(l,"touchstart",e[12],{passive:!0}),SvelteInternal.listen(a,"mousedown",SvelteInternal.stop_propagation(e[13])),SvelteInternal.listen(a,"touchstart",e[13],{passive:!0}),SvelteInternal.listen(c,"mousedown",SvelteInternal.stop_propagation(e[14])),SvelteInternal.listen(c,"touchstart",e[14],{passive:!0}),SvelteInternal.listen(S,"mousedown",SvelteInternal.stop_propagation(e[15])),SvelteInternal.listen(S,"touchstart",e[15],{passive:!0})],I=!0)},p(e,l){e[5].size>0?g?(g.p(e,l),32&l&&SvelteInternal.transition_in(g,1)):(g=Ar(e),g.c(),SvelteInternal.transition_in(g,1),g.m(t,n)):g&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(g,1,1,(()=>{g=null})),SvelteInternal.check_outros());const r={};16&l&&(r.icon=e[4]?"lock_open":"lock"),u.$set(r),(!p||1&l)&&SvelteInternal.toggle_class(t,"horizontal",e[0]),2&l&&SvelteInternal.set_style(t,"--prop-controls-background-color",e[1]),4&l&&SvelteInternal.set_style(t,"--prop-controls-text-color",e[2])},i(e){p||(SvelteInternal.transition_in(g),SvelteInternal.transition_in(r.$$.fragment,e),SvelteInternal.transition_in(s.$$.fragment,e),SvelteInternal.transition_in(v.$$.fragment,e),SvelteInternal.transition_in(u.$$.fragment,e),p=!0)},o(e){SvelteInternal.transition_out(g),SvelteInternal.transition_out(r.$$.fragment,e),SvelteInternal.transition_out(s.$$.fragment,e),SvelteInternal.transition_out(v.$$.fragment,e),SvelteInternal.transition_out(u.$$.fragment,e),p=!1},d(e){e&&SvelteInternal.detach(t),g&&g.d(),SvelteInternal.destroy_component(r),SvelteInternal.destroy_component(s),SvelteInternal.destroy_component(v),SvelteInternal.destroy_component(u),I=!1,SvelteInternal.run_all(h)}}}(e);return{c(){t=SvelteInternal.element("nav"),o&&o.c(),SvelteInternal.attr(t,"class","graph-controls svelte-10dric6"),SvelteInternal.attr(t,"aria-label","navigation"),SvelteInternal.toggle_class(t,"SW","SW"===e[3]),SvelteInternal.toggle_class(t,"NE","NE"===e[3]),SvelteInternal.toggle_class(t,"SE","SE"===e[3]),SvelteInternal.toggle_class(t,"NW","NW"===e[3])},m(e,l){SvelteInternal.insert(e,t,l),o&&o.m(t,null),n=!0},p(e,[a]){r?r.p&&(!n||131072&a)&&SvelteInternal.update_slot_base(r,l,e,e[17],n?SvelteInternal.get_slot_changes(l,e[17],a,Nr):SvelteInternal.get_all_dirty_from_scope(e[17]),Er):o&&o.p&&(!n||55&a)&&o.p(e,n?a:-1),(!n||8&a)&&SvelteInternal.toggle_class(t,"SW","SW"===e[3]),(!n||8&a)&&SvelteInternal.toggle_class(t,"NE","NE"===e[3]),(!n||8&a)&&SvelteInternal.toggle_class(t,"SE","SE"===e[3]),(!n||8&a)&&SvelteInternal.toggle_class(t,"NW","NW"===e[3])},i(e){n||(SvelteInternal.transition_in(o,e),n=!0)},o(e){SvelteInternal.transition_out(o,e),n=!1},d(e){e&&SvelteInternal.detach(t),o&&o.d(e)}}}function Lr(e,t,n){let l,r,o,a,s,{$$slots:i={},$$scope:c}=t,{increment:v=.1}=t,{horizontal:d=!1}=t,{bgColor:S=null}=t,{iconColor:u=null}=t,{corner:I="SW"}=t;const h=SvelteInternal.getContext("transforms"),g=SvelteInternal.getContext("dimensions");SvelteInternal.component_subscribe(e,g,(e=>n(20,o=e)));const m=SvelteInternal.getContext("locked");SvelteInternal.component_subscribe(e,m,(e=>n(4,l=e)));const f=SvelteInternal.getContext("groups");SvelteInternal.component_subscribe(e,f,(e=>n(21,a=e)));const _=SvelteInternal.getContext("bounds"),{translation:$}=h,b=a.hidden.nodes;SvelteInternal.component_subscribe(e,b,(e=>n(5,s=e)));const x=_.nodeBounds;return SvelteInternal.component_subscribe(e,x,(e=>n(19,r=e))),e.$$set=e=>{"increment"in e&&n(16,v=e.increment),"horizontal"in e&&n(0,d=e.horizontal),"bgColor"in e&&n(1,S=e.bgColor),"iconColor"in e&&n(2,u=e.iconColor),"corner"in e&&n(3,I=e.corner),"$$scope"in e&&n(17,c=e.$$scope)},[d,S,u,I,l,s,g,m,f,b,x,function(){b.set(new Set)},function(){G(-1,g,h,v)},function(){G(1,g,h,v)},function(){p.set(!0);const{x:e,y:t,scale:n}=M(o,r);$.set({x:e||0,y:t||0}),h.scale.set(n||1),p.set(!1)},function(){SvelteInternal.set_store_value(m,l=!l,l)},v,c,i]}class Pr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Lr,Tr,SvelteInternal.safe_not_equal,{increment:16,horizontal:0,bgColor:1,iconColor:2,corner:3},Mr)}get increment(){return this.$$.ctx[16]}set increment(e){this.$$set({increment:e}),SvelteInternal.flush()}get horizontal(){return this.$$.ctx[0]}set horizontal(e){this.$$set({horizontal:e}),SvelteInternal.flush()}get bgColor(){return this.$$.ctx[1]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}get iconColor(){return this.$$.ctx[2]}set iconColor(e){this.$$set({iconColor:e}),SvelteInternal.flush()}get corner(){return this.$$.ctx[3]}set corner(e){this.$$set({corner:e}),SvelteInternal.flush()}}var Dr=Object.freeze({__proto__:null,default:Pr});function jr(e){SvelteInternal.append_styles(e,"svelte-1hs9omb",".svelte-1hs9omb{box-sizing:border-box}.minimap-node.svelte-1hs9omb{position:absolute;border:none;background-color:var(\n\t\t\t--prop-background-color,\n\t\t\tvar(--minimap-node-color, var(--default-minimap-node-color))\n\t\t)}.hidden.svelte-1hs9omb{opacity:25%}.hideable.svelte-1hs9omb{cursor:pointer}")}function Wr(e){let t,n,l,r=`${e[13]}px`,o=`${e[15]}px`,a=`${e[16]}px`,s=`rotate(${e[10]}deg)`,i=e[11].y-e[3]+"px",c=e[11].x-e[4]+"px";return{c(){t=SvelteInternal.element("button"),SvelteInternal.attr(t,"class","minimap-node svelte-1hs9omb"),SvelteInternal.toggle_class(t,"hidden",e[1]),SvelteInternal.toggle_class(t,"hideable",e[6]),SvelteInternal.set_style(t,"z-index",e[12]),SvelteInternal.set_style(t,"border-radius",r),SvelteInternal.set_style(t,"--prop-background-color",e[5]||e[14]||!e[8]&&e[7]||null),SvelteInternal.set_style(t,"width",o),SvelteInternal.set_style(t,"height",a),SvelteInternal.set_style(t,"transform",s),SvelteInternal.set_style(t,"top",i),SvelteInternal.set_style(t,"left",c)},m(r,o){SvelteInternal.insert(r,t,o),n||(l=SvelteInternal.listen(t,"click",e[25]),n=!0)},p(e,[n]){2&n&&SvelteInternal.toggle_class(t,"hidden",e[1]),64&n&&SvelteInternal.toggle_class(t,"hideable",e[6]),4096&n&&SvelteInternal.set_style(t,"z-index",e[12]),8192&n&&r!==(r=`${e[13]}px`)&&SvelteInternal.set_style(t,"border-radius",r),16800&n&&SvelteInternal.set_style(t,"--prop-background-color",e[5]||e[14]||!e[8]&&e[7]||null),32768&n&&o!==(o=`${e[15]}px`)&&SvelteInternal.set_style(t,"width",o),65536&n&&a!==(a=`${e[16]}px`)&&SvelteInternal.set_style(t,"height",a),1024&n&&s!==(s=`rotate(${e[10]}deg)`)&&SvelteInternal.set_style(t,"transform",s),2056&n&&i!==(i=e[11].y-e[3]+"px")&&SvelteInternal.set_style(t,"top",i),2064&n&&c!==(c=e[11].x-e[4]+"px")&&SvelteInternal.set_style(t,"left",c)},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),n=!1,l()}}}function Rr(e,t,n){let l,r,o,a,s,i,c,v,d,S,u,p=SvelteInternal.noop;e.$$.on_destroy.push((()=>p()));let{node:I}=t,{hidden:h=!1}=t,{toggleHidden:g}=t,{top:m}=t,{left:f}=t,{nodeColor:_=null}=t,{hideable:$}=t;const{position:b,dimensions:x,bgColor:y,borderRadius:w,rotation:k}=I;SvelteInternal.component_subscribe(e,b,(e=>n(24,i=e))),SvelteInternal.component_subscribe(e,y,(e=>n(14,d=e))),SvelteInternal.component_subscribe(e,w,(e=>n(13,v=e))),SvelteInternal.component_subscribe(e,k,(e=>n(23,s=e)));const{width:C,height:q}=x;SvelteInternal.component_subscribe(e,C,(e=>n(15,S=e))),SvelteInternal.component_subscribe(e,q,(e=>n(16,u=e)));let z=null;SvelteInternal.onMount((()=>{try{const e=document.querySelector(`#${I.id}`)?.firstChild;e&&n(7,z=window.getComputedStyle(e).backgroundColor)}catch(e){console.error(e)}}));return e.$$set=e=>{"node"in e&&n(0,I=e.node),"hidden"in e&&n(1,h=e.hidden),"toggleHidden"in e&&n(2,g=e.toggleHidden),"top"in e&&n(3,m=e.top),"left"in e&&n(4,f=e.left),"nodeColor"in e&&n(5,_=e.nodeColor),"hideable"in e&&n(6,$=e.hideable)},e.$$.update=()=>{16777216&e.$$.dirty&&n(11,l=i),8388608&e.$$.dirty&&n(10,r=s),1&e.$$.dirty&&(n(9,o=I.zIndex),p(),p=SvelteInternal.subscribe(o,(e=>n(12,c=e)))),128&e.$$.dirty&&n(8,a="rgba(0, 0, 0, 0)"===z)},[I,h,g,m,f,_,$,z,a,o,r,l,c,v,d,S,u,b,y,w,k,C,q,s,i,()=>{$&&g(I)}]}class Zr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Rr,Wr,SvelteInternal.safe_not_equal,{node:0,hidden:1,toggleHidden:2,top:3,left:4,nodeColor:5,hideable:6},jr)}get node(){return this.$$.ctx[0]}set node(e){this.$$set({node:e}),SvelteInternal.flush()}get hidden(){return this.$$.ctx[1]}set hidden(e){this.$$set({hidden:e}),SvelteInternal.flush()}get toggleHidden(){return this.$$.ctx[2]}set toggleHidden(e){this.$$set({toggleHidden:e}),SvelteInternal.flush()}get top(){return this.$$.ctx[3]}set top(e){this.$$set({top:e}),SvelteInternal.flush()}get left(){return this.$$.ctx[4]}set left(e){this.$$set({left:e}),SvelteInternal.flush()}get nodeColor(){return this.$$.ctx[5]}set nodeColor(e){this.$$set({nodeColor:e}),SvelteInternal.flush()}get hideable(){return this.$$.ctx[6]}set hideable(e){this.$$set({hideable:e}),SvelteInternal.flush()}}function Br(e){SvelteInternal.append_styles(e,"svelte-aoq4g",".mini-bounding-box.svelte-aoq4g{position:absolute;opacity:25%;z-index:-4;pointer-events:none;border-radius:10px}")}function Or(e){let t,n;return{c(){t=SvelteInternal.element("div"),SvelteInternal.attr(t,"class","mini-bounding-box svelte-aoq4g"),SvelteInternal.attr(t,"id",n=`mini-${e[2]}-bounding-box`),SvelteInternal.set_style(t,"border","solid 4px "+e[8]),SvelteInternal.set_style(t,"top",e[5].y-e[3]+"px"),SvelteInternal.set_style(t,"left",e[5].x-e[4]+"px"),SvelteInternal.set_style(t,"width",`${e[6]}px`),SvelteInternal.set_style(t,"height",`${e[7]}px`),SvelteInternal.set_style(t,"background-color",e[8])},m(e,n){SvelteInternal.insert(e,t,n)},p(e,[l]){4&l&&n!==(n=`mini-${e[2]}-bounding-box`)&&SvelteInternal.attr(t,"id",n),256&l&&SvelteInternal.set_style(t,"border","solid 4px "+e[8]);const r=256&l;(296&l||r)&&SvelteInternal.set_style(t,"top",e[5].y-e[3]+"px"),(304&l||r)&&SvelteInternal.set_style(t,"left",e[5].x-e[4]+"px"),(320&l||r)&&SvelteInternal.set_style(t,"width",`${e[6]}px`),(384&l||r)&&SvelteInternal.set_style(t,"height",`${e[7]}px`),(256&l||r)&&SvelteInternal.set_style(t,"background-color",e[8])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t)}}}function Hr(e,t,n){let l,r,o,a,s=SvelteInternal.noop,i=()=>(s(),s=SvelteInternal.subscribe(S,(e=>n(5,l=e))),S),c=SvelteInternal.noop,v=()=>(c(),c=SvelteInternal.subscribe(u,(e=>n(8,a=e))),u);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>c()));let{dimensions:d}=t,{position:S}=t;i();let{color:u}=t;v();let{groupName:p}=t,{top:I}=t,{left:h}=t;const{width:g,height:m}=d;return SvelteInternal.component_subscribe(e,g,(e=>n(6,r=e))),SvelteInternal.component_subscribe(e,m,(e=>n(7,o=e))),e.$$set=e=>{"dimensions"in e&&n(11,d=e.dimensions),"position"in e&&i(n(0,S=e.position)),"color"in e&&v(n(1,u=e.color)),"groupName"in e&&n(2,p=e.groupName),"top"in e&&n(3,I=e.top),"left"in e&&n(4,h=e.left)},[S,u,p,I,h,l,r,o,a,g,m,d]}class Xr extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Hr,Or,SvelteInternal.safe_not_equal,{dimensions:11,position:0,color:1,groupName:2,top:3,left:4},Br)}get dimensions(){return this.$$.ctx[11]}set dimensions(e){this.$$set({dimensions:e}),SvelteInternal.flush()}get position(){return this.$$.ctx[0]}set position(e){this.$$set({position:e}),SvelteInternal.flush()}get color(){return this.$$.ctx[1]}set color(e){this.$$set({color:e}),SvelteInternal.flush()}get groupName(){return this.$$.ctx[2]}set groupName(e){this.$$set({groupName:e}),SvelteInternal.flush()}get top(){return this.$$.ctx[3]}set top(e){this.$$set({top:e}),SvelteInternal.flush()}get left(){return this.$$.ctx[4]}set left(e){this.$$set({left:e}),SvelteInternal.flush()}}function Fr(e){SvelteInternal.append_styles(e,"svelte-1qxvbux",".svelte-1qxvbux{box-sizing:border-box}.minimap-wrapper.svelte-1qxvbux{position:absolute;border-radius:6px;overflow:hidden;box-shadow:var(--minimap-shadow, var(--default-minimap-shadow));border:solid 1px;z-index:10;display:flex;justify-content:center;align-items:center;background-color:var(\n\t\t\t--prop-minimap-background-color,\n\t\t\tvar(\n\t\t\t\t--minimap-background-color,\n\t\t\t\tvar(--background-color, var(--default-minimap-background-color))\n\t\t\t)\n\t\t);border-color:var(\n\t\t\t--prop-minimap-border-color,\n\t\t\tvar(--minimap-border, var(--default-minimap-border))\n\t\t)}.NW.svelte-1qxvbux{left:10px;top:10px}.NE.svelte-1qxvbux{right:10px;top:10px}.SE.svelte-1qxvbux{right:10px;bottom:10px}.SW.svelte-1qxvbux{left:10px;bottom:10px}.overlay.svelte-1qxvbux{position:absolute;background-color:transparent;outline:400px rgba(0, 0, 0, 0.25) solid;box-sizing:border-box;pointer-events:none}.node-wrapper.svelte-1qxvbux{position:absolute}")}function Vr(e,t,n){const l=e.slice();return l[52]=t[n][0],l[53]=t[n][1],l}function Qr(e,t,n){const l=e.slice();return l[52]=t[n][0],l[56]=t[n][1],l}function Gr(e){let t,n;return t=new Zr({props:{node:e[56],top:e[11],left:e[10],nodeColor:e[3],hidden:e[13].has(e[56]),toggleHidden:e[24],hideable:e[6]}}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const l={};16384&n[0]&&(l.node=e[56]),2048&n[0]&&(l.top=e[11]),1024&n[0]&&(l.left=e[10]),8&n[0]&&(l.nodeColor=e[3]),24576&n[0]&&(l.hidden=e[13].has(e[56])),64&n[0]&&(l.hideable=e[6]),t.$set(l)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Yr(e,t){let n,l,r,o="N-editor"!==t[56].id&&Gr(t);return{key:e,first:null,c(){n=SvelteInternal.empty(),o&&o.c(),l=SvelteInternal.empty(),this.first=n},m(e,t){SvelteInternal.insert(e,n,t),o&&o.m(e,t),SvelteInternal.insert(e,l,t),r=!0},p(e,n){"N-editor"!==(t=e)[56].id?o?(o.p(t,n),16384&n[0]&&SvelteInternal.transition_in(o,1)):(o=Gr(t),o.c(),SvelteInternal.transition_in(o,1),o.m(l.parentNode,l)):o&&(SvelteInternal.group_outros(),SvelteInternal.transition_out(o,1,1,(()=>{o=null})),SvelteInternal.check_outros())},i(e){r||(SvelteInternal.transition_in(o),r=!0)},o(e){SvelteInternal.transition_out(o),r=!1},d(e){e&&(SvelteInternal.detach(n),SvelteInternal.detach(l)),o&&o.d(e)}}}function Kr(e,t){let n,l,r;const o=[t[53],{top:t[11]},{left:t[10]},{groupName:t[52]}];let a={};for(let e=0;e<o.length;e+=1)a=SvelteInternal.assign(a,o[e]);return l=new Xr({props:a}),{key:e,first:null,c(){n=SvelteInternal.empty(),SvelteInternal.create_component(l.$$.fragment),this.first=n},m(e,t){SvelteInternal.insert(e,n,t),SvelteInternal.mount_component(l,e,t),r=!0},p(e,n){t=e;const r=35840&n[0]?SvelteInternal.get_spread_update(o,[32768&n[0]&&SvelteInternal.get_spread_object(t[53]),2048&n[0]&&{top:t[11]},1024&n[0]&&{left:t[10]},32768&n[0]&&{groupName:t[52]}]):{};l.$set(r)},i(e){r||(SvelteInternal.transition_in(l.$$.fragment,e),r=!0)},o(e){SvelteInternal.transition_out(l.$$.fragment,e),r=!1},d(e){e&&SvelteInternal.detach(n),SvelteInternal.destroy_component(l,e)}}}function Ur(e){let t,n,l,r,o,a,s=[],i=new Map,c=[],v=new Map,d=`${e[9]}px`,S=`${e[8]}px`,u=`scale(${e[7]})`,p=`${e[0]}px`,I=`${e[1]?e[1]:e[0]}px`,h=SvelteInternal.ensure_array_like(Array.from(e[14].entries()));const g=e=>e[52];for(let t=0;t<h.length;t+=1){let n=Qr(e,h,t),l=g(n);i.set(l,s[t]=Yr(l,n))}let m=SvelteInternal.ensure_array_like(Array.from(e[15].entries()));const f=e=>e[52];for(let t=0;t<m.length;t+=1){let n=Vr(e,m,t),l=f(n);v.set(l,c[t]=Kr(l,n))}return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div");for(let e=0;e<s.length;e+=1)s[e].c();l=SvelteInternal.space();for(let e=0;e<c.length;e+=1)c[e].c();r=SvelteInternal.space(),o=SvelteInternal.element("div"),SvelteInternal.attr(n,"class","node-wrapper svelte-1qxvbux"),SvelteInternal.set_style(n,"width",d),SvelteInternal.set_style(n,"height",S),SvelteInternal.set_style(n,"transform",u),SvelteInternal.attr(o,"class","overlay svelte-1qxvbux"),SvelteInternal.attr(o,"style",e[12]),SvelteInternal.attr(t,"class","minimap-wrapper svelte-1qxvbux"),SvelteInternal.toggle_class(t,"SW","SW"===e[5]),SvelteInternal.toggle_class(t,"NE","NE"===e[5]),SvelteInternal.toggle_class(t,"SE","SE"===e[5]),SvelteInternal.toggle_class(t,"NW","NW"===e[5]),SvelteInternal.set_style(t,"width",p),SvelteInternal.set_style(t,"height",I),SvelteInternal.set_style(t,"--prop-minimap-border-color",e[4]),SvelteInternal.set_style(t,"--prop-minimap-background-color",e[2])},m(e,i){SvelteInternal.insert(e,t,i),SvelteInternal.append(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(n,null);SvelteInternal.append(n,l);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(n,null);SvelteInternal.append(t,r),SvelteInternal.append(t,o),a=!0},p(e,r){16804936&r[0]&&(h=SvelteInternal.ensure_array_like(Array.from(e[14].entries())),SvelteInternal.group_outros(),s=SvelteInternal.update_keyed_each(s,r,g,1,e,h,i,n,SvelteInternal.outro_and_destroy_block,Yr,l,Qr),SvelteInternal.check_outros()),35840&r[0]&&(m=SvelteInternal.ensure_array_like(Array.from(e[15].entries())),SvelteInternal.group_outros(),c=SvelteInternal.update_keyed_each(c,r,f,1,e,m,v,n,SvelteInternal.outro_and_destroy_block,Kr,null,Vr),SvelteInternal.check_outros()),512&r[0]&&d!==(d=`${e[9]}px`)&&SvelteInternal.set_style(n,"width",d),256&r[0]&&S!==(S=`${e[8]}px`)&&SvelteInternal.set_style(n,"height",S),128&r[0]&&u!==(u=`scale(${e[7]})`)&&SvelteInternal.set_style(n,"transform",u),(!a||4096&r[0])&&SvelteInternal.attr(o,"style",e[12]),(!a||32&r[0])&&SvelteInternal.toggle_class(t,"SW","SW"===e[5]),(!a||32&r[0])&&SvelteInternal.toggle_class(t,"NE","NE"===e[5]),(!a||32&r[0])&&SvelteInternal.toggle_class(t,"SE","SE"===e[5]),(!a||32&r[0])&&SvelteInternal.toggle_class(t,"NW","NW"===e[5]),1&r[0]&&p!==(p=`${e[0]}px`)&&SvelteInternal.set_style(t,"width",p),3&r[0]&&I!==(I=`${e[1]?e[1]:e[0]}px`)&&SvelteInternal.set_style(t,"height",I),16&r[0]&&SvelteInternal.set_style(t,"--prop-minimap-border-color",e[4]),4&r[0]&&SvelteInternal.set_style(t,"--prop-minimap-background-color",e[2])},i(e){if(!a){for(let e=0;e<h.length;e+=1)SvelteInternal.transition_in(s[e]);for(let e=0;e<m.length;e+=1)SvelteInternal.transition_in(c[e]);a=!0}},o(e){for(let e=0;e<s.length;e+=1)SvelteInternal.transition_out(s[e]);for(let e=0;e<c.length;e+=1)SvelteInternal.transition_out(c[e]);a=!1},d(e){e&&SvelteInternal.detach(t);for(let e=0;e<s.length;e+=1)s[e].d();for(let e=0;e<c.length;e+=1)c[e].d()}}}function Jr(e,t,n){let l,r,o,a,s,i,c,v,d,S,u,p,I,h,m,f,_,$,b,x,y,w,k,C,q,z,M,N,E,A,T,L=SvelteInternal.getContext("graph"),{width:P=100}=t,{height:D=P}=t,{mapColor:j=null}=t,{nodeColor:W=null}=t,{borderColor:R=null}=t,{corner:Z="SE"}=t,{hideable:B=!1}=t;const O=.9*P,H=.9*D,X=L.bounds.graphBounds;SvelteInternal.component_subscribe(e,X,(e=>n(45,E=e)));const F=L.nodes;SvelteInternal.component_subscribe(e,F,(e=>n(14,A=e)));const V=L.groups;SvelteInternal.component_subscribe(e,V,(e=>n(46,N=e)));const Q=L.transforms,G=L.dimensions;SvelteInternal.component_subscribe(e,G,(e=>n(44,M=e)));const Y=N.hidden.nodes;SvelteInternal.component_subscribe(e,Y,(e=>n(13,C=e)));const K=Q.scale;SvelteInternal.component_subscribe(e,K,(e=>n(42,q=e)));const U=Q.translation;SvelteInternal.component_subscribe(e,U,(e=>n(43,z=e)));const J=L.groupBoxes;SvelteInternal.component_subscribe(e,J,(e=>n(15,T=e)));const ee={clientX:0,clientY:0};return e.$$set=e=>{"width"in e&&n(0,P=e.width),"height"in e&&n(1,D=e.height),"mapColor"in e&&n(2,j=e.mapColor),"nodeColor"in e&&n(3,W=e.nodeColor),"borderColor"in e&&n(4,R=e.borderColor),"corner"in e&&n(5,Z=e.corner),"hideable"in e&&n(6,B=e.hideable)},e.$$.update=()=>{16384&e.$$.dirty[1]&&n(41,l=E),1024&e.$$.dirty[1]&&n(11,r=l.top),1024&e.$$.dirty[1]&&n(10,o=l.left),1024&e.$$.dirty[1]&&n(40,a=l.right),1024&e.$$.dirty[1]&&n(39,s=l.bottom),8192&e.$$.dirty[1]&&n(38,i=M.width),8192&e.$$.dirty[1]&&n(37,c=M.height),1024&e.$$.dirty[0]|512&e.$$.dirty[1]&&n(9,v=a-o),2048&e.$$.dirty[0]|256&e.$$.dirty[1]&&n(8,d=s-r),768&e.$$.dirty[0]&&n(31,S=v/d),3&e.$$.dirty[0]&&n(30,u=P/D),6336&e.$$.dirty[1]&&n(36,p=g(ee,0,0,i,c,q,z)),512&e.$$.dirty[0]|2176&e.$$.dirty[1]&&n(33,I=i/v/q),256&e.$$.dirty[0]|2112&e.$$.dirty[1]&&n(32,h=c/d/q),2304&e.$$.dirty[0]|32&e.$$.dirty[1]&&n(35,m=(p.y-r)/d),1536&e.$$.dirty[0]|32&e.$$.dirty[1]&&n(34,f=(p.x-o)/v),1073741824&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(29,$=S>=u),536871680&e.$$.dirty[0]&&n(7,b=$?O/v:H/d),384&e.$$.dirty[0]&&n(25,k=d*b),33554434&e.$$.dirty[0]&&n(27,y=(D-k)/2),640&e.$$.dirty[0]&&n(26,w=v*b),67108865&e.$$.dirty[0]&&n(28,x=(P-w)/2),503316480&e.$$.dirty[0]|30&e.$$.dirty[1]&&n(12,_=`\n\t\ttop: ${y+m*k}px;\n\t\tleft: ${x+f*w}px;\n\t\twidth: ${I*w}px;\n\t\theight: ${h*k}px;`)},[P,D,j,W,R,Z,B,b,d,v,o,r,_,C,A,T,X,F,V,G,Y,K,U,J,function(e){C.has(e)?C.delete(e):C.add(e),Y.set(C)},k,w,y,x,$,u,S,h,I,f,m,p,c,i,s,a,l,q,z,M,E]}class eo extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Jr,Ur,SvelteInternal.safe_not_equal,{width:0,height:1,mapColor:2,nodeColor:3,borderColor:4,corner:5,hideable:6},Fr,[-1,-1])}get width(){return this.$$.ctx[0]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get mapColor(){return this.$$.ctx[2]}set mapColor(e){this.$$set({mapColor:e}),SvelteInternal.flush()}get nodeColor(){return this.$$.ctx[3]}set nodeColor(e){this.$$set({nodeColor:e}),SvelteInternal.flush()}get borderColor(){return this.$$.ctx[4]}set borderColor(e){this.$$set({borderColor:e}),SvelteInternal.flush()}get corner(){return this.$$.ctx[5]}set corner(e){this.$$set({corner:e}),SvelteInternal.flush()}get hideable(){return this.$$.ctx[6]}set hideable(e){this.$$set({hideable:e}),SvelteInternal.flush()}}var to=Object.freeze({__proto__:null,default:eo});function no(e){let t;const n=e[6].default,l=SvelteInternal.create_slot(n,e,e[5],null);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,[r]){l&&l.p&&(!t||32&r)&&SvelteInternal.update_slot_base(l,n,e,e[5],t?SvelteInternal.get_slot_changes(n,e[5],r,null):SvelteInternal.get_all_dirty_from_scope(e[5]),null)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function lo(e,t,n){let{$$slots:l={},$$scope:r}=t,{width:o}=t,{height:a}=t,{position:s}=t,{color:i=A()}=t,{groupName:c}=t;const v=SvelteInternal.getContext("graph"),d=`${c}/${v.id}`;SvelteInternal.setContext("group",d);const S=SvelteStore.writable(s),u={group:SvelteStore.writable(d),dimensions:{width:SvelteStore.writable(o),height:SvelteStore.writable(a)},position:S,color:SvelteStore.writable(i),moving:SvelteStore.writable(!1)};return v.groupBoxes.add(u,d),v.groups.update((e=>{const t={parent:SvelteStore.writable(u),nodes:SvelteStore.writable(new Set([u]))};return e[d]=t,e})),e.$$set=e=>{"width"in e&&n(0,o=e.width),"height"in e&&n(1,a=e.height),"position"in e&&n(2,s=e.position),"color"in e&&n(3,i=e.color),"groupName"in e&&n(4,c=e.groupName),"$$scope"in e&&n(5,r=e.$$scope)},[o,a,s,i,c,r,l]}class ro extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,lo,no,SvelteInternal.safe_not_equal,{width:0,height:1,position:2,color:3,groupName:4})}get width(){return this.$$.ctx[0]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get position(){return this.$$.ctx[2]}set position(e){this.$$set({position:e}),SvelteInternal.flush()}get color(){return this.$$.ctx[3]}set color(e){this.$$set({color:e}),SvelteInternal.flush()}get groupName(){return this.$$.ctx[4]}set groupName(e){this.$$set({groupName:e}),SvelteInternal.flush()}}function oo(e){SvelteInternal.append_styles(e,"svelte-1k8rcaq",".svelte-1k8rcaq{box-sizing:border-box}.wrapper.svelte-1k8rcaq{display:flex;gap:0.5rem;justify-content:center;align-items:center;height:7rem;width:7rem}.knob.svelte-1k8rcaq{display:flex;border-radius:50%;width:7rem;height:7rem;pointer-events:auto;cursor:pointer;padding:0.25rem}.indicator.svelte-1k8rcaq{top:80%;left:48%;transform-origin:50% -50%;position:absolute;width:4%;height:15%;background-color:#666565;border-radius:30%/10%;pointer-events:none}.knob-value.svelte-1k8rcaq{position:absolute;top:50%;left:50%;transform:translate(-50%, 50%);font-size:2.5em;color:white;z-index:100}.connected.svelte-1k8rcaq{display:flex;justify-content:space-between;padding:0.25rem 0.5rem}")}function ao(e){let t,n,l,r,o,a,s;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div"),l=SvelteInternal.element("p"),r=SvelteInternal.text(e[3]),o=SvelteInternal.space(),a=SvelteInternal.element("p"),s=SvelteInternal.text(e[9]),SvelteInternal.attr(l,"class","svelte-1k8rcaq"),SvelteInternal.attr(a,"class","svelte-1k8rcaq"),SvelteInternal.attr(n,"class","knob connected svelte-1k8rcaq"),SvelteInternal.attr(n,"aria-label",e[3]),SvelteInternal.set_style(n,"--percentage","10%"),SvelteInternal.attr(t,"class","wrapper connected svelte-1k8rcaq")},m(e,i){SvelteInternal.insert(e,t,i),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),SvelteInternal.append(n,o),SvelteInternal.append(n,a),SvelteInternal.append(a,s)},p(e,t){8&t[0]&&SvelteInternal.set_data(r,e[3]),512&t[0]&&SvelteInternal.set_data(s,e[9]),8&t[0]&&SvelteInternal.attr(n,"aria-label",e[3])},d(e){e&&SvelteInternal.detach(t)}}}function so(e){let t,n,l,r,o,a,s,i,c,v,d,S=e[10].toFixed(e[4])+"";return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div"),l=SvelteInternal.element("div"),r=SvelteInternal.space(),o=SvelteInternal.element("div"),s=SvelteInternal.space(),i=SvelteInternal.element("div"),c=SvelteInternal.text(S),SvelteInternal.attr(l,"tabindex",0),SvelteInternal.attr(l,"id","knob"),SvelteInternal.attr(l,"class","knob svelte-1k8rcaq"),SvelteInternal.attr(l,"aria-label","knob component"),SvelteInternal.attr(l,"role","slider"),SvelteInternal.attr(l,"aria-valuemin",e[1]),SvelteInternal.attr(l,"aria-valuemax",e[2]),SvelteInternal.attr(l,"aria-valuenow",e[10]),SvelteInternal.set_style(l,"background",e[6]),SvelteInternal.attr(o,"class","indicator svelte-1k8rcaq"),SvelteInternal.set_style(o,"background",e[8]),SvelteInternal.attr(n,"class","knob-container svelte-1k8rcaq"),SvelteInternal.add_render_callback((()=>e[32].call(n))),SvelteInternal.set_style(n,"transform",e[14]),SvelteInternal.attr(i,"class","knob-value svelte-1k8rcaq"),SvelteInternal.set_style(i,"color",e[7]),SvelteInternal.attr(t,"class","wrapper svelte-1k8rcaq"),SvelteInternal.set_style(t,"color",e[5])},m(S,u){SvelteInternal.insert(S,t,u),SvelteInternal.append(t,n),SvelteInternal.append(n,l),e[31](l),SvelteInternal.append(n,r),SvelteInternal.append(n,o),a=SvelteInternal.add_iframe_resize_listener(n,e[32].bind(n)),SvelteInternal.append(t,s),SvelteInternal.append(t,i),SvelteInternal.append(i,c),e[33](t),v||(d=[SvelteInternal.listen(l,"wheel",SvelteInternal.stop_propagation(SvelteInternal.prevent_default(e[29]))),SvelteInternal.listen(l,"keydown",SvelteInternal.stop_propagation(e[30])),SvelteInternal.action_destroyer(e[21].call(null,l))],v=!0)},p(e,r){2&r[0]&&SvelteInternal.attr(l,"aria-valuemin",e[1]),4&r[0]&&SvelteInternal.attr(l,"aria-valuemax",e[2]),1024&r[0]&&SvelteInternal.attr(l,"aria-valuenow",e[10]),64&r[0]&&SvelteInternal.set_style(l,"background",e[6]),256&r[0]&&SvelteInternal.set_style(o,"background",e[8]),16384&r[0]&&SvelteInternal.set_style(n,"transform",e[14]),1040&r[0]&&S!==(S=e[10].toFixed(e[4])+"")&&SvelteInternal.set_data(c,S),128&r[0]&&SvelteInternal.set_style(i,"color",e[7]),32&r[0]&&SvelteInternal.set_style(t,"color",e[5])},d(n){n&&SvelteInternal.detach(t),e[31](null),a(),e[33](null),v=!1,SvelteInternal.run_all(d)}}}function io(e){let t;function n(e,t){return e[18]?ao:so}let l=n(e),r=l(e);return{c(){r.c(),t=SvelteInternal.empty()},m(e,n){r.m(e,n),SvelteInternal.insert(e,t,n)},p(e,o){l===(l=n(e))&&r?r.p(e,o):(r.d(1),r=l(e),r&&(r.c(),r.m(t.parentNode,t)))},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),r.d(e)}}}function co(e,t,n){let l,r,o,a,s,i,c,v,d,S,u,I,h=SvelteInternal.noop,m=()=>(h(),h=SvelteInternal.subscribe(y,(e=>n(10,c=e))),y),f=SvelteInternal.noop,_=SvelteInternal.noop,$=SvelteInternal.noop;e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>$()));let{minDegree:b=60}=t,{maxDegree:x=300}=t,{parameterStore:y}=t;m();let{min:w=0}=t,{max:k=100}=t,{step:C=1}=t,{label:q="Value"}=t,{fixed:z=0}=t,{fontColor:M=null}=t,{knobColor:N="lightblue"}=t,{knobValueColor:E="white"}=t,{indicatorColor:A="#666565"}=t;SvelteInternal.set_store_value(y,c=c<w?w:c>k?k:Math.floor((c-w)/C)*C+w,c);const T=SvelteInternal.getContext("graph"),L=T.groups;SvelteInternal.component_subscribe(e,L,(e=>n(38,I=e)));const P=I.selected,D=T.activeGroup;let j,W,R;SvelteInternal.component_subscribe(e,D,(e=>n(37,S=e)));let B=!1;function O(e){e.stopPropagation(),e.preventDefault(),window.addEventListener("mouseup",F,{once:!0}),n(27,B=!0)}let H=c;function X(e){SvelteInternal.set_store_value(D,S=null,S),P.nodes.set(new Set),p.set(!1),e.stopPropagation(),e.preventDefault(),window.addEventListener("touchend",F,{once:!0}),n(27,B=!0)}function F(){H===c?R.focus():H=c,n(27,B=!1),window.removeEventListener("mouseup",F)}function V(e,t=(x-b)/(k-w)*C){n(9,l=Z(Math.max(b,Math.min(l+e*t,x)),3)),SvelteInternal.set_store_value(y,c=(Q(l)-b)/(x-b)*(k-w)+w,c)}function Q(e){const t=(x-b)/(k-w)*C,r=Math.round((e-b)/t)*t+b,o=Math.min(Math.max(r,b),x);return n(9,l=o),o}return e.$$set=e=>{"minDegree"in e&&n(23,b=e.minDegree),"maxDegree"in e&&n(24,x=e.maxDegree),"parameterStore"in e&&m(n(0,y=e.parameterStore)),"min"in e&&n(1,w=e.min),"max"in e&&n(2,k=e.max),"step"in e&&n(25,C=e.step),"label"in e&&n(3,q=e.label),"fixed"in e&&n(4,z=e.fixed),"fontColor"in e&&n(5,M=e.fontColor),"knobColor"in e&&n(6,N=e.knobColor),"knobValueColor"in e&&n(7,E=e.knobValueColor),"indicatorColor"in e&&n(8,A=e.indicatorColor)},e.$$.update=()=>{25166854&e.$$.dirty[0]&&n(9,l=(c-w)/(k-w)*(x-b)+b),1&e.$$.dirty[0]&&n(18,r="function"!=typeof y.set),402653184&e.$$.dirty[0]&&B&&function(e,t){const{top:n,left:r,width:o,height:a}=W.getBoundingClientRect(),s={clientX:e,clientY:t},{x:i,y:S}=g(s,n,r,o,a,v,d),u=i+2*d.x/v-o/2,p=a/2-(S+2*d.y/v);let I=u>0&&p>0?270-Math.atan(p/u)*(180/Math.PI):u<0&&p>0?Math.atan(p/-u)*(180/Math.PI)+90:u>0&&p<0?270+Math.atan(-p/u)*(180/Math.PI):u<0&&p<0?90-Math.atan(-p/-u)*(180/Math.PI):l;SvelteInternal.set_store_value(y,c=Number(((Q(I)-b)/(x-b)*(k-w)+w).toFixed(z)),c)}(u.x,u.y),512&e.$$.dirty[0]&&n(14,i=`rotate(${l}deg`)},n(17,o=T.cursor),$(),$=SvelteInternal.subscribe(o,(e=>n(28,u=e))),n(16,a=T.transforms.scale),f(),f=SvelteInternal.subscribe(a,(e=>n(35,v=e))),n(15,s=T.transforms.translation),_(),_=SvelteInternal.subscribe(s,(e=>n(36,d=e))),[y,w,k,q,z,M,N,E,A,l,c,j,W,R,i,s,a,o,r,L,D,function(e){return e.addEventListener("mousedown",O),e.addEventListener("touchstart",X),{destroy(){e.removeEventListener("mousedown",O)}}},V,b,x,C,Q,B,u,e=>{V(Math.sign(e.deltaY))},e=>{const{key:t}=e;gn(t)&&(e.preventDefault(),V("ArrowDown"==t?-1:"ArrowUp"==t?1:0))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{R=e,n(13,R)}))},function(){j=this.offsetWidth,n(11,j)},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{W=e,n(12,W)}))}]}class vo extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,co,io,SvelteInternal.safe_not_equal,{minDegree:23,maxDegree:24,parameterStore:0,min:1,max:2,step:25,label:3,fixed:4,fontColor:5,knobColor:6,knobValueColor:7,indicatorColor:8,clamp:26},oo,[-1,-1])}get minDegree(){return this.$$.ctx[23]}set minDegree(e){this.$$set({minDegree:e}),SvelteInternal.flush()}get maxDegree(){return this.$$.ctx[24]}set maxDegree(e){this.$$set({maxDegree:e}),SvelteInternal.flush()}get parameterStore(){return this.$$.ctx[0]}set parameterStore(e){this.$$set({parameterStore:e}),SvelteInternal.flush()}get min(){return this.$$.ctx[1]}set min(e){this.$$set({min:e}),SvelteInternal.flush()}get max(){return this.$$.ctx[2]}set max(e){this.$$set({max:e}),SvelteInternal.flush()}get step(){return this.$$.ctx[25]}set step(e){this.$$set({step:e}),SvelteInternal.flush()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),SvelteInternal.flush()}get fixed(){return this.$$.ctx[4]}set fixed(e){this.$$set({fixed:e}),SvelteInternal.flush()}get fontColor(){return this.$$.ctx[5]}set fontColor(e){this.$$set({fontColor:e}),SvelteInternal.flush()}get knobColor(){return this.$$.ctx[6]}set knobColor(e){this.$$set({knobColor:e}),SvelteInternal.flush()}get knobValueColor(){return this.$$.ctx[7]}set knobValueColor(e){this.$$set({knobValueColor:e}),SvelteInternal.flush()}get indicatorColor(){return this.$$.ctx[8]}set indicatorColor(e){this.$$set({indicatorColor:e}),SvelteInternal.flush()}get clamp(){return this.$$.ctx[26]}}function So(e){SvelteInternal.append_styles(e,"svelte-1q80enq","#nodeContainer.svelte-1q80enq.svelte-1q80enq{width:100%;font-size:15px}#nodeContainer.svelte-1q80enq ul.svelte-1q80enq{margin:0;padding:0}label.svelte-1q80enq.svelte-1q80enq{margin-right:10px}.list-item.svelte-1q80enq.svelte-1q80enq{display:flex;flex-direction:row;align-items:center;list-style:none;margin-bottom:10px;margin-right:3px}.colorWheel.svelte-1q80enq.svelte-1q80enq{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;width:35px;height:35px;cursor:pointer;border-radius:50%}.colorWheel.svelte-1q80enq.svelte-1q80enq::-webkit-color-swatch{border-radius:40%}.colorWheel.svelte-1q80enq.svelte-1q80enq::-moz-color-swatch{border-radius:40%}.inputField.svelte-1q80enq.svelte-1q80enq{width:50px}.btn.svelte-1q80enq.svelte-1q80enq{width:120px;color:aliceblue;padding:8px 20px;margin:auto;margin-top:10px;border:none;border-radius:5px;cursor:pointer;font-size:15px;margin-left:70px}.nodeResetBtn.svelte-1q80enq.svelte-1q80enq{color:var(\n\t\t\t--prop-drawer-reset-button-text-color,\n\t\t\tvar(--drawer-reset-button-text-color, var(--default-reset-drawer-button-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-color,\n\t\t\tvar(--drawer-reset-button-color, var(--default-drawer-reset-button-color))\n\t\t);box-shadow:0 0 0 var(--final-border-width) var(--final-border-color),\n\t\t\tvar(--default-node-shadow)}.nodeResetBtn.svelte-1q80enq.svelte-1q80enq:hover{color:var(\n\t\t\t--prop-drawer-reset-button-hover-text-color,\n\t\t\tvar(\n\t\t\t\t--drawer-reset-button-hover-text-color,\n\t\t\t\tvar(--default-drawer-reset-button-hover-text-color)\n\t\t\t)\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-hover-color,\n\t\t\tvar(--drawer-reset-button-hover-color, var(--default-drawer-reset-button-hover-color))\n\t\t)}")}function uo(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m,f,_,$,b,x,y,w,k,C,q,z,M,N,E,A,T,L,P,D,j,W,R,Z,B,O,H,X,F,V,Q,G,Y,K,U,J,ee,te,ne,le,re,oe,ae,se,ie,ce,ve,de,Se,ue,pe,Ie,he,ge;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("form"),l=SvelteInternal.element("ul"),r=SvelteInternal.element("li"),o=SvelteInternal.element("label"),o.textContent="Background:",a=SvelteInternal.space(),s=SvelteInternal.element("input"),i=SvelteInternal.space(),c=SvelteInternal.element("li"),v=SvelteInternal.element("label"),v.textContent="Border:",d=SvelteInternal.space(),S=SvelteInternal.element("input"),u=SvelteInternal.space(),p=SvelteInternal.element("li"),p.innerHTML='<label for="dimensions" class="svelte-1q80enq">Dimensions:</label>',I=SvelteInternal.space(),h=SvelteInternal.element("li"),g=SvelteInternal.element("label"),g.textContent="Width:",m=SvelteInternal.space(),f=SvelteInternal.element("input"),_=SvelteInternal.space(),$=SvelteInternal.element("label"),$.textContent="Height:",b=SvelteInternal.space(),x=SvelteInternal.element("input"),y=SvelteInternal.space(),w=SvelteInternal.element("li"),k=SvelteInternal.element("label"),k.textContent="Locked:",C=SvelteInternal.space(),q=SvelteInternal.element("input"),z=SvelteInternal.space(),M=SvelteInternal.element("li"),N=SvelteInternal.element("label"),N.textContent="Centered:",E=SvelteInternal.space(),A=SvelteInternal.element("input"),T=SvelteInternal.space(),L=SvelteInternal.element("li"),P=SvelteInternal.element("label"),P.textContent="Rotation:",D=SvelteInternal.space(),j=SvelteInternal.element("input"),W=SvelteInternal.space(),R=SvelteInternal.element("li"),Z=SvelteInternal.element("label"),Z.textContent="zIndex:",B=SvelteInternal.space(),O=SvelteInternal.element("input"),H=SvelteInternal.space(),X=SvelteInternal.element("li"),F=SvelteInternal.element("label"),F.textContent="Label :",V=SvelteInternal.space(),Q=SvelteInternal.element("input"),G=SvelteInternal.space(),Y=SvelteInternal.element("li"),Y.innerHTML='<label for="defaultAnchors" class="svelte-1q80enq">Default Anchors:</label>',K=SvelteInternal.space(),U=SvelteInternal.element("li"),J=SvelteInternal.element("label"),J.textContent="Input:",ee=SvelteInternal.space(),te=SvelteInternal.element("input"),ne=SvelteInternal.space(),le=SvelteInternal.element("label"),le.textContent="Output:",re=SvelteInternal.space(),oe=SvelteInternal.element("input"),ae=SvelteInternal.space(),se=SvelteInternal.element("li"),ie=SvelteInternal.element("label"),ie.textContent="Anchor Position:",ce=SvelteInternal.space(),ve=SvelteInternal.element("select"),de=SvelteInternal.element("option"),de.textContent="-",Se=SvelteInternal.element("option"),Se.textContent="LR",ue=SvelteInternal.element("option"),ue.textContent="TD",pe=SvelteInternal.space(),Ie=SvelteInternal.element("li"),Ie.innerHTML='<button class="nodeResetBtn btn svelte-1q80enq" aria-label="Reset">Reset</button>',SvelteInternal.attr(o,"for","bgColor"),SvelteInternal.attr(o,"class","svelte-1q80enq"),SvelteInternal.attr(s,"id","bgColor"),SvelteInternal.attr(s,"class","colorWheel svelte-1q80enq"),SvelteInternal.attr(s,"type","color"),SvelteInternal.attr(r,"class","list-item svelte-1q80enq"),SvelteInternal.attr(v,"for","borderColor"),SvelteInternal.attr(v,"class","svelte-1q80enq"),SvelteInternal.attr(S,"id","borderColor"),SvelteInternal.attr(S,"class","colorWheel svelte-1q80enq"),SvelteInternal.attr(S,"type","color"),SvelteInternal.attr(c,"class","list-item svelte-1q80enq"),SvelteInternal.attr(p,"class","list-item svelte-1q80enq"),SvelteInternal.attr(g,"for","width"),SvelteInternal.attr(g,"class","svelte-1q80enq"),SvelteInternal.attr(f,"id","width"),SvelteInternal.attr(f,"class","inputField svelte-1q80enq"),SvelteInternal.attr(f,"type","input"),SvelteInternal.attr($,"for","height"),SvelteInternal.set_style($,"margin-left","6px"),SvelteInternal.attr($,"class","svelte-1q80enq"),SvelteInternal.attr(x,"id","height"),SvelteInternal.attr(x,"class","inputField svelte-1q80enq"),SvelteInternal.attr(x,"type","input"),SvelteInternal.attr(h,"class","list-item svelte-1q80enq"),SvelteInternal.attr(k,"for","locked"),SvelteInternal.attr(k,"class","svelte-1q80enq"),SvelteInternal.attr(q,"id","label"),SvelteInternal.attr(q,"type","checkbox"),SvelteInternal.attr(w,"class","list-item svelte-1q80enq"),SvelteInternal.attr(N,"for","centered"),SvelteInternal.attr(N,"class","svelte-1q80enq"),SvelteInternal.attr(A,"id","centered"),SvelteInternal.attr(A,"type","checkbox"),SvelteInternal.attr(M,"class","list-item svelte-1q80enq"),SvelteInternal.attr(P,"for","rotation"),SvelteInternal.attr(P,"class","svelte-1q80enq"),SvelteInternal.attr(j,"id","rotation"),SvelteInternal.attr(j,"class","inputField svelte-1q80enq"),SvelteInternal.attr(j,"type","number"),SvelteInternal.attr(L,"class","list-item svelte-1q80enq"),SvelteInternal.attr(Z,"for","zIndex"),SvelteInternal.attr(Z,"class","svelte-1q80enq"),SvelteInternal.attr(O,"id","zIndex"),SvelteInternal.attr(O,"class","inputField svelte-1q80enq"),SvelteInternal.attr(O,"type","number"),SvelteInternal.attr(R,"class","list-item svelte-1q80enq"),SvelteInternal.attr(F,"for","label"),SvelteInternal.attr(F,"class","svelte-1q80enq"),SvelteInternal.attr(Q,"id","label"),SvelteInternal.attr(Q,"type","text"),SvelteInternal.attr(X,"class","list-item svelte-1q80enq"),SvelteInternal.attr(Y,"class","list-item svelte-1q80enq"),SvelteInternal.attr(J,"for","inputAnchor"),SvelteInternal.attr(J,"class","svelte-1q80enq"),SvelteInternal.attr(te,"id","inputAnchor"),SvelteInternal.attr(te,"class","inputField svelte-1q80enq"),SvelteInternal.attr(te,"type","number"),SvelteInternal.attr(te,"min","0"),SvelteInternal.attr(le,"for","outputAnchor"),SvelteInternal.set_style(le,"margin-left","6px"),SvelteInternal.attr(le,"class","svelte-1q80enq"),SvelteInternal.attr(oe,"id","outputAnchor"),SvelteInternal.attr(oe,"class","inputField svelte-1q80enq"),SvelteInternal.attr(oe,"type","number"),SvelteInternal.attr(oe,"min","0"),SvelteInternal.attr(U,"class","list-item svelte-1q80enq"),SvelteInternal.attr(ie,"for","anchorPositon"),SvelteInternal.attr(ie,"class","svelte-1q80enq"),de.__value="",SvelteInternal.set_input_value(de,de.__value),Se.__value="LR",SvelteInternal.set_input_value(Se,Se.__value),ue.__value="TD",SvelteInternal.set_input_value(ue,ue.__value),SvelteInternal.attr(ve,"id","anchorPosition"),void 0===Co&&SvelteInternal.add_render_callback((()=>e[11].call(ve))),SvelteInternal.attr(se,"class","list-item svelte-1q80enq"),SvelteInternal.attr(Ie,"class","list-item svelte-1q80enq"),SvelteInternal.attr(l,"aria-labelledby","select_props"),SvelteInternal.attr(l,"class","svelte-1q80enq"),SvelteInternal.attr(t,"id","nodeContainer"),SvelteInternal.attr(t,"class","svelte-1q80enq")},m(me,fe){SvelteInternal.insert(me,t,fe),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),SvelteInternal.append(r,o),SvelteInternal.append(r,a),SvelteInternal.append(r,s),SvelteInternal.set_input_value(s,Io),SvelteInternal.append(l,i),SvelteInternal.append(l,c),SvelteInternal.append(c,v),SvelteInternal.append(c,d),SvelteInternal.append(c,S),SvelteInternal.set_input_value(S,ho),SvelteInternal.append(l,u),SvelteInternal.append(l,p),SvelteInternal.append(l,I),SvelteInternal.append(l,h),SvelteInternal.append(h,g),SvelteInternal.append(h,m),SvelteInternal.append(h,f),SvelteInternal.set_input_value(f,qo),SvelteInternal.append(h,_),SvelteInternal.append(h,$),SvelteInternal.append(h,b),SvelteInternal.append(h,x),SvelteInternal.set_input_value(x,zo),SvelteInternal.append(l,y),SvelteInternal.append(l,w),SvelteInternal.append(w,k),SvelteInternal.append(w,C),SvelteInternal.append(w,q),SvelteInternal.set_input_value(q,mo),SvelteInternal.append(l,z),SvelteInternal.append(l,M),SvelteInternal.append(M,N),SvelteInternal.append(M,E),SvelteInternal.append(M,A),SvelteInternal.set_input_value(A,fo),SvelteInternal.append(l,T),SvelteInternal.append(l,L),SvelteInternal.append(L,P),SvelteInternal.append(L,D),SvelteInternal.append(L,j),SvelteInternal.set_input_value(j,bo),SvelteInternal.append(l,W),SvelteInternal.append(l,R),SvelteInternal.append(R,Z),SvelteInternal.append(R,B),SvelteInternal.append(R,O),SvelteInternal.set_input_value(O,xo),SvelteInternal.append(l,H),SvelteInternal.append(l,X),SvelteInternal.append(X,F),SvelteInternal.append(X,V),SvelteInternal.append(X,Q),SvelteInternal.set_input_value(Q,go),SvelteInternal.append(l,G),SvelteInternal.append(l,Y),SvelteInternal.append(l,K),SvelteInternal.append(l,U),SvelteInternal.append(U,J),SvelteInternal.append(U,ee),SvelteInternal.append(U,te),SvelteInternal.set_input_value(te,_o),SvelteInternal.append(U,ne),SvelteInternal.append(U,le),SvelteInternal.append(U,re),SvelteInternal.append(U,oe),SvelteInternal.set_input_value(oe,$o),SvelteInternal.append(l,ae),SvelteInternal.append(l,se),SvelteInternal.append(se,ie),SvelteInternal.append(se,ce),SvelteInternal.append(se,ve),SvelteInternal.append(ve,de),SvelteInternal.append(ve,Se),SvelteInternal.append(ve,ue),SvelteInternal.select_option(ve,Co,!0),SvelteInternal.append(l,pe),SvelteInternal.append(l,Ie),he||(ge=[SvelteInternal.listen(s,"input",e[0]),SvelteInternal.listen(S,"input",e[1]),SvelteInternal.listen(f,"input",e[2]),SvelteInternal.listen(x,"input",e[3]),SvelteInternal.listen(q,"change",e[4]),SvelteInternal.listen(q,"change",No),SvelteInternal.listen(A,"change",e[5]),SvelteInternal.listen(A,"change",Eo),SvelteInternal.listen(j,"input",e[6]),SvelteInternal.listen(O,"input",e[7]),SvelteInternal.listen(Q,"input",e[8]),SvelteInternal.listen(te,"input",e[9]),SvelteInternal.listen(oe,"input",e[10]),SvelteInternal.listen(ve,"change",e[11]),SvelteInternal.listen(ve,"change",Ao),SvelteInternal.listen(n,"submit",SvelteInternal.prevent_default(Mo))],he=!0)},p(e,[t]){0&t&&SvelteInternal.set_input_value(s,Io),0&t&&SvelteInternal.set_input_value(S,ho),0&t&&SvelteInternal.set_input_value(f,qo),0&t&&SvelteInternal.set_input_value(x,zo),0&t&&SvelteInternal.set_input_value(q,mo),0&t&&SvelteInternal.set_input_value(A,fo),0&t&&SvelteInternal.to_number(j.value)!==bo&&SvelteInternal.set_input_value(j,bo),0&t&&SvelteInternal.to_number(O.value)!==xo&&SvelteInternal.set_input_value(O,xo),0&t&&Q.value!==go&&SvelteInternal.set_input_value(Q,go),0&t&&SvelteInternal.to_number(te.value)!==_o&&SvelteInternal.set_input_value(te,_o),0&t&&SvelteInternal.to_number(oe.value)!==$o&&SvelteInternal.set_input_value(oe,$o),0&t&&SvelteInternal.select_option(ve,Co)},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),he=!1,SvelteInternal.run_all(ge)}}}const po=SvelteStore.writable([]);let Io,ho,go,mo,fo,_o,$o,bo,xo,yo,wo,ko,Co,qo=200,zo=100;const Mo=e=>{Io=void 0,ho=void 0,go=void 0,qo=200,zo=100,_o=void 0,$o=void 0,mo=void 0,fo=void 0,bo=void 0,xo=void 0,yo=void 0,wo=void 0,ko=void 0;e.target.reset()},No=e=>{const t=e.target;mo=t.checked},Eo=e=>{const t=e.target;fo=t.checked},Ao=e=>{const t=e.target;""==t.value?Co=void 0:(Co=t.value,"LR"===Co?(wo=!0,yo=!1):(yo=!0,wo=!1))};function To(e,t,n){return[function(){Io=this.value},function(){ho=this.value},function(){qo=this.value},function(){zo=this.value},function(){mo=this.value},function(){fo=this.value},function(){bo=SvelteInternal.to_number(this.value)},function(){xo=SvelteInternal.to_number(this.value)},function(){go=this.value},function(){_o=SvelteInternal.to_number(this.value)},function(){$o=SvelteInternal.to_number(this.value)},function(){Co=SvelteInternal.select_value(this)}]}class Lo extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,To,uo,SvelteInternal.safe_not_equal,{},So)}}function Po(e,t,n){const l=e.slice();return l[31]=t[n].anchors,l[32]=t[n].edgeProps,l[33]=SvelteInternal.object_without_properties(t[n],["anchors","edgeProps"]),l}function Do(e,t,n){const l=e.slice();return l[48]=t[n],l}function jo(e,t,n){const l=e.slice();return l[45]=t[n],l}const Wo=e=>({}),Ro=e=>({slot:"anchorWest"});function Zo(e,t,n){const l=e.slice();return l[42]=t[n],l}const Bo=e=>({}),Oo=e=>({slot:"anchorEast"});function Ho(e,t,n){const l=e.slice();return l[39]=t[n],l}const Xo=e=>({}),Fo=e=>({slot:"anchorNorth"});function Vo(e,t,n){const l=e.slice();return l[36]=t[n],l}const Qo=e=>({}),Go=e=>({slot:"anchorSouth"}),Yo=e=>({}),Ko=e=>({slot:"minimap"}),Uo=e=>({}),Jo=e=>({slot:"controls"}),ea=e=>({}),ta=e=>({slot:"toggle"});function na(e){let t,n;const l=[e[33],{drop:"cursor"}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Kt({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[33]),l[1]]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function la(e){let t,n;const l=[e[33],{drop:"cursor"}];let r={$$slots:{anchorSouth:[qa],anchorNorth:[xa],anchorEast:[ma],anchorWest:[ua],default:[ia]},$$scope:{ctx:e}};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Kt({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[33]),l[1]]):{};268435457&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function ra(e){let t,n;const l=[e[48]];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[48])]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function oa(e){let t,n;const l=[e[48]];let r={$$slots:{edge:[aa]},$$scope:{ctx:e}};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[48])]):{};268435457&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function aa(e){let t,n;const l=[e[32],{slot:"edge"}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new ue({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[32]),l[1]]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function sa(e){let t,n,l,r;const o=[oa,ra],a=[];function s(e,t){return e[32]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function ia(e){let t,n,l=SvelteInternal.ensure_array_like(e[31].self),r=[];for(let t=0;t<l.length;t+=1)r[t]=sa(Do(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,n){if(1&n[0]){let a;for(l=SvelteInternal.ensure_array_like(e[31].self),a=0;a<l.length;a+=1){const o=Do(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=sa(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}function ca(e){let t,n;const l=[e[45]];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[45])]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function va(e){let t,n;const l=[e[45]];let r={$$slots:{edge:[da]},$$scope:{ctx:e}};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[45])]):{};268435457&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function da(e){let t,n;const l=[e[32],{slot:"edge"}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new ue({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[32]),l[1]]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Sa(e){let t,n,l,r;const o=[va,ca],a=[];function s(e,t){return e[32]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function ua(e){let t;const n=e[27].default,l=SvelteInternal.create_slot(n,e,e[28],Ro),r=l||function(e){let t,n,l=SvelteInternal.ensure_array_like(e[31].left),r=[];for(let t=0;t<l.length;t+=1)r[t]=Sa(jo(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,n){if(1&n[0]){let a;for(l=SvelteInternal.ensure_array_like(e[31].left),a=0;a<l.length;a+=1){const o=jo(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=Sa(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){l?l.p&&(!t||268435456&o[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],o,Wo):SvelteInternal.get_all_dirty_from_scope(e[28]),Ro):r&&r.p&&(!t||1&o[0])&&r.p(e,t?o:[-1,-1])},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function pa(e){let t,n;const l=[e[42]];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[42])]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ia(e){let t,n;const l=[e[42]];let r={$$slots:{edge:[ha]},$$scope:{ctx:e}};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[42])]):{};268435457&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function ha(e){let t,n;const l=[e[32],{slot:"edge"}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new ue({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[32]),l[1]]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function ga(e){let t,n,l,r;const o=[Ia,pa],a=[];function s(e,t){return e[32]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function ma(e){let t;const n=e[27].default,l=SvelteInternal.create_slot(n,e,e[28],Oo),r=l||function(e){let t,n,l=SvelteInternal.ensure_array_like(e[31].right),r=[];for(let t=0;t<l.length;t+=1)r[t]=ga(Zo(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,n){if(1&n[0]){let a;for(l=SvelteInternal.ensure_array_like(e[31].right),a=0;a<l.length;a+=1){const o=Zo(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=ga(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){l?l.p&&(!t||268435456&o[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],o,Bo):SvelteInternal.get_all_dirty_from_scope(e[28]),Oo):r&&r.p&&(!t||1&o[0])&&r.p(e,t?o:[-1,-1])},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function fa(e){let t,n;const l=[e[39]];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[39])]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function _a(e){let t,n;const l=[e[39]];let r={$$slots:{edge:[$a]},$$scope:{ctx:e}};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[39])]):{};268435457&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function $a(e){let t,n;const l=[e[32],{slot:"edge"}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new ue({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[32]),l[1]]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function ba(e){let t,n,l,r;const o=[_a,fa],a=[];function s(e,t){return e[32]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function xa(e){let t;const n=e[27].default,l=SvelteInternal.create_slot(n,e,e[28],Fo),r=l||function(e){let t,n,l=SvelteInternal.ensure_array_like(e[31].top),r=[];for(let t=0;t<l.length;t+=1)r[t]=ba(Ho(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,n){if(1&n[0]){let a;for(l=SvelteInternal.ensure_array_like(e[31].top),a=0;a<l.length;a+=1){const o=Ho(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=ba(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){l?l.p&&(!t||268435456&o[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],o,Xo):SvelteInternal.get_all_dirty_from_scope(e[28]),Fo):r&&r.p&&(!t||1&o[0])&&r.p(e,t?o:[-1,-1])},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function ya(e){let t,n;const l=[e[36]];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[36])]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function wa(e){let t,n;const l=[e[36]];let r={$$slots:{edge:[ka]},$$scope:{ctx:e}};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new Oe({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[36])]):{};268435457&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function ka(e){let t,n;const l=[e[32],{slot:"edge"}];let r={};for(let e=0;e<l.length;e+=1)r=SvelteInternal.assign(r,l[e]);return t=new ue({props:r}),{c(){SvelteInternal.create_component(t.$$.fragment)},m(e,l){SvelteInternal.mount_component(t,e,l),n=!0},p(e,n){const r=1&n[0]?SvelteInternal.get_spread_update(l,[SvelteInternal.get_spread_object(e[32]),l[1]]):{};t.$set(r)},i(e){n||(SvelteInternal.transition_in(t.$$.fragment,e),n=!0)},o(e){SvelteInternal.transition_out(t.$$.fragment,e),n=!1},d(e){SvelteInternal.destroy_component(t,e)}}}function Ca(e){let t,n,l,r;const o=[wa,ya],a=[];function s(e,t){return e[32]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function qa(e){let t;const n=e[27].default,l=SvelteInternal.create_slot(n,e,e[28],Go),r=l||function(e){let t,n,l=SvelteInternal.ensure_array_like(e[31].bottom),r=[];for(let t=0;t<l.length;t+=1)r[t]=Ca(Vo(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.empty()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),n=!0},p(e,n){if(1&n[0]){let a;for(l=SvelteInternal.ensure_array_like(e[31].bottom),a=0;a<l.length;a+=1){const o=Vo(e,l,a);r[a]?(r[a].p(o,n),SvelteInternal.transition_in(r[a],1)):(r[a]=Ca(o),r[a].c(),SvelteInternal.transition_in(r[a],1),r[a].m(t.parentNode,t))}for(SvelteInternal.group_outros(),a=l.length;a<r.length;a+=1)o(a);SvelteInternal.check_outros()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e)}}}(e);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){l?l.p&&(!t||268435456&o[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],o,Qo):SvelteInternal.get_all_dirty_from_scope(e[28]),Go):r&&r.p&&(!t||1&o[0])&&r.p(e,t?o:[-1,-1])},i(e){t||(SvelteInternal.transition_in(r,e),t=!0)},o(e){SvelteInternal.transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function za(e){let t,n,l,r;const o=[la,na],a=[];function s(e,t){return e[31]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),l=SvelteInternal.empty()},m(e,n){a[t].m(e,n),SvelteInternal.insert(e,l,n),r=!0},p(e,r){let i=t;t=s(e),t===i?a[t].p(e,r):(SvelteInternal.group_outros(),SvelteInternal.transition_out(a[i],1,1,(()=>{a[i]=null})),SvelteInternal.check_outros(),n=a[t],n?n.p(e,r):(n=a[t]=o[t](e),n.c()),SvelteInternal.transition_in(n,1),n.m(l.parentNode,l))},i(e){r||(SvelteInternal.transition_in(n),r=!0)},o(e){SvelteInternal.transition_out(n),r=!1},d(e){e&&SvelteInternal.detach(l),a[t].d(e)}}}function Ma(e){let t,n,l=SvelteInternal.ensure_array_like(e[0]),r=[];for(let t=0;t<l.length;t+=1)r[t]=za(Po(e,l,t));const o=e=>SvelteInternal.transition_out(r[e],1,1,(()=>{r[e]=null})),a=e[27].default,s=SvelteInternal.create_slot(a,e,e[28],null);return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=SvelteInternal.space(),s&&s.c()},m(e,l){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,l);SvelteInternal.insert(e,t,l),s&&s.m(e,l),n=!0},p(e,i){if(268435457&i[0]){let n;for(l=SvelteInternal.ensure_array_like(e[0]),n=0;n<l.length;n+=1){const o=Po(e,l,n);r[n]?(r[n].p(o,i),SvelteInternal.transition_in(r[n],1)):(r[n]=za(o),r[n].c(),SvelteInternal.transition_in(r[n],1),r[n].m(t.parentNode,t))}for(SvelteInternal.group_outros(),n=l.length;n<r.length;n+=1)o(n);SvelteInternal.check_outros()}s&&s.p&&(!n||268435456&i[0])&&SvelteInternal.update_slot_base(s,a,e,e[28],n?SvelteInternal.get_slot_changes(a,e[28],i,null):SvelteInternal.get_all_dirty_from_scope(e[28]),null)},i(e){if(!n){for(let e=0;e<l.length;e+=1)SvelteInternal.transition_in(r[e]);SvelteInternal.transition_in(s,e),n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)SvelteInternal.transition_out(r[e]);SvelteInternal.transition_out(s,e),n=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(r,e),s&&s.d(e)}}}function Na(e){let t;const n=e[27].minimap,l=SvelteInternal.create_slot(n,e,e[28],Ko);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||268435456&r[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],r,Yo):SvelteInternal.get_all_dirty_from_scope(e[28]),Ko)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Ea(e){let t;const n=e[27].controls,l=SvelteInternal.create_slot(n,e,e[28],Jo);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||268435456&r[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],r,Uo):SvelteInternal.get_all_dirty_from_scope(e[28]),Jo)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Aa(e){let t;const n=e[27].toggle,l=SvelteInternal.create_slot(n,e,e[28],ta);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,r){l&&l.p&&(!t||268435456&r[0])&&SvelteInternal.update_slot_base(l,n,e,e[28],t?SvelteInternal.get_slot_changes(n,e[28],r,ea):SvelteInternal.get_all_dirty_from_scope(e[28]),ta)},i(e){t||(SvelteInternal.transition_in(l,e),t=!0)},o(e){SvelteInternal.transition_out(l,e),t=!1},d(e){l&&l.d(e)}}}function Ta(e){let t,n,l,r,o;const a=[e[1],{drawer:!0}];let s={$$slots:{toggle:[Aa],controls:[Ea],minimap:[Na],default:[Ma]},$$scope:{ctx:e}};for(let e=0;e<a.length;e+=1)s=SvelteInternal.assign(s,a[e]);return n=new tr({props:s}),{c(){t=SvelteInternal.element("div"),SvelteInternal.create_component(n.$$.fragment),SvelteInternal.attr(t,"role","presentation"),SvelteInternal.attr(t,"class","drop_zone")},m(a,s){SvelteInternal.insert(a,t,s),SvelteInternal.mount_component(n,t,null),l=!0,r||(o=[SvelteInternal.listen(t,"dragenter",e[2]),SvelteInternal.listen(t,"dragleave",e[3]),SvelteInternal.listen(t,"dragover",e[4]),SvelteInternal.listen(t,"drop",e[5])],r=!0)},p(e,t){const l=2&t[0]?SvelteInternal.get_spread_update(a,[SvelteInternal.get_spread_object(e[1]),a[1]]):{};268435457&t[0]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(SvelteInternal.transition_in(n.$$.fragment,e),l=!0)},o(e){SvelteInternal.transition_out(n.$$.fragment,e),l=!1},d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_component(n),r=!1,SvelteInternal.run_all(o)}}}function La(e,t,n){let l;SvelteInternal.component_subscribe(e,po,(e=>n(30,l=e)));let{$$slots:r={},$$scope:o}=t,{width:a=0}=t,{height:s=0}=t,{minimap:i=!1}=t,{translation:c={x:0,y:0}}=t,{controls:v=!1}=t,{edge:d=null}=t,{edgeStyle:S="bezier"}=t,{snapTo:u=0}=t,{editable:p=!1}=t,{fitView:I=!1}=t,{locked:h=!1}=t,{zoom:g=1}=t,{theme:m="light"}=t,{mermaid:f=""}=t,{mermaidConfig:_={}}=t,{TD:$=!1}=t,{disableSelection:b=!1}=t,{raiseEdgesOnSelect:x=!1}=t,{modifier:y="meta"}=t,{trackpadPan:w=!1}=t,{toggle:k=!1}=t;const C={width:a,height:s,minimap:i,translation:c,controls:v,edge:d,edgeStyle:S,snapTo:u,editable:p,fitView:I,locked:h,zoom:g,theme:m,mermaid:f,mermaidConfig:_,TD:$,disableSelection:b,raiseEdgesOnSelect:x,modifier:y,trackpadPan:w,toggle:k};let q=[];return e.$$set=e=>{"width"in e&&n(6,a=e.width),"height"in e&&n(7,s=e.height),"minimap"in e&&n(8,i=e.minimap),"translation"in e&&n(9,c=e.translation),"controls"in e&&n(10,v=e.controls),"edge"in e&&n(11,d=e.edge),"edgeStyle"in e&&n(12,S=e.edgeStyle),"snapTo"in e&&n(13,u=e.snapTo),"editable"in e&&n(14,p=e.editable),"fitView"in e&&n(15,I=e.fitView),"locked"in e&&n(16,h=e.locked),"zoom"in e&&n(17,g=e.zoom),"theme"in e&&n(18,m=e.theme),"mermaid"in e&&n(19,f=e.mermaid),"mermaidConfig"in e&&n(20,_=e.mermaidConfig),"TD"in e&&n(21,$=e.TD),"disableSelection"in e&&n(22,b=e.disableSelection),"raiseEdgesOnSelect"in e&&n(23,x=e.raiseEdgesOnSelect),"modifier"in e&&n(24,y=e.modifier),"trackpadPan"in e&&n(25,w=e.trackpadPan),"toggle"in e&&n(26,k=e.toggle),"$$scope"in e&&n(28,o=e.$$scope)},[q,C,()=>{},()=>{},e=>(e.preventDefault(),!1),e=>{e.stopPropagation();const t=new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY,bubbles:!0});e.target.dispatchEvent(t),n(0,q=l)},a,s,i,c,v,d,S,u,p,I,h,g,m,f,_,$,b,x,y,w,k,r,o]}class Pa extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,La,Ta,SvelteInternal.safe_not_equal,{width:6,height:7,minimap:8,translation:9,controls:10,edge:11,edgeStyle:12,snapTo:13,editable:14,fitView:15,locked:16,zoom:17,theme:18,mermaid:19,mermaidConfig:20,TD:21,disableSelection:22,raiseEdgesOnSelect:23,modifier:24,trackpadPan:25,toggle:26},null,[-1,-1])}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),SvelteInternal.flush()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),SvelteInternal.flush()}get minimap(){return this.$$.ctx[8]}set minimap(e){this.$$set({minimap:e}),SvelteInternal.flush()}get translation(){return this.$$.ctx[9]}set translation(e){this.$$set({translation:e}),SvelteInternal.flush()}get controls(){return this.$$.ctx[10]}set controls(e){this.$$set({controls:e}),SvelteInternal.flush()}get edge(){return this.$$.ctx[11]}set edge(e){this.$$set({edge:e}),SvelteInternal.flush()}get edgeStyle(){return this.$$.ctx[12]}set edgeStyle(e){this.$$set({edgeStyle:e}),SvelteInternal.flush()}get snapTo(){return this.$$.ctx[13]}set snapTo(e){this.$$set({snapTo:e}),SvelteInternal.flush()}get editable(){return this.$$.ctx[14]}set editable(e){this.$$set({editable:e}),SvelteInternal.flush()}get fitView(){return this.$$.ctx[15]}set fitView(e){this.$$set({fitView:e}),SvelteInternal.flush()}get locked(){return this.$$.ctx[16]}set locked(e){this.$$set({locked:e}),SvelteInternal.flush()}get zoom(){return this.$$.ctx[17]}set zoom(e){this.$$set({zoom:e}),SvelteInternal.flush()}get theme(){return this.$$.ctx[18]}set theme(e){this.$$set({theme:e}),SvelteInternal.flush()}get mermaid(){return this.$$.ctx[19]}set mermaid(e){this.$$set({mermaid:e}),SvelteInternal.flush()}get mermaidConfig(){return this.$$.ctx[20]}set mermaidConfig(e){this.$$set({mermaidConfig:e}),SvelteInternal.flush()}get TD(){return this.$$.ctx[21]}set TD(e){this.$$set({TD:e}),SvelteInternal.flush()}get disableSelection(){return this.$$.ctx[22]}set disableSelection(e){this.$$set({disableSelection:e}),SvelteInternal.flush()}get raiseEdgesOnSelect(){return this.$$.ctx[23]}set raiseEdgesOnSelect(e){this.$$set({raiseEdgesOnSelect:e}),SvelteInternal.flush()}get modifier(){return this.$$.ctx[24]}set modifier(e){this.$$set({modifier:e}),SvelteInternal.flush()}get trackpadPan(){return this.$$.ctx[25]}set trackpadPan(e){this.$$set({trackpadPan:e}),SvelteInternal.flush()}get toggle(){return this.$$.ctx[26]}set toggle(e){this.$$set({toggle:e}),SvelteInternal.flush()}}function Da(e){SvelteInternal.append_styles(e,"svelte-1mir49d",".switch.svelte-1mir49d.svelte-1mir49d{position:relative;display:inline-block;width:60px;height:34px;cursor:pointer}.switch.svelte-1mir49d input.svelte-1mir49d{opacity:0;width:60px;height:30px;cursor:pointer}.slider.svelte-1mir49d.svelte-1mir49d{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:0.4s;transition:0.4s}.slider.svelte-1mir49d.svelte-1mir49d:before{position:absolute;content:'';height:26px;width:26px;left:4px;bottom:4px;background-color:white;-webkit-transition:0.4s;transition:0.4s}input.svelte-1mir49d:checked+.slider.svelte-1mir49d{background-color:var(--prop-toggle-color)}input.svelte-1mir49d:focus+.slider.svelte-1mir49d{box-shadow:0 0 1px var(--prop-toggle-color)}input.svelte-1mir49d:checked+.slider.svelte-1mir49d:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.slider.round.svelte-1mir49d.svelte-1mir49d{border-radius:34px;pointer-events:none}.slider.round.svelte-1mir49d.svelte-1mir49d:before{border-radius:50%}")}function ja(e){let t,n,l,r,o,a,s;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("label"),l=SvelteInternal.element("input"),r=SvelteInternal.space(),o=SvelteInternal.element("span"),SvelteInternal.attr(l,"type","checkbox"),SvelteInternal.attr(l,"class","svelte-1mir49d"),SvelteInternal.attr(o,"class","slider round svelte-1mir49d"),SvelteInternal.set_style(o,"--prop-toggle-color",e[1]),SvelteInternal.attr(n,"class","switch svelte-1mir49d"),SvelteInternal.attr(t,"class","toggle-wrapper"),SvelteInternal.attr(t,"role","switch"),SvelteInternal.attr(t,"tabindex",0),SvelteInternal.attr(t,"aria-checked",e[2]),SvelteInternal.attr(t,"aria-label","Toggle Switch")},m(i,c){SvelteInternal.insert(i,t,c),SvelteInternal.append(t,n),SvelteInternal.append(n,l),l.checked=e[2],SvelteInternal.append(n,r),SvelteInternal.append(n,o),a||(s=[SvelteInternal.listen(l,"click",SvelteInternal.stop_propagation(e[4])),SvelteInternal.listen(l,"change",e[5]),SvelteInternal.listen(t,"keydown",SvelteInternal.stop_propagation(e[3]))],a=!0)},p(e,[n]){4&n&&(l.checked=e[2]),2&n&&SvelteInternal.set_style(o,"--prop-toggle-color",e[1]),4&n&&SvelteInternal.attr(t,"aria-checked",e[2])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),a=!1,SvelteInternal.run_all(s)}}}function Wa(e,t,n){let l,r=SvelteInternal.noop,o=()=>(r(),r=SvelteInternal.subscribe(a,(e=>n(2,l=e))),a);e.$$.on_destroy.push((()=>r()));let{parameterStore:a}=t;o();let{color:s="limegreen"}=t;return e.$$set=e=>{"parameterStore"in e&&o(n(0,a=e.parameterStore)),"color"in e&&n(1,s=e.color)},[a,s,l,e=>{e.stopPropagation(),"Enter"===e.key&&SvelteInternal.set_store_value(a,l=!l,l)},e=>{e.stopPropagation(),SvelteInternal.set_store_value(a,l=!l,l)},function(){l=this.checked,a.set(l)}]}class Ra extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Wa,ja,SvelteInternal.safe_not_equal,{parameterStore:0,color:1},Da)}get parameterStore(){return this.$$.ctx[0]}set parameterStore(e){this.$$set({parameterStore:e}),SvelteInternal.flush()}get color(){return this.$$.ctx[1]}set color(e){this.$$set({color:e}),SvelteInternal.flush()}}function Za(e){SvelteInternal.append_styles(e,"svelte-1ehqsu8","p.svelte-1ehqsu8{line-height:1rem;padding:0;margin:0}.option-wrapper.svelte-1ehqsu8{cursor:pointer;display:flex;justify-content:center;align-items:center;gap:0.25rem}.radio-group.svelte-1ehqsu8{display:flex;width:100%;justify-content:space-evenly;height:1.5rem}")}function Ba(e,t,n){const l=e.slice();return l[9]=t[n],l[11]=n,l}function Oa(e){let t,n,l,r,o,a,s,i,c,v,d,S=e[9]+"";function u(){return e[7](e[11])}return c=SvelteInternal.init_binding_group(e[6][0]),{c(){t=SvelteInternal.element("button"),n=SvelteInternal.element("label"),l=SvelteInternal.element("input"),o=SvelteInternal.space(),a=SvelteInternal.element("p"),s=SvelteInternal.text(S),i=SvelteInternal.space(),SvelteInternal.attr(l,"class","option"),SvelteInternal.attr(l,"type","radio"),SvelteInternal.attr(l,"id",r=e[3](e[9])),l.__value=e[11],SvelteInternal.set_input_value(l,l.__value),SvelteInternal.attr(a,"class","svelte-1ehqsu8"),SvelteInternal.attr(n,"class","option-wrapper svelte-1ehqsu8"),c.p(l)},m(r,c){SvelteInternal.insert(r,t,c),SvelteInternal.append(t,n),SvelteInternal.append(n,l),l.checked=l.__value===e[2],SvelteInternal.append(n,o),SvelteInternal.append(n,a),SvelteInternal.append(a,s),SvelteInternal.append(t,i),v||(d=[SvelteInternal.listen(l,"change",e[5]),SvelteInternal.listen(t,"mousedown",SvelteInternal.stop_propagation(u))],v=!0)},p(t,n){e=t,1&n&&r!==(r=e[3](e[9]))&&SvelteInternal.attr(l,"id",r),5&n&&(l.checked=l.__value===e[2]),1&n&&S!==(S=e[9]+"")&&SvelteInternal.set_data(s,S)},d(e){e&&SvelteInternal.detach(t),c.r(),v=!1,SvelteInternal.run_all(d)}}}function Ha(e){let t,n,l,r=SvelteInternal.ensure_array_like(e[0]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Oa(Ba(e,r,t));return{c(){t=SvelteInternal.element("div");for(let e=0;e<o.length;e+=1)o[e].c();SvelteInternal.attr(t,"class","radio-group svelte-1ehqsu8"),SvelteInternal.attr(t,"role","radiogroup"),SvelteInternal.attr(t,"tabindex",0)},m(r,a){SvelteInternal.insert(r,t,a);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n||(l=SvelteInternal.listen(t,"keydown",e[4]),n=!0)},p(e,[n]){if(13&n){let l;for(r=SvelteInternal.ensure_array_like(e[0]),l=0;l<r.length;l+=1){const a=Ba(e,r,l);o[l]?o[l].p(a,n):(o[l]=Oa(a),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),SvelteInternal.destroy_each(o,e),n=!1,l()}}}function Xa(e,t,n){let l,r=SvelteInternal.noop,o=()=>(r(),r=SvelteInternal.subscribe(s,(e=>n(8,l=e))),s);e.$$.on_destroy.push((()=>r()));let{options:a}=t,{parameterStore:s}=t;o();let i=0;return e.$$set=e=>{"options"in e&&n(0,a=e.options),"parameterStore"in e&&o(n(1,s=e.parameterStore))},e.$$.update=()=>{5&e.$$.dirty&&SvelteInternal.set_store_value(s,l=a[i],l)},[a,s,i,(e="")=>e.toLowerCase().replace(/ /g,"-").replace(/./g,""),function(e){const t=e.key;"Tab"!==t&&e.preventDefault(),e.stopPropagation(),"ArrowRight"===t||"ArrowDown"===t?n(2,i=(i+1)%a.length):"ArrowLeft"!==t&&"ArrowUp"!==t||n(2,i=(i-1+a.length)%a.length)},function(){i=this.__value,n(2,i)},[[]],e=>{n(2,i=e)}]}class Fa extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Xa,Ha,SvelteInternal.safe_not_equal,{options:0,parameterStore:1},Za)}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),SvelteInternal.flush()}get parameterStore(){return this.$$.ctx[1]}set parameterStore(e){this.$$set({parameterStore:e}),SvelteInternal.flush()}}function Va(e){SvelteInternal.append_styles(e,"svelte-1hzm94g","@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0');span.svelte-1hzm94g{font-family:'Material Symbols Outlined';font-size:1.2rem;color:inherit}.svelte-1hzm94g{box-sizing:border-box}.NW.svelte-1hzm94g{left:10px;top:10px}.NE.svelte-1hzm94g{right:10px;top:10px}.SE.svelte-1hzm94g{right:10px;bottom:10px}.SW.svelte-1hzm94g{left:10px;bottom:10px}.controls-wrapper.svelte-1hzm94g{position:absolute;display:flex;width:1.5rem;flex-direction:column;border-radius:6px;overflow:hidden;padding:4px;width:fit-content;height:fit-content;cursor:pointer;box-shadow:var(--theme-toggle-shadow, var(--default-theme-toggle-shadow));border:solid 1px var(--theme-toggle-border, var(--default-theme-toggle-border));color:var(\n\t\t\t--prop-theme-toggle-text-color,\n\t\t\tvar(--theme-toggle-text-color, var(--default-theme-toggle-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-theme-toggle-color,\n\t\t\tvar(--theme-toggle-color, var(--default-theme-toggle-color))\n\t\t)}button.svelte-1hzm94g{margin:0;padding:0;border:none;background:none;display:flex;align-items:center;justify-content:center;padding:0.2rem 0;border-bottom:solid 1px rgb(190, 188, 188);color:inherit}span.svelte-1hzm94g{font-family:'Material Symbols Outlined';font-size:1.2rem;color:inherit}button.svelte-1hzm94g:last-child{border-bottom:none}button.svelte-1hzm94g:hover{cursor:pointer}")}function Qa(e){let t,n,l,r,o,a,s=(e[6]===e[0]?e[2]:e[1])+"";return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("button"),l=SvelteInternal.element("span"),r=SvelteInternal.text(s),SvelteInternal.attr(l,"class","material-symbols-outlined svelte-1hzm94g"),SvelteInternal.attr(n,"class","svelte-1hzm94g"),SvelteInternal.attr(t,"class","controls-wrapper svelte-1hzm94g"),SvelteInternal.toggle_class(t,"SW","SW"===e[3]),SvelteInternal.toggle_class(t,"NE","NE"===e[3]),SvelteInternal.toggle_class(t,"SE","SE"===e[3]),SvelteInternal.toggle_class(t,"NW","NW"===e[3]),SvelteInternal.set_style(t,"--prop-theme-toggle-color",e[4]),SvelteInternal.set_style(t,"--prop-theme-toggle-text-color",e[5])},m(s,i){SvelteInternal.insert(s,t,i),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),o||(a=[SvelteInternal.listen(n,"mousedown",SvelteInternal.stop_propagation(e[7])),SvelteInternal.listen(n,"touchstart",SvelteInternal.stop_propagation(e[7]),{passive:!0})],o=!0)},p(e,[n]){71&n&&s!==(s=(e[6]===e[0]?e[2]:e[1])+"")&&SvelteInternal.set_data(r,s),8&n&&SvelteInternal.toggle_class(t,"SW","SW"===e[3]),8&n&&SvelteInternal.toggle_class(t,"NE","NE"===e[3]),8&n&&SvelteInternal.toggle_class(t,"SE","SE"===e[3]),8&n&&SvelteInternal.toggle_class(t,"NW","NW"===e[3]),16&n&&SvelteInternal.set_style(t,"--prop-theme-toggle-color",e[4]),32&n&&SvelteInternal.set_style(t,"--prop-theme-toggle-text-color",e[5])},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),o=!1,SvelteInternal.run_all(a)}}}function Ga(e,t,n){let{main:l="light"}=t,{alt:r="dark"}=t,{mainIcon:o="light_mode"}=t,{altIcon:a="dark_mode"}=t,{corner:s="NE"}=t,{bgColor:i=null}=t,{iconColor:c=null}=t,v=l;return SvelteInternal.onMount((()=>{document.documentElement.setAttribute("svelvet-theme",l)})),e.$$set=e=>{"main"in e&&n(0,l=e.main),"alt"in e&&n(8,r=e.alt),"mainIcon"in e&&n(1,o=e.mainIcon),"altIcon"in e&&n(2,a=e.altIcon),"corner"in e&&n(3,s=e.corner),"bgColor"in e&&n(4,i=e.bgColor),"iconColor"in e&&n(5,c=e.iconColor)},[l,o,a,s,i,c,v,function(){const e=document.documentElement.getAttribute("svelvet-theme");if(!e)return;n(6,v=e===l?r:l),document.documentElement.setAttribute("svelvet-theme",e===l?r:l)},r]}class Ya extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Ga,Qa,SvelteInternal.safe_not_equal,{main:0,alt:8,mainIcon:1,altIcon:2,corner:3,bgColor:4,iconColor:5},Va)}get main(){return this.$$.ctx[0]}set main(e){this.$$set({main:e}),SvelteInternal.flush()}get alt(){return this.$$.ctx[8]}set alt(e){this.$$set({alt:e}),SvelteInternal.flush()}get mainIcon(){return this.$$.ctx[1]}set mainIcon(e){this.$$set({mainIcon:e}),SvelteInternal.flush()}get altIcon(){return this.$$.ctx[2]}set altIcon(e){this.$$set({altIcon:e}),SvelteInternal.flush()}get corner(){return this.$$.ctx[3]}set corner(e){this.$$set({corner:e}),SvelteInternal.flush()}get bgColor(){return this.$$.ctx[4]}set bgColor(e){this.$$set({bgColor:e}),SvelteInternal.flush()}get iconColor(){return this.$$.ctx[5]}set iconColor(e){this.$$set({iconColor:e}),SvelteInternal.flush()}}var Ka=Object.freeze({__proto__:null,default:Ya});function Ua(e){SvelteInternal.append_styles(e,"svelte-3ma6pl",".cursor.svelte-3ma6pl{width:8px;height:8px;border:solid 1.5px rgb(255, 255, 255);transform:translate(-50%, -50%);border-radius:50%;position:absolute}.wrapper.svelte-3ma6pl{position:relative}.picking.svelte-3ma6pl{cursor:none !important}.wheel.svelte-3ma6pl{background:conic-gradient(from -90deg, red, yellow, lime, cyan, blue, magenta, red);border-radius:50%;cursor:crosshair;position:relative}")}function Ja(e){let t,n,l,r,o,a=`${e[4]}px`,s=`${e[3]}px`;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("div"),l=SvelteInternal.element("div"),SvelteInternal.attr(l,"class","cursor svelte-3ma6pl"),SvelteInternal.set_style(l,"top",a),SvelteInternal.set_style(l,"left",s),SvelteInternal.attr(n,"class","svelte-3ma6pl"),SvelteInternal.toggle_class(n,"picking",e[2]),SvelteInternal.toggle_class(n,"wheel",es),SvelteInternal.set_style(n,"width",e[0]?`${e[0]}px`:"100%"),SvelteInternal.set_style(n,"aspect-ratio",1),SvelteInternal.attr(t,"class","wrapper svelte-3ma6pl")},m(a,s){SvelteInternal.insert(a,t,s),SvelteInternal.append(t,n),SvelteInternal.append(n,l),e[15](n),r||(o=SvelteInternal.action_destroyer(e[8].call(null,n)),r=!0)},p(e,[t]){16&t&&a!==(a=`${e[4]}px`)&&SvelteInternal.set_style(l,"top",a),8&t&&s!==(s=`${e[3]}px`)&&SvelteInternal.set_style(l,"left",s),4&t&&SvelteInternal.toggle_class(n,"picking",e[2]),1&t&&SvelteInternal.set_style(n,"width",e[0]?`${e[0]}px`:"100%")},i:SvelteInternal.noop,o:SvelteInternal.noop,d(n){n&&SvelteInternal.detach(t),e[15](null),r=!1,o()}}}let es=!0;function ts(e,t){const n=function(e){const t=document.createElement("div");t.style.color=e,document.body.appendChild(t);const n=getComputedStyle(t).color;return document.body.removeChild(t),n}(e),l=function(e){const t=/rgb\((\d+),\s*(\d+),\s*(\d+)\)/,n=e.match(t);if(!n)throw new Error("Invalid RGB color string");const l=parseInt(n[1])/255,r=parseInt(n[2])/255,o=parseInt(n[3])/255,a=Math.max(l,r,o),s=Math.min(l,r,o),i=a-s;let c;0===i?c=0:a===l?(c=(r-o)/i%6*60,c<0&&(c+=360)):c=a===r?60*((o-l)/i+2):60*((l-r)/i+4);c=Math.round(c);const v=(a+s)/2,d=0===i?0:i/(1-Math.abs(2*v-1));return`hsl(${c}, ${Math.round(100*d)}%, ${Math.round(100*v)}%)`}(n),r=l.match(/hsl\((\d+),\s*(\d+)%?,\s*(\d+)%?\)/);if(!r)throw new Error("Invalid HSL color string");const o=parseInt(r[1]),a=parseInt(r[2]),s=t/2,i=o/360*2*Math.PI-Math.PI,c=a/100*s;return{pickerX:s+Math.cos(i)*c,pickerY:s+Math.sin(i)*c}}function ns(e,t,n){let l,r,o,a,s,i=SvelteInternal.noop,c=()=>(i(),i=SvelteInternal.subscribe(p,(e=>n(16,o=e))),p);e.$$.on_destroy.push((()=>i()));const v=SvelteInternal.getContext("graph"),d=SvelteInternal.getContext("node").rotation;SvelteInternal.component_subscribe(e,d,(e=>n(13,a=e)));const S=v.cursor;SvelteInternal.component_subscribe(e,S,(e=>n(14,s=e)));let{size:u=200}=t,{parameterStore:p}=t;c();let I,{pickerX:h,pickerY:m}=ts(o,u),f=!1,_=0,$=0;return e.$$set=e=>{"size"in e&&n(0,u=e.size),"parameterStore"in e&&c(n(1,p=e.parameterStore))},e.$$.update=()=>{if(16384&e.$$.dirty&&n(12,l=s.x),16384&e.$$.dirty&&n(11,r=s.y),15877&e.$$.dirty&&f){const e=u/2,t=l-$-e,s=r-_-e,i=Math.sqrt(t*t+s*s),c=Math.min(i,e),v=(Math.atan2(s,t)-a*(Math.PI/180)+Math.PI)/(2*Math.PI)*360%360,d=v>=0?v>360?360-v:v:360+v,S=Z(c/e*100),I=`hsl(${Z(d)}, ${S}%, ${50+(100-S)/2}%)`,g=ts(I,u);n(3,h=g.pickerX),n(4,m=g.pickerY),SvelteInternal.set_store_value(p,o=I,o)}},[u,p,f,h,m,I,d,S,function(e){function t(e){e.stopPropagation(),e.preventDefault(),(()=>{if(!I)return;const{top:e,left:t}=I.getBoundingClientRect(),l=SvelteStore.get(v.dimensions),r=SvelteStore.get(v.transforms.scale),o=SvelteStore.get(v.transforms.translation),a=g({clientX:t,clientY:e},l.top,l.left,l.width,l.height,r,o);n(9,_=a.y),n(10,$=a.x)})(),n(2,f=!0),window.addEventListener("mouseup",l)}function l(){n(2,f=!1),window.removeEventListener("mouseup",l)}return e.addEventListener("mousedown",t),{destroy(){e.removeEventListener("mousedown",t)}}},_,$,r,l,a,s,function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{I=e,n(5,I)}))}]}class ls extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,ns,Ja,SvelteInternal.safe_not_equal,{size:0,parameterStore:1},Ua)}get size(){return this.$$.ctx[0]}set size(e){this.$$set({size:e}),SvelteInternal.flush()}get parameterStore(){return this.$$.ctx[1]}set parameterStore(e){this.$$set({parameterStore:e}),SvelteInternal.flush()}}function rs(e){const t=U.get(`G-${e}`);if(!t)throw new Error(`Graph with id ${e} not found`);return f(SvelteStore.get(t.dimensions),SvelteStore.get(t.transforms.translation),SvelteStore.get(t.transforms.scale))}function os(e){SvelteInternal.append_styles(e,"svelte-1qkq4bu","#anchorContainer.svelte-1qkq4bu.svelte-1qkq4bu{width:100%;font-size:15px}#anchorContainer.svelte-1qkq4bu ul.svelte-1qkq4bu{margin:0;padding:0}label.svelte-1qkq4bu.svelte-1qkq4bu{margin-right:10px}.list-item.svelte-1qkq4bu.svelte-1qkq4bu{display:flex;flex-direction:row;align-items:center;list-style:none;margin-bottom:10px;margin-right:3px}.colorWheel.svelte-1qkq4bu.svelte-1qkq4bu{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;width:35px;height:35px;cursor:pointer;border-radius:50%}.colorWheel.svelte-1qkq4bu.svelte-1qkq4bu::-webkit-color-swatch{border-radius:40%}.colorWheel.svelte-1qkq4bu.svelte-1qkq4bu::-moz-color-swatch{border-radius:40%}.btn.svelte-1qkq4bu.svelte-1qkq4bu{width:120px;padding:8px 20px;margin:auto;margin-top:10px;border:none;border-radius:5px;cursor:pointer;font-size:15px;margin-left:70px}.addAnchor.svelte-1qkq4bu.svelte-1qkq4bu,.deleteAnchor.svelte-1qkq4bu.svelte-1qkq4bu{border:none;cursor:pointer;border-radius:8px;padding:5px;color:var(\n\t\t\t--prop-drawer-reset-button-text-color,\n\t\t\tvar(--drawer-reset-button-text-color, var(--default-reset-drawer-button-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-color,\n\t\t\tvar(--drawer-reset-button-color, var(--default-drawer-reset-button-color))\n\t\t);box-shadow:0 0 0 var(--final-border-width) var(--final-border-color),\n\t\t\tvar(--default-node-shadow)}.addAnchor.svelte-1qkq4bu.svelte-1qkq4bu:hover,.deleteAnchor.svelte-1qkq4bu.svelte-1qkq4bu:hover{color:var(\n\t\t\t--prop-drawer-reset-button-hover-text-color,\n\t\t\tvar(\n\t\t\t\t--drawer-reset-button-hover-text-color,\n\t\t\t\tvar(--default-drawer-reset-button-hover-text-color)\n\t\t\t)\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-hover-color,\n\t\t\tvar(--drawer-reset-button-hover-color, var(--default-drawer-reset-button-hover-color))\n\t\t)}.counter.svelte-1qkq4bu.svelte-1qkq4bu{display:inline-block;width:15px;margin:0 10px;font-size:18px}.anchorResetBtn.svelte-1qkq4bu.svelte-1qkq4bu{color:var(\n\t\t\t--prop-drawer-reset-button-text-color,\n\t\t\tvar(--drawer-reset-button-text-color, var(--default-reset-drawer-button-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-color,\n\t\t\tvar(--drawer-reset-button-color, var(--default-drawer-reset-button-color))\n\t\t);box-shadow:0 0 0 var(--final-border-width) var(--final-border-color),\n\t\t\tvar(--default-node-shadow)}.anchorResetBtn.svelte-1qkq4bu.svelte-1qkq4bu:hover{color:var(\n\t\t\t--prop-drawer-reset-button-hover-text-color,\n\t\t\tvar(\n\t\t\t\t--drawer-reset-button-hover-text-color,\n\t\t\t\tvar(--default-drawer-reset-button-hover-text-color)\n\t\t\t)\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-hover-color,\n\t\t\tvar(--drawer-reset-button-hover-color, var(--default-drawer-reset-button-hover-color))\n\t\t)}.anchor-directions.svelte-1qkq4bu.svelte-1qkq4bu{display:flex;justify-content:space-around;margin:0}")}function as(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m,f,_,$,b,x,y,w,k,C,q,z,M,N,E,A,T,L,P,D,j,W,R,Z,B,O,H,X,F,V,Q,G,Y,K,U,J,ee,te,ne,le,re,oe,ae,se,ie,ce,ve,de,Se,ue,pe,Ie,he,ge,me,fe,_e,$e,be,xe,ye,we,ke,Ce,qe,ze,Me,Ne,Ee,Ae,Te,Le,Pe,De,je,We,Re,Ze,Be,Oe,He,Xe,Fe,Ve,Qe,Ge,Ye,Ke,Ue,Je;return oe=new zr({props:{icon:"arrow_left"}}),ve=new zr({props:{icon:"arrow_right"}}),he=new zr({props:{icon:"arrow_left"}}),$e=new zr({props:{icon:"arrow_right"}}),ye=new zr({props:{icon:"arrow_left"}}),ze=new zr({props:{icon:"arrow_right"}}),Le=new zr({props:{icon:"arrow_left"}}),Re=new zr({props:{icon:"arrow_right"}}),Oe=new zr({props:{icon:"arrow_left"}}),Qe=new zr({props:{icon:"arrow_right"}}),{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("form"),l=SvelteInternal.element("ul"),r=SvelteInternal.element("li"),o=SvelteInternal.element("label"),o.textContent="Background:",a=SvelteInternal.space(),s=SvelteInternal.element("input"),i=SvelteInternal.space(),c=SvelteInternal.element("li"),v=SvelteInternal.element("label"),v.textContent="Invisible:",d=SvelteInternal.space(),S=SvelteInternal.element("input"),u=SvelteInternal.space(),p=SvelteInternal.element("li"),I=SvelteInternal.element("label"),I.textContent="Node Connect:",h=SvelteInternal.space(),g=SvelteInternal.element("input"),m=SvelteInternal.space(),f=SvelteInternal.element("li"),_=SvelteInternal.element("label"),_.textContent="Input:",$=SvelteInternal.space(),b=SvelteInternal.element("input"),x=SvelteInternal.space(),y=SvelteInternal.element("li"),w=SvelteInternal.element("label"),w.textContent="Output:",k=SvelteInternal.space(),C=SvelteInternal.element("input"),q=SvelteInternal.space(),z=SvelteInternal.element("li"),M=SvelteInternal.element("label"),M.textContent="Multiple:",N=SvelteInternal.space(),E=SvelteInternal.element("input"),A=SvelteInternal.space(),T=SvelteInternal.element("li"),L=SvelteInternal.element("label"),L.textContent="Direction:",P=SvelteInternal.space(),D=SvelteInternal.element("select"),j=SvelteInternal.element("option"),j.textContent="-",W=SvelteInternal.element("option"),W.textContent="North",R=SvelteInternal.element("option"),R.textContent="South",Z=SvelteInternal.element("option"),Z.textContent="East",B=SvelteInternal.element("option"),B.textContent="West",O=SvelteInternal.element("option"),O.textContent="Self",H=SvelteInternal.space(),X=SvelteInternal.element("li"),F=SvelteInternal.element("label"),F.textContent="Dynamic:",V=SvelteInternal.space(),Q=SvelteInternal.element("input"),G=SvelteInternal.space(),Y=SvelteInternal.element("li"),K=SvelteInternal.element("label"),K.textContent="Locked:",U=SvelteInternal.space(),J=SvelteInternal.element("input"),ee=SvelteInternal.space(),te=SvelteInternal.element("li"),ne=SvelteInternal.element("label"),ne.textContent="Add Anchors:",le=SvelteInternal.space(),re=SvelteInternal.element("button"),SvelteInternal.create_component(oe.$$.fragment),ae=SvelteInternal.space(),se=SvelteInternal.element("span"),se.textContent=`${e[0]}`,ie=SvelteInternal.space(),ce=SvelteInternal.element("button"),SvelteInternal.create_component(ve.$$.fragment),de=SvelteInternal.space(),Se=SvelteInternal.element("li"),Se.innerHTML="<p>Left</p> <p>Right</p>",ue=SvelteInternal.space(),pe=SvelteInternal.element("li"),Ie=SvelteInternal.element("button"),SvelteInternal.create_component(he.$$.fragment),ge=SvelteInternal.space(),me=SvelteInternal.element("span"),me.textContent=`${e[1]}`,fe=SvelteInternal.space(),_e=SvelteInternal.element("button"),SvelteInternal.create_component($e.$$.fragment),be=SvelteInternal.space(),xe=SvelteInternal.element("button"),SvelteInternal.create_component(ye.$$.fragment),we=SvelteInternal.space(),ke=SvelteInternal.element("span"),ke.textContent=`${e[2]}`,Ce=SvelteInternal.space(),qe=SvelteInternal.element("button"),SvelteInternal.create_component(ze.$$.fragment),Me=SvelteInternal.space(),Ne=SvelteInternal.element("li"),Ne.innerHTML="<p>Top</p> <p>Bottom</p>",Ee=SvelteInternal.space(),Ae=SvelteInternal.element("li"),Te=SvelteInternal.element("button"),SvelteInternal.create_component(Le.$$.fragment),Pe=SvelteInternal.space(),De=SvelteInternal.element("span"),De.textContent=`${e[3]}`,je=SvelteInternal.space(),We=SvelteInternal.element("button"),SvelteInternal.create_component(Re.$$.fragment),Ze=SvelteInternal.space(),Be=SvelteInternal.element("button"),SvelteInternal.create_component(Oe.$$.fragment),He=SvelteInternal.space(),Xe=SvelteInternal.element("span"),Xe.textContent=`${e[4]}`,Fe=SvelteInternal.space(),Ve=SvelteInternal.element("button"),SvelteInternal.create_component(Qe.$$.fragment),Ge=SvelteInternal.space(),Ye=SvelteInternal.element("li"),Ye.innerHTML='<button class="anchorResetBtn btn svelte-1qkq4bu" type="submit" aria-label="Reset">Reset</button>',SvelteInternal.attr(o,"for","anchorBgColor"),SvelteInternal.attr(o,"class","svelte-1qkq4bu"),SvelteInternal.attr(s,"id","anchorBgColor"),SvelteInternal.attr(s,"class","colorWheel svelte-1qkq4bu"),SvelteInternal.attr(s,"type","color"),SvelteInternal.attr(r,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(v,"for","invisible"),SvelteInternal.attr(v,"class","svelte-1qkq4bu"),SvelteInternal.attr(S,"id","invisible"),SvelteInternal.attr(S,"type","checkbox"),SvelteInternal.attr(c,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(I,"for","nodeConnect"),SvelteInternal.attr(I,"class","svelte-1qkq4bu"),SvelteInternal.attr(g,"id","nodeConnect"),SvelteInternal.attr(g,"type","checkbox"),SvelteInternal.attr(p,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(_,"for","input"),SvelteInternal.attr(_,"class","svelte-1qkq4bu"),SvelteInternal.attr(b,"id","input"),SvelteInternal.attr(b,"type","checkbox"),SvelteInternal.attr(f,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(w,"for","output"),SvelteInternal.attr(w,"class","svelte-1qkq4bu"),SvelteInternal.attr(C,"id","output"),SvelteInternal.attr(C,"type","checkbox"),SvelteInternal.attr(y,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(M,"for","multiple"),SvelteInternal.attr(M,"class","svelte-1qkq4bu"),SvelteInternal.attr(E,"id","multiple"),SvelteInternal.attr(E,"type","checkbox"),SvelteInternal.attr(z,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(L,"for","direction"),SvelteInternal.attr(L,"class","svelte-1qkq4bu"),j.__value="",SvelteInternal.set_input_value(j,j.__value),W.__value="north",SvelteInternal.set_input_value(W,W.__value),R.__value="south",SvelteInternal.set_input_value(R,R.__value),Z.__value="east",SvelteInternal.set_input_value(Z,Z.__value),B.__value="west",SvelteInternal.set_input_value(B,B.__value),O.__value="self",SvelteInternal.set_input_value(O,O.__value),SvelteInternal.attr(D,"id","direction"),void 0===gs&&SvelteInternal.add_render_callback((()=>e[12].call(D))),SvelteInternal.attr(T,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(F,"for","dynamic"),SvelteInternal.attr(F,"class","svelte-1qkq4bu"),SvelteInternal.attr(Q,"id","dynamic"),SvelteInternal.attr(Q,"type","checkbox"),SvelteInternal.attr(X,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(K,"for","anchorLocked"),SvelteInternal.attr(K,"class","svelte-1qkq4bu"),SvelteInternal.attr(J,"id","anchorLocked"),SvelteInternal.attr(J,"type","checkbox"),SvelteInternal.attr(Y,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(ne,"for","addAnchors"),SvelteInternal.attr(ne,"class","svelte-1qkq4bu"),SvelteInternal.attr(re,"id","deleteSelfAnchor"),SvelteInternal.attr(re,"class","deleteAnchor svelte-1qkq4bu"),SvelteInternal.attr(re,"type","button"),SvelteInternal.attr(se,"class","list-item counter svelte-1qkq4bu"),SvelteInternal.attr(ce,"id","addSelfAnchor"),SvelteInternal.attr(ce,"class","addAnchor svelte-1qkq4bu"),SvelteInternal.attr(ce,"type","button"),SvelteInternal.attr(te,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(Se,"class","list-item anchor-directions svelte-1qkq4bu"),SvelteInternal.attr(Ie,"id","deleteLeftAnchor"),SvelteInternal.attr(Ie,"class","deleteAnchor svelte-1qkq4bu"),SvelteInternal.attr(Ie,"type","button"),SvelteInternal.attr(me,"class","list-item couter svelte-1qkq4bu"),SvelteInternal.attr(_e,"id","addLeftAnchor"),SvelteInternal.attr(_e,"class","addAnchor svelte-1qkq4bu"),SvelteInternal.attr(_e,"type","button"),SvelteInternal.attr(xe,"id","deleteRightAnchor"),SvelteInternal.attr(xe,"class","deleteAnchor svelte-1qkq4bu"),SvelteInternal.attr(xe,"type","button"),SvelteInternal.attr(ke,"class","list-item couter svelte-1qkq4bu"),SvelteInternal.attr(qe,"id","addRightAnchor"),SvelteInternal.attr(qe,"class","addAnchor svelte-1qkq4bu"),SvelteInternal.attr(qe,"type","button"),SvelteInternal.attr(pe,"class","list-item anchor-directions svelte-1qkq4bu"),SvelteInternal.attr(Ne,"class","list-item anchor-directions svelte-1qkq4bu"),SvelteInternal.attr(Te,"id","deleteTopAnchor"),SvelteInternal.attr(Te,"class","deleteAnchor svelte-1qkq4bu"),SvelteInternal.attr(Te,"type","button"),SvelteInternal.attr(De,"class","list-item couter svelte-1qkq4bu"),SvelteInternal.attr(We,"id","addTopAnchor"),SvelteInternal.attr(We,"class","addAnchor svelte-1qkq4bu"),SvelteInternal.attr(We,"type","button"),SvelteInternal.attr(Be,"id","deleteBottomAnchor"),SvelteInternal.attr(Be,"class","deleteAnchor svelte-1qkq4bu"),SvelteInternal.attr(Be,"type","button"),SvelteInternal.attr(Xe,"class","list-item couter svelte-1qkq4bu"),SvelteInternal.attr(Ve,"id","addBottomAnchor"),SvelteInternal.attr(Ve,"class","addAnchor svelte-1qkq4bu"),SvelteInternal.attr(Ve,"type","button"),SvelteInternal.attr(Ae,"class","list-item anchor-directions svelte-1qkq4bu"),SvelteInternal.attr(Ye,"class","list-item svelte-1qkq4bu"),SvelteInternal.attr(l,"aria-labelledby","select_props"),SvelteInternal.attr(l,"class","svelte-1qkq4bu"),SvelteInternal.attr(t,"id","anchorContainer"),SvelteInternal.attr(t,"class","svelte-1qkq4bu")},m(et,tt){SvelteInternal.insert(et,t,tt),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),SvelteInternal.append(r,o),SvelteInternal.append(r,a),SvelteInternal.append(r,s),SvelteInternal.set_input_value(s,$s),SvelteInternal.append(l,i),SvelteInternal.append(l,c),SvelteInternal.append(c,v),SvelteInternal.append(c,d),SvelteInternal.append(c,S),SvelteInternal.set_input_value(S,Ss),SvelteInternal.append(l,u),SvelteInternal.append(l,p),SvelteInternal.append(p,I),SvelteInternal.append(p,h),SvelteInternal.append(p,g),SvelteInternal.set_input_value(g,us),SvelteInternal.append(l,m),SvelteInternal.append(l,f),SvelteInternal.append(f,_),SvelteInternal.append(f,$),SvelteInternal.append(f,b),SvelteInternal.set_input_value(b,ps),SvelteInternal.append(l,x),SvelteInternal.append(l,y),SvelteInternal.append(y,w),SvelteInternal.append(y,k),SvelteInternal.append(y,C),SvelteInternal.set_input_value(C,Is),SvelteInternal.append(l,q),SvelteInternal.append(l,z),SvelteInternal.append(z,M),SvelteInternal.append(z,N),SvelteInternal.append(z,E),SvelteInternal.set_input_value(E,hs),SvelteInternal.append(l,A),SvelteInternal.append(l,T),SvelteInternal.append(T,L),SvelteInternal.append(T,P),SvelteInternal.append(T,D),SvelteInternal.append(D,j),SvelteInternal.append(D,W),SvelteInternal.append(D,R),SvelteInternal.append(D,Z),SvelteInternal.append(D,B),SvelteInternal.append(D,O),e[11](D),SvelteInternal.select_option(D,gs,!0),SvelteInternal.append(l,H),SvelteInternal.append(l,X),SvelteInternal.append(X,F),SvelteInternal.append(X,V),SvelteInternal.append(X,Q),SvelteInternal.set_input_value(Q,ms),SvelteInternal.append(l,G),SvelteInternal.append(l,Y),SvelteInternal.append(Y,K),SvelteInternal.append(Y,U),SvelteInternal.append(Y,J),SvelteInternal.set_input_value(J,_s),SvelteInternal.append(l,ee),SvelteInternal.append(l,te),SvelteInternal.append(te,ne),SvelteInternal.append(te,le),SvelteInternal.append(te,re),SvelteInternal.mount_component(oe,re,null),SvelteInternal.append(te,ae),SvelteInternal.append(te,se),SvelteInternal.append(te,ie),SvelteInternal.append(te,ce),SvelteInternal.mount_component(ve,ce,null),SvelteInternal.append(l,de),SvelteInternal.append(l,Se),SvelteInternal.append(l,ue),SvelteInternal.append(l,pe),SvelteInternal.append(pe,Ie),SvelteInternal.mount_component(he,Ie,null),SvelteInternal.append(pe,ge),SvelteInternal.append(pe,me),SvelteInternal.append(pe,fe),SvelteInternal.append(pe,_e),SvelteInternal.mount_component($e,_e,null),SvelteInternal.append(pe,be),SvelteInternal.append(pe,xe),SvelteInternal.mount_component(ye,xe,null),SvelteInternal.append(pe,we),SvelteInternal.append(pe,ke),SvelteInternal.append(pe,Ce),SvelteInternal.append(pe,qe),SvelteInternal.mount_component(ze,qe,null),SvelteInternal.append(l,Me),SvelteInternal.append(l,Ne),SvelteInternal.append(l,Ee),SvelteInternal.append(l,Ae),SvelteInternal.append(Ae,Te),SvelteInternal.mount_component(Le,Te,null),SvelteInternal.append(Ae,Pe),SvelteInternal.append(Ae,De),SvelteInternal.append(Ae,je),SvelteInternal.append(Ae,We),SvelteInternal.mount_component(Re,We,null),SvelteInternal.append(Ae,Ze),SvelteInternal.append(Ae,Be),SvelteInternal.mount_component(Oe,Be,null),SvelteInternal.append(Ae,He),SvelteInternal.append(Ae,Xe),SvelteInternal.append(Ae,Fe),SvelteInternal.append(Ae,Ve),SvelteInternal.mount_component(Qe,Ve,null),SvelteInternal.append(l,Ge),SvelteInternal.append(l,Ye),Ke=!0,Ue||(Je=[SvelteInternal.listen(s,"input",e[5]),SvelteInternal.listen(S,"change",e[6]),SvelteInternal.listen(S,"change",ks),SvelteInternal.listen(g,"change",e[7]),SvelteInternal.listen(g,"change",Cs),SvelteInternal.listen(b,"change",e[8]),SvelteInternal.listen(b,"change",qs),SvelteInternal.listen(C,"change",e[9]),SvelteInternal.listen(C,"change",zs),SvelteInternal.listen(E,"change",e[10]),SvelteInternal.listen(E,"change",Ms),SvelteInternal.listen(D,"change",e[12]),SvelteInternal.listen(D,"change",Es),SvelteInternal.listen(Q,"change",e[13]),SvelteInternal.listen(Q,"change",Ns),SvelteInternal.listen(J,"change",e[14]),SvelteInternal.listen(J,"change",ws),SvelteInternal.listen(re,"click",SvelteInternal.stop_propagation(Ls)),SvelteInternal.listen(ce,"click",SvelteInternal.stop_propagation(Ts)),SvelteInternal.listen(Ie,"click",Ls),SvelteInternal.listen(_e,"click",Ts),SvelteInternal.listen(xe,"click",Ls),SvelteInternal.listen(qe,"click",Ts),SvelteInternal.listen(Te,"click",Ls),SvelteInternal.listen(We,"click",Ts),SvelteInternal.listen(Be,"click",Ls),SvelteInternal.listen(Ve,"click",Ts),SvelteInternal.listen(n,"submit",SvelteInternal.prevent_default(As))],Ue=!0)},p(e,[t]){0&t&&SvelteInternal.set_input_value(s,$s),0&t&&SvelteInternal.set_input_value(S,Ss),0&t&&SvelteInternal.set_input_value(g,us),0&t&&SvelteInternal.set_input_value(b,ps),0&t&&SvelteInternal.set_input_value(C,Is),0&t&&SvelteInternal.set_input_value(E,hs),0&t&&SvelteInternal.select_option(D,gs),0&t&&SvelteInternal.set_input_value(Q,ms),0&t&&SvelteInternal.set_input_value(J,_s)},i(e){Ke||(SvelteInternal.transition_in(oe.$$.fragment,e),SvelteInternal.transition_in(ve.$$.fragment,e),SvelteInternal.transition_in(he.$$.fragment,e),SvelteInternal.transition_in($e.$$.fragment,e),SvelteInternal.transition_in(ye.$$.fragment,e),SvelteInternal.transition_in(ze.$$.fragment,e),SvelteInternal.transition_in(Le.$$.fragment,e),SvelteInternal.transition_in(Re.$$.fragment,e),SvelteInternal.transition_in(Oe.$$.fragment,e),SvelteInternal.transition_in(Qe.$$.fragment,e),Ke=!0)},o(e){SvelteInternal.transition_out(oe.$$.fragment,e),SvelteInternal.transition_out(ve.$$.fragment,e),SvelteInternal.transition_out(he.$$.fragment,e),SvelteInternal.transition_out($e.$$.fragment,e),SvelteInternal.transition_out(ye.$$.fragment,e),SvelteInternal.transition_out(ze.$$.fragment,e),SvelteInternal.transition_out(Le.$$.fragment,e),SvelteInternal.transition_out(Re.$$.fragment,e),SvelteInternal.transition_out(Oe.$$.fragment,e),SvelteInternal.transition_out(Qe.$$.fragment,e),Ke=!1},d(n){n&&SvelteInternal.detach(t),e[11](null),SvelteInternal.destroy_component(oe),SvelteInternal.destroy_component(ve),SvelteInternal.destroy_component(he),SvelteInternal.destroy_component($e),SvelteInternal.destroy_component(ye),SvelteInternal.destroy_component(ze),SvelteInternal.destroy_component(Le),SvelteInternal.destroy_component(Re),SvelteInternal.destroy_component(Oe),SvelteInternal.destroy_component(Qe),Ue=!1,SvelteInternal.run_all(Je)}}}const ss=SvelteStore.writable(0),is=SvelteStore.writable(0),cs=SvelteStore.writable(0),vs=SvelteStore.writable(0),ds=SvelteStore.writable(0);let Ss,us,ps,Is,hs,gs,ms,fs,_s,$s,bs,xs={self:[],left:[],right:[],top:[],bottom:[]};const ys=(e,t)=>{""==gs&&(gs=void 0);const n={};if(O(["invisible","nodeConnect","input","output","multiple","direction","dynamic","edgeLabel","locked","bgColor","edge"],[Ss,us,ps,Is,hs,gs,ms,fs,_s,$s,bs],n),Object.keys(n).length){if(e)return{self:[...xs.self],left:[...xs.left],right:[...xs.right],top:[...xs.top],bottom:[...xs.bottom]};"addLeftAnchor"===t?xs.left.push(n):"addRightAnchor"===t?xs.right.push(n):"addTopAnchor"===t?xs.top.push(n):"addBottomAnchor"===t?xs.bottom.push(n):"addSelfAnchor"===t&&xs.self.push(n)}},ws=e=>{const t=e.target;_s=t.checked},ks=e=>{const t=e.target;Ss=t.checked},Cs=e=>{const t=e.target;us=t.checked},qs=e=>{const t=e.target;ps=t.checked},zs=e=>{const t=e.target;Is=t.checked},Ms=e=>{const t=e.target;hs=t.checked},Ns=e=>{const t=e.target;ms=t.checked},Es=e=>{const t=e.target;gs=""==t.value?void 0:t.value},As=e=>{Ss=void 0,us=void 0,ps=void 0,Is=void 0,hs=void 0,gs=void 0,ms=void 0,fs=void 0,_s=void 0,$s=void 0,xs.left=[],xs.right=[],xs.top=[],xs.bottom=[],xs.self=[],ds.set(0),ss.set(0),is.set(0),cs.set(0),vs.set(0);const t=e.target;e&&t.reset()},Ts=e=>{const t=e.target,n=t?.parentElement?.id||t?.id;ys(!1,n),"addLeftAnchor"===n?ss.set(xs.left.length):"addRightAnchor"===n?is.set(xs.right.length):"addTopAnchor"===n?cs.set(xs.top.length):"addBottomAnchor"===n?vs.set(xs.bottom.length):"addSelfAnchor"===n&&ds.set(xs.self.length)},Ls=e=>{const t=e.target,n=t?.parentElement?.id||t?.id;"deleteLeftAnchor"===n?(xs.left.pop(),ss.set(xs.left.length)):"deleteRightAnchor"===n?(xs.right.pop(),is.set(xs.right.length)):"deleteTopAnchor"===n?(xs.top.pop(),cs.set(xs.top.length)):"deleteBottomAnchor"===n?(xs.bottom.pop(),vs.set(xs.bottom.length)):"deleteSelfAnchor"===n&&(xs.self.pop(),ds.set(xs.self.length))};function Ps(e,t,n){let l,r,o,a,s;return SvelteInternal.component_subscribe(e,ds,(e=>n(0,l=e))),SvelteInternal.component_subscribe(e,ss,(e=>n(1,r=e))),SvelteInternal.component_subscribe(e,is,(e=>n(2,o=e))),SvelteInternal.component_subscribe(e,cs,(e=>n(3,a=e))),SvelteInternal.component_subscribe(e,vs,(e=>n(4,s=e))),[l,r,o,a,s,function(){$s=this.value},function(){Ss=this.value},function(){us=this.value},function(){ps=this.value},function(){Is=this.value},function(){hs=this.value},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{}))},function(){gs=SvelteInternal.select_value(this)},function(){ms=this.value},function(){_s=this.value}]}class Ds extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Ps,as,SvelteInternal.safe_not_equal,{},os)}}function js(e){SvelteInternal.append_styles(e,"svelte-1l9z4rf","#edgeContainer.svelte-1l9z4rf.svelte-1l9z4rf{width:100%;font-size:15px}#edgeContainer.svelte-1l9z4rf ul.svelte-1l9z4rf{margin:0;padding:0}label.svelte-1l9z4rf.svelte-1l9z4rf{margin-right:10px}.list-item.svelte-1l9z4rf.svelte-1l9z4rf{display:flex;flex-direction:row;align-items:center;list-style:none;margin-bottom:10px;margin-right:3px}.colorWheel.svelte-1l9z4rf.svelte-1l9z4rf{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;width:35px;height:35px;cursor:pointer;border-radius:50%}.colorWheel.svelte-1l9z4rf.svelte-1l9z4rf::-webkit-color-swatch{border-radius:40%}.colorWheel.svelte-1l9z4rf.svelte-1l9z4rf::-moz-color-swatch{border-radius:40%}.inputField.svelte-1l9z4rf.svelte-1l9z4rf{width:50px}.btn.svelte-1l9z4rf.svelte-1l9z4rf{width:120px;padding:8px 20px;margin:auto;margin-top:10px;border:none;border-radius:5px;cursor:pointer;font-size:15px;margin-left:70px}.edgeResetBtn.svelte-1l9z4rf.svelte-1l9z4rf{color:var(\n\t\t\t--prop-drawer-reset-button-text-color,\n\t\t\tvar(--drawer-reset-button-text-color, var(--default-reset-drawer-button-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-color,\n\t\t\tvar(--drawer-reset-button-color, var(--default-drawer-reset-button-color))\n\t\t);box-shadow:0 0 0 var(--final-border-width) var(--final-border-color),\n\t\t\tvar(--default-node-shadow)}.edgeResetBtn.svelte-1l9z4rf.svelte-1l9z4rf:hover{color:var(\n\t\t\t--prop-drawer-reset-button-hover-text-color,\n\t\t\tvar(\n\t\t\t\t--drawer-reset-button-hover-text-color,\n\t\t\t\tvar(--default-drawer-reset-button-hover-text-color)\n\t\t\t)\n\t\t);background-color:var(\n\t\t\t--prop-drawer-reset-button-hover-color,\n\t\t\tvar(--drawer-reset-button-hover-color, var(--default-drawer-reset-button-hover-color))\n\t\t)}")}function Ws(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m,f,_,$,b,x,y,w,k,C,q,z,M,N,E,A,T,L,P,D,j,W,R,Z,B,O,H,X,F;return{c(){t=SvelteInternal.element("div"),n=SvelteInternal.element("form"),l=SvelteInternal.element("ul"),r=SvelteInternal.element("li"),o=SvelteInternal.element("label"),o.textContent="Background:",a=SvelteInternal.space(),s=SvelteInternal.element("input"),i=SvelteInternal.space(),c=SvelteInternal.element("li"),v=SvelteInternal.element("label"),v.textContent="Label:",d=SvelteInternal.space(),S=SvelteInternal.element("input"),u=SvelteInternal.space(),p=SvelteInternal.element("li"),I=SvelteInternal.element("label"),I.textContent="Text:",h=SvelteInternal.space(),g=SvelteInternal.element("input"),m=SvelteInternal.space(),f=SvelteInternal.element("li"),_=SvelteInternal.element("label"),_.textContent="Animate :",$=SvelteInternal.space(),b=SvelteInternal.element("input"),x=SvelteInternal.space(),y=SvelteInternal.element("li"),w=SvelteInternal.element("label"),w.textContent="Step:",k=SvelteInternal.space(),C=SvelteInternal.element("input"),q=SvelteInternal.space(),z=SvelteInternal.element("li"),M=SvelteInternal.element("label"),M.textContent="Corner Radius:",N=SvelteInternal.space(),E=SvelteInternal.element("input"),A=SvelteInternal.space(),T=SvelteInternal.element("li"),L=SvelteInternal.element("label"),L.textContent="Width:",P=SvelteInternal.space(),D=SvelteInternal.element("input"),j=SvelteInternal.space(),W=SvelteInternal.element("li"),R=SvelteInternal.element("label"),R.textContent="Edge Label:",Z=SvelteInternal.space(),B=SvelteInternal.element("input"),O=SvelteInternal.space(),H=SvelteInternal.element("li"),H.innerHTML='<button class="edgeResetBtn btn svelte-1l9z4rf" aria-label="Reset">Reset</button>',SvelteInternal.attr(o,"for","color"),SvelteInternal.attr(o,"class","svelte-1l9z4rf"),SvelteInternal.attr(s,"id","color"),SvelteInternal.attr(s,"class","colorWheel svelte-1l9z4rf"),SvelteInternal.attr(s,"type","color"),SvelteInternal.attr(r,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(v,"for","labelColor"),SvelteInternal.attr(v,"class","svelte-1l9z4rf"),SvelteInternal.attr(S,"id","labelColor"),SvelteInternal.attr(S,"class","colorWheel svelte-1l9z4rf"),SvelteInternal.attr(S,"type","color"),SvelteInternal.attr(c,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(I,"for","textColor"),SvelteInternal.attr(I,"class","svelte-1l9z4rf"),SvelteInternal.attr(g,"id","textColor"),SvelteInternal.attr(g,"class","colorWheel svelte-1l9z4rf"),SvelteInternal.attr(g,"type","color"),SvelteInternal.attr(p,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(_,"for","animate"),SvelteInternal.attr(_,"class","svelte-1l9z4rf"),SvelteInternal.attr(b,"id","animate"),SvelteInternal.attr(b,"type","checkbox"),SvelteInternal.attr(f,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(w,"for","step"),SvelteInternal.attr(w,"class","svelte-1l9z4rf"),SvelteInternal.attr(C,"id","step"),SvelteInternal.attr(C,"type","checkbox"),SvelteInternal.attr(y,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(M,"for","cornerRadius"),SvelteInternal.attr(M,"class","svelte-1l9z4rf"),SvelteInternal.attr(E,"id","cornerRadius"),SvelteInternal.attr(E,"class","inputField svelte-1l9z4rf"),SvelteInternal.attr(E,"type","number"),SvelteInternal.attr(z,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(L,"for","width"),SvelteInternal.attr(L,"class","svelte-1l9z4rf"),SvelteInternal.attr(D,"id","width"),SvelteInternal.attr(D,"class","inputField svelte-1l9z4rf"),SvelteInternal.attr(D,"type","number"),SvelteInternal.attr(T,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(R,"for","edgeLabel"),SvelteInternal.attr(R,"class","svelte-1l9z4rf"),SvelteInternal.attr(B,"id","edgeLabel"),SvelteInternal.attr(B,"type","text"),SvelteInternal.attr(W,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(H,"class","list-item svelte-1l9z4rf"),SvelteInternal.attr(l,"aria-labelledby","select_props"),SvelteInternal.attr(l,"class","svelte-1l9z4rf"),SvelteInternal.attr(t,"id","edgeContainer"),SvelteInternal.attr(t,"class","svelte-1l9z4rf")},m(V,Q){SvelteInternal.insert(V,t,Q),SvelteInternal.append(t,n),SvelteInternal.append(n,l),SvelteInternal.append(l,r),SvelteInternal.append(r,o),SvelteInternal.append(r,a),SvelteInternal.append(r,s),SvelteInternal.set_input_value(s,Zs),SvelteInternal.append(l,i),SvelteInternal.append(l,c),SvelteInternal.append(c,v),SvelteInternal.append(c,d),SvelteInternal.append(c,S),SvelteInternal.set_input_value(S,Vs),SvelteInternal.append(l,u),SvelteInternal.append(l,p),SvelteInternal.append(p,I),SvelteInternal.append(p,h),SvelteInternal.append(p,g),SvelteInternal.set_input_value(g,Qs),SvelteInternal.append(l,m),SvelteInternal.append(l,f),SvelteInternal.append(f,_),SvelteInternal.append(f,$),SvelteInternal.append(f,b),SvelteInternal.set_input_value(b,Xs),SvelteInternal.append(l,x),SvelteInternal.append(l,y),SvelteInternal.append(y,w),SvelteInternal.append(y,k),SvelteInternal.append(y,C),SvelteInternal.set_input_value(C,Os),SvelteInternal.append(l,q),SvelteInternal.append(l,z),SvelteInternal.append(z,M),SvelteInternal.append(z,N),SvelteInternal.append(z,E),SvelteInternal.set_input_value(E,Hs),SvelteInternal.append(l,A),SvelteInternal.append(l,T),SvelteInternal.append(T,L),SvelteInternal.append(T,P),SvelteInternal.append(T,D),SvelteInternal.set_input_value(D,Rs),SvelteInternal.append(l,j),SvelteInternal.append(l,W),SvelteInternal.append(W,R),SvelteInternal.append(W,Z),SvelteInternal.append(W,B),SvelteInternal.set_input_value(B,Fs),SvelteInternal.append(l,O),SvelteInternal.append(l,H),X||(F=[SvelteInternal.listen(s,"input",e[0]),SvelteInternal.listen(S,"input",e[1]),SvelteInternal.listen(g,"input",e[2]),SvelteInternal.listen(b,"change",e[3]),SvelteInternal.listen(b,"change",Ks),SvelteInternal.listen(C,"change",e[4]),SvelteInternal.listen(C,"change",Ys),SvelteInternal.listen(E,"input",e[5]),SvelteInternal.listen(D,"input",e[6]),SvelteInternal.listen(B,"input",e[7]),SvelteInternal.listen(n,"submit",SvelteInternal.prevent_default(Us))],X=!0)},p(e,[t]){0&t&&SvelteInternal.set_input_value(s,Zs),0&t&&SvelteInternal.set_input_value(S,Vs),0&t&&SvelteInternal.set_input_value(g,Qs),0&t&&SvelteInternal.set_input_value(b,Xs),0&t&&SvelteInternal.set_input_value(C,Os),0&t&&SvelteInternal.to_number(E.value)!==Hs&&SvelteInternal.set_input_value(E,Hs),0&t&&SvelteInternal.to_number(D.value)!==Rs&&SvelteInternal.set_input_value(D,Rs),0&t&&B.value!==Fs&&SvelteInternal.set_input_value(B,Fs)},i:SvelteInternal.noop,o:SvelteInternal.noop,d(e){e&&SvelteInternal.detach(t),X=!1,SvelteInternal.run_all(F)}}}let Rs,Zs,Bs,Os,Hs,Xs,Fs,Vs,Qs,Gs;const Ys=e=>{const t=e.target;Os=t.checked},Ks=e=>{const t=e.target;Xs=t.checked},Us=e=>{Rs=void 0,Gs=void 0,Zs=void 0,Bs=void 0,Os=void 0,Hs=void 0,Xs=void 0,Fs=void 0,Vs=void 0,Qs=void 0;e.target.reset()};function Js(e,t,n){return[function(){Zs=this.value},function(){Vs=this.value},function(){Qs=this.value},function(){Xs=this.value},function(){Os=this.value},function(){Hs=SvelteInternal.to_number(this.value)},function(){Rs=SvelteInternal.to_number(this.value)},function(){Fs=this.value}]}class ei extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,Js,Ws,SvelteInternal.safe_not_equal,{},js)}}function ti(e){SvelteInternal.append_styles(e,"svelte-zlwv6l","#drawerWrapper.svelte-zlwv6l.svelte-zlwv6l{position:absolute;width:35px;height:30px;border-radius:6px;left:10px;top:10px;border:solid 1px;z-index:10;display:flex;flex-direction:column;align-items:center;transition:1s;padding-top:10px;cursor:auto;color:var(\n\t\t\t--prop-controls-text-color,\n\t\t\tvar(--controls-text-color, var(--default-controls-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-controls-background-color,\n\t\t\tvar(--controls-background-color, var(--default-controls-background-color))\n\t\t)}#drawerWrapper.svelte-zlwv6l ul.svelte-zlwv6l{display:flex;flex-direction:column;list-style:none;width:100%;text-decoration:none;font-size:20px;overflow:hidden;transition:0.3s;padding:0;margin-top:45px}.drawerBtn.svelte-zlwv6l.svelte-zlwv6l{position:fixed;display:flex;align-items:center;justify-content:center;top:20px;left:20px;font-size:20px;cursor:pointer;padding:0.2rem 0;border:none;background:none;color:inherit}.menu.svelte-zlwv6l.svelte-zlwv6l{display:flex;justify-content:space-between}.menu.svelte-zlwv6l .dropdown.svelte-zlwv6l{padding:10px;font-size:1rem;flex-grow:1;cursor:pointer;border:none;margin:0;color:var(\n\t\t\t--prop-drawer-button-text-color,\n\t\t\tvar(--drawer-button-text-color, var(--default-drawer-button-text-color))\n\t\t);background-color:var(\n\t\t\t--prop-drawer-button-color,\n\t\t\tvar(--drawer-button-color, var(--default-drawer-button-color))\n\t\t)}.menu.svelte-zlwv6l .dropdown.svelte-zlwv6l:first-child{border-bottom:3px solid\n\t\t\tvar(\n\t\t\t\t--prop-drawer-button-text-color,\n\t\t\t\tvar(--drawer-button-text-color, var(--default-drawer-button-text-color))\n\t\t\t)}.defaultNodes.svelte-zlwv6l.svelte-zlwv6l{margin:auto;margin-top:15px;display:flex;align-items:center;justify-content:center;height:60px;width:120px;cursor:grab;border-radius:8px;background-color:var(--prop-background-color, var(--node-color, var(--default-node-color)));color:var(--prop-text-color, var(--text-color, var(--default-text-color)));box-shadow:0 0 0 var(--final-border-width) var(--final-border-color),\n\t\t\tvar(--default-node-shadow)}button.svelte-zlwv6l.svelte-zlwv6l:hover{cursor:pointer}.propsContainer.svelte-zlwv6l.svelte-zlwv6l{height:fit-content;width:fit-content;overflow:hidden;padding:0 18px;margin-top:20px}.nodeContainer.svelte-zlwv6l.svelte-zlwv6l{display:block}.edgeContainer.svelte-zlwv6l.svelte-zlwv6l{display:none}.anchorContainer.svelte-zlwv6l.svelte-zlwv6l{display:none}")}function ni(e){let t,n;const l=e[16].default,r=SvelteInternal.create_slot(l,e,e[15],null),o=r||function(e){let t,n,l,r,o,a,s,i,c,v,d,S,u,p,I,h,g,m,f,_,$,b,x,y,w,k,C,q,z;return n=new zr({props:{icon:e[0]?"south_east":"north_west"}}),I=new Lo({}),f=new Ds({}),x=new ei({}),{c(){t=SvelteInternal.element("button"),SvelteInternal.create_component(n.$$.fragment),l=SvelteInternal.space(),r=SvelteInternal.element("ul"),o=SvelteInternal.element("li"),a=SvelteInternal.element("div"),s=SvelteInternal.element("button"),s.textContent="Node",i=SvelteInternal.space(),c=SvelteInternal.element("button"),c.textContent="Anchor",v=SvelteInternal.space(),d=SvelteInternal.element("button"),d.textContent="Edge",S=SvelteInternal.space(),u=SvelteInternal.element("li"),p=SvelteInternal.element("div"),SvelteInternal.create_component(I.$$.fragment),h=SvelteInternal.space(),g=SvelteInternal.element("li"),m=SvelteInternal.element("div"),SvelteInternal.create_component(f.$$.fragment),_=SvelteInternal.space(),$=SvelteInternal.element("li"),b=SvelteInternal.element("div"),SvelteInternal.create_component(x.$$.fragment),y=SvelteInternal.space(),w=SvelteInternal.element("li"),k=SvelteInternal.element("div"),k.textContent="Node",SvelteInternal.attr(t,"class","drawerBtn svelte-zlwv6l"),SvelteInternal.attr(t,"aria-label","Open/Close Drawer"),SvelteInternal.attr(s,"class","dropdown svelte-zlwv6l"),SvelteInternal.attr(s,"aria-label","Component"),SvelteInternal.attr(c,"class","dropdown svelte-zlwv6l"),SvelteInternal.attr(c,"aria-label","Component"),SvelteInternal.attr(d,"class","dropdown svelte-zlwv6l"),SvelteInternal.attr(d,"aria-label","Component"),SvelteInternal.attr(a,"class","menu svelte-zlwv6l"),SvelteInternal.attr(o,"class","list-item"),SvelteInternal.attr(p,"class","propsContainer nodeContainer svelte-zlwv6l"),SvelteInternal.attr(u,"class","list-item"),SvelteInternal.attr(m,"class","propsContainer anchorContainer svelte-zlwv6l"),SvelteInternal.attr(g,"class","list-item"),SvelteInternal.attr(b,"class","propsContainer edgeContainer svelte-zlwv6l"),SvelteInternal.attr($,"class","list-item"),SvelteInternal.attr(k,"role","presentation"),SvelteInternal.attr(k,"class","defaultNodes svelte-zlwv6l"),SvelteInternal.attr(k,"draggable","true"),SvelteInternal.attr(w,"class","list-item"),SvelteInternal.attr(r,"class","drawerContents svelte-zlwv6l")},m(M,N){SvelteInternal.insert(M,t,N),SvelteInternal.mount_component(n,t,null),e[17](t),SvelteInternal.insert(M,l,N),SvelteInternal.insert(M,r,N),SvelteInternal.append(r,o),SvelteInternal.append(o,a),SvelteInternal.append(a,s),e[18](s),SvelteInternal.append(a,i),SvelteInternal.append(a,c),e[19](c),SvelteInternal.append(a,v),SvelteInternal.append(a,d),e[20](d),SvelteInternal.append(r,S),SvelteInternal.append(r,u),SvelteInternal.append(u,p),SvelteInternal.mount_component(I,p,null),e[21](p),SvelteInternal.append(r,h),SvelteInternal.append(r,g),SvelteInternal.append(g,m),SvelteInternal.mount_component(f,m,null),e[22](m),SvelteInternal.append(r,_),SvelteInternal.append(r,$),SvelteInternal.append($,b),SvelteInternal.mount_component(x,b,null),e[23](b),SvelteInternal.append(r,y),SvelteInternal.append(r,w),SvelteInternal.append(w,k),e[24](r),C=!0,q||(z=[SvelteInternal.listen(t,"click",e[11]),SvelteInternal.listen(s,"click",e[12]),SvelteInternal.listen(c,"click",e[13]),SvelteInternal.listen(d,"click",e[14]),SvelteInternal.listen(k,"dragstart",e[10])],q=!0)},p(e,t){const l={};1&t&&(l.icon=e[0]?"south_east":"north_west"),n.$set(l)},i(e){C||(SvelteInternal.transition_in(n.$$.fragment,e),SvelteInternal.transition_in(I.$$.fragment,e),SvelteInternal.transition_in(f.$$.fragment,e),SvelteInternal.transition_in(x.$$.fragment,e),C=!0)},o(e){SvelteInternal.transition_out(n.$$.fragment,e),SvelteInternal.transition_out(I.$$.fragment,e),SvelteInternal.transition_out(f.$$.fragment,e),SvelteInternal.transition_out(x.$$.fragment,e),C=!1},d(o){o&&(SvelteInternal.detach(t),SvelteInternal.detach(l),SvelteInternal.detach(r)),SvelteInternal.destroy_component(n),e[17](null),e[18](null),e[19](null),e[20](null),SvelteInternal.destroy_component(I),e[21](null),SvelteInternal.destroy_component(f),e[22](null),SvelteInternal.destroy_component(x),e[23](null),e[24](null),q=!1,SvelteInternal.run_all(z)}}}(e);return{c(){t=SvelteInternal.element("nav"),o&&o.c(),SvelteInternal.attr(t,"id","drawerWrapper"),SvelteInternal.attr(t,"class","svelte-zlwv6l")},m(l,r){SvelteInternal.insert(l,t,r),o&&o.m(t,null),e[25](t),n=!0},p(e,[t]){r?r.p&&(!n||32768&t)&&SvelteInternal.update_slot_base(r,l,e,e[15],n?SvelteInternal.get_slot_changes(l,e[15],t,null):SvelteInternal.get_all_dirty_from_scope(e[15]),null):o&&o.p&&(!n||1021&t)&&o.p(e,n?t:-1)},i(e){n||(SvelteInternal.transition_in(o,e),n=!0)},o(e){SvelteInternal.transition_out(o,e),n=!1},d(n){n&&SvelteInternal.detach(t),o&&o.d(n),e[25](null)}}}function li(e,t,n){let l,r,o,a,s,i,c,v,d,{$$slots:S={},$$scope:u}=t,p=!1,I=!1,h=!1,g=!1;return e.$$set=e=>{"$$scope"in e&&n(15,u=e.$$scope)},[p,l,r,o,a,s,i,c,v,d,e=>{if(!e.dataTransfer)return;e.dataTransfer.dropEffect="move";const t=ys(!0),n=function(){const e={};if(O(["width","targetColor","color","straight","step","cornerRadius","animate","label","labelColor","textColor"],[Rs,Gs,Zs,Bs,Os,Hs,Xs,Fs,Vs,Qs],e),Object.keys(e).length)return e}();((e,t)=>{const n={};O(["bgColor","borderColor","label","width","height","locked","center","inputs","outputs","rotation","zIndex","TD","LR","useDefaults"],[Io,ho,go,qo,zo,mo,fo,_o,$o,bo,xo,yo,wo,ko],n),t&&(n.anchors=t),e&&(n.edgeProps=e),po.update((e=>[...e,n]))})(n,t)},()=>{p?(n(0,p=!1),n(1,l.style.height="35px",l),n(1,l.style.width="35px",l),g=!1,h=!1,I=!1,n(7,c.style.display="block",c),n(9,d.style.display="none",d),n(8,v.style.display="none",v),n(3,o.style.borderBottom="3px solid var(--prop-drawer-button-text-color,var(--drawer-button-text-color, var(--default-drawer-button-text-color)))",o),n(4,a.style.borderBottom="none",a),n(5,s.style.borderBottom="none",s)):(n(0,p=!0),n(1,l.style.height="fit-content",l),n(1,l.style.width="300px",l))},()=>{I||(I=!0,g=!1,h=!1,n(7,c.style.display="block",c),n(9,d.style.display="none",d),n(8,v.style.display="none",v),n(3,o.style.borderBottom="3px solid var(--prop-drawer-button-text-color,var(--drawer-button-text-color, var(--default-drawer-button-text-color)))",o),n(4,a.style.borderBottom="none",a),n(5,s.style.borderBottom="none",s))},()=>{g||(g=!0,h=!1,I=!1,n(8,v.style.display="block",v),n(9,d.style.display="none",d),n(7,c.style.display="none",c),n(3,o.style.borderBottom="none",o),n(4,a.style.borderBottom="none",a),n(5,s.style.borderBottom="3px solid var(--prop-drawer-button-text-color,var(--drawer-button-text-color, var(--default-drawer-button-text-color)))",s))},()=>{h||(h=!0,I=!1,g=!1,n(9,d.style.display="block",d),n(8,v.style.display="none",v),n(7,c.style.display="none",c),n(3,o.style.borderBottom="none",o),n(4,a.style.borderBottom="3px solid var(--prop-drawer-button-text-color,var(--drawer-button-text-color, var(--default-drawer-button-text-color)))",a),n(5,s.style.borderBottom="none",s))},u,S,function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{r=e,n(2,r)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{s=e,n(5,s)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{a=e,n(4,a)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{c=e,n(7,c)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{v=e,n(8,v)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{d=e,n(9,d)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{i=e,n(6,i)}))},function(e){SvelteInternal.binding_callbacks[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class ri extends SvelteInternal.SvelteComponent{constructor(e){super(),SvelteInternal.init(this,e,li,ni,SvelteInternal.safe_not_equal,{},ti)}}var oi=Object.freeze({__proto__:null,default:ri});export{Oe as Anchor,rl as Background,ls as ColorPicker,Pr as Controls,Pa as Drawer,ue as Edge,ro as Group,vo as Knob,eo as Minimap,Kt as Node,Fa as RadioGroup,Ye as Resizer,xn as Slider,tr as Svelvet,Ya as ThemeToggle,Ra as Toggle,b as generateInput,$ as generateOutput,rs as getViewportCenter,gn as isArrow};
