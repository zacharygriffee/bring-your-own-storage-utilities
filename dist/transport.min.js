function isFunction(n){return "function"==typeof n}

function createErrorClass(r){const t=r((r=>{Error.call(r),r.stack=(new Error).stack;}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}

const UnsubscriptionError=createErrorClass((r=>function(s){r(this),this.message=s?`${s.length} errors occurred during unsubscription:\n${s.map(((r,s)=>`${s+1}) ${r.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=s;}));

function arrRemove(e,i){if(e){const n=e.indexOf(i);0<=n&&e.splice(n,1);}}

class Subscription{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null;}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:e}=this;if(isFunction(e))try{e();}catch(i){t=i instanceof UnsubscriptionError?i.errors:[i];}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{s$5(i);}catch(i){t=null!=t?t:[],i instanceof UnsubscriptionError?t=[...t,...i.errors]:t.push(i);}}if(t)throw new UnsubscriptionError(t)}}add(i){var r;if(i&&i!==this)if(this.closed)s$5(i);else {if(i instanceof Subscription){if(i.closed||i._hasParent(this))return;i._addParent(this);}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(i);}}_hasParent(i){const{_parentage:r}=this;return r===i||Array.isArray(r)&&r.includes(i)}_addParent(i){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(i),r):r?[r,i]:i;}_removeParent(i){const{_parentage:r}=this;r===i?this._parentage=null:Array.isArray(r)&&arrRemove(r,i);}remove(i){const{_finalizers:r}=this;r&&arrRemove(r,i),i instanceof Subscription&&i._removeParent(this);}}Subscription.EMPTY=(()=>{const i=new Subscription;return i.closed=!0,i})();const EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(r){return r instanceof Subscription||r&&"closed"in r&&isFunction(r.remove)&&isFunction(r.add)&&isFunction(r.unsubscribe)}function s$5(r){isFunction(r)?r():r.unsubscribe();}

const config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};

const timeoutProvider={setTimeout(e,t,...o){const{delegate:i}=timeoutProvider;return (null==i?void 0:i.setTimeout)?i.setTimeout(e,t,...o):setTimeout(e,t,...o)},clearTimeout(e){const{delegate:t}=timeoutProvider;return ((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};

function reportUnhandledError(t){timeoutProvider.setTimeout((()=>{const{onUnhandledError:o}=config;if(!o)throw t;o(t);}));}

function noop(){}

const COMPLETE_NOTIFICATION=createNotification("C",void 0,void 0);function errorNotification(t){return createNotification("E",void 0,t)}function nextNotification(t){return createNotification("N",t,void 0)}function createNotification(t,i,o){return {kind:t,value:i,error:o}}

function errorContext(e){e();}

class Subscriber extends Subscription{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,isSubscription(t)&&t.add(this)):this.destination=EMPTY_OBSERVER;}static create(t,e,r){return new SafeSubscriber(t,e,r)}next(t){this.isStopped?b$2(nextNotification(t),this):this._next(t);}error(t){this.isStopped?b$2(errorNotification(t),this):(this.isStopped=!0,this._error(t));}complete(){this.isStopped?b$2(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete());}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null);}_next(t){this.destination.next(t);}_error(t){try{this.destination.error(t);}finally{this.unsubscribe();}}_complete(){try{this.destination.complete();}finally{this.unsubscribe();}}}const a$5=Function.prototype.bind;function h$5(t,e){return a$5.call(t,e)}let d$3 = class d{constructor(t){this.partialObserver=t;}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t);}catch(t){m$6(t);}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t);}catch(t){m$6(t);}else m$6(t);}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete();}catch(t){m$6(t);}}};class SafeSubscriber extends Subscriber{constructor(e,r,o){let s;if(super(),isFunction(e)||!e)s={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=o?o:void 0};else {let t;this&&config.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&h$5(e.next,t),error:e.error&&h$5(e.error,t),complete:e.complete&&h$5(e.complete,t)}):s=e;}this.destination=new d$3(s);}}function m$6(t){reportUnhandledError(t);}function b$2(t,e){const{onStoppedNotification:r}=config;r&&timeoutProvider.setTimeout((()=>r(t,e)));}const EMPTY_OBSERVER={closed:!0,next:noop,error:function(t){throw t},complete:noop};

const observable="function"==typeof Symbol&&Symbol.observable||"@@observable";

function identity(t){return t}

function pipeFromArray(e){return 0===e.length?identity:1===e.length?e[0]:function(r){return e.reduce(((r,e)=>e(r)),r)}}

class Observable{constructor(r){r&&(this._subscribe=r);}lift(r){const e=new Observable;return e.source=this,e.operator=r,e}subscribe(s,o,i){const c=(u=s)&&u instanceof Subscriber||function(r){return r&&isFunction(r.next)&&isFunction(r.error)&&isFunction(r.complete)}(u)&&isSubscription(u)?s:new SafeSubscriber(s,o,i);var u;return errorContext((()=>{const{operator:r,source:e}=this;c.add(r?r.call(c,e):e?this._subscribe(c):this._trySubscribe(c));})),c}_trySubscribe(r){try{return this._subscribe(r)}catch(e){r.error(e);}}forEach(e,t){return new(t=c$4(t))(((t,s)=>{const o=new SafeSubscriber({next:r=>{try{e(r);}catch(r){s(r),o.unsubscribe();}},error:s,complete:t});this.subscribe(o);}))}_subscribe(r){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(r)}[observable](){return this}pipe(...r){return pipeFromArray(r)(this)}toPromise(r){return new(r=c$4(r))(((r,e)=>{let t;this.subscribe((r=>t=r),(r=>e(r)),(()=>r(t)));}))}}function c$4(r){var e;return null!==(e=null!=r?r:config.Promise)&&void 0!==e?e:Promise}Observable.create=r=>new Observable(r);

function hasLift(r){return isFunction(null==r?void 0:r.lift)}function operate(t){return r=>{if(hasLift(r))return r.lift((function(r){try{return t(r,this)}catch(t){this.error(t);}}));throw new TypeError("Unable to lift unknown Observable type")}}

function createOperatorSubscriber(r,s,e,t,i){return new OperatorSubscriber(r,s,e,t,i)}class OperatorSubscriber extends Subscriber{constructor(r,s,e,t,i,c){super(r),this.onFinalize=i,this.shouldUnsubscribe=c,this._next=s?function(e){try{s(e);}catch(s){r.error(s);}}:super._next,this._error=t?function(s){try{t(s);}catch(s){r.error(s);}finally{this.unsubscribe();}}:super._error,this._complete=e?function(){try{e();}catch(s){r.error(s);}finally{this.unsubscribe();}}:super._complete;}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:s}=this;super.unsubscribe(),!s&&(null===(r=this.onFinalize)||void 0===r||r.call(this));}}}

function refCount(){return operate(((o,r)=>{let t=null;o._refCount++;const u=createOperatorSubscriber(r,void 0,void 0,void 0,(()=>{if(!o||o._refCount<=0||0<--o._refCount)return void(t=null);const n=o._connection,u=t;t=null,!n||u&&n!==u||n.unsubscribe(),r.unsubscribe();}));o.subscribe(u),u.closed||(t=o.connect());}))}

class ConnectableObservable extends Observable{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,hasLift(t)&&(this.lift=t.lift);}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe();}connect(){let t=this._connection;if(!t){t=this._connection=new Subscription;const s=this.getSubject();t.add(this.source.subscribe(createOperatorSubscriber(s,void 0,(()=>{this._teardown(),s.complete();}),(t=>{this._teardown(),s.error(t);}),(()=>this._teardown())))),t.closed&&(this._connection=null,t=Subscription.EMPTY);}return t}refCount(){return refCount()(this)}}

const animationFrameProvider={schedule(n){let a=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:r}=animationFrameProvider;r&&(a=r.requestAnimationFrame,i=r.cancelAnimationFrame);const t=a((e=>{i=void 0,n(e);}));return new Subscription((()=>null==i?void 0:i(t)))},requestAnimationFrame(...e){const{delegate:n}=animationFrameProvider;return ((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=animationFrameProvider;return ((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0};

const ObjectUnsubscribedError=createErrorClass((r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed";}));

class Subject extends Observable{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null;}lift(r){const s=new AnonymousSubject(this,this);return s.operator=r,s}_throwIfClosed(){if(this.closed)throw new ObjectUnsubscribedError}next(r){errorContext((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(r);}}));}error(r){errorContext((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:s}=this;for(;s.length;)s.shift().error(r);}}));}complete(){errorContext((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete();}}));}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null;}get observed(){var r;return (null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:e,isStopped:i,observers:n}=this;return e||i?EMPTY_SUBSCRIPTION:(this.currentObservers=null,n.push(r),new Subscription((()=>{this.currentObservers=null,arrRemove(n,r);})))}_checkFinalizedStatuses(r){const{hasError:s,thrownError:t,isStopped:e}=this;s?r.error(t):e&&r.complete();}asObservable(){const s=new Observable;return s.source=this,s}}Subject.create=(r,s)=>new AnonymousSubject(r,s);class AnonymousSubject extends Subject{constructor(r,s){super(),this.destination=r,this.source=s;}next(r){var s,t;null===(t=null===(s=this.destination)||void 0===s?void 0:s.next)||void 0===t||t.call(s,r);}error(r){var s,t;null===(t=null===(s=this.destination)||void 0===s?void 0:s.error)||void 0===t||t.call(s,r);}complete(){var r,s;null===(s=null===(r=this.destination)||void 0===r?void 0:r.complete)||void 0===s||s.call(r);}_subscribe(r){var s,e;return null!==(e=null===(s=this.source)||void 0===s?void 0:s.subscribe(r))&&void 0!==e?e:EMPTY_SUBSCRIPTION}}

const dateTimestampProvider={now:()=>(dateTimestampProvider.delegate||Date).now(),delegate:void 0};

class ReplaySubject extends Subject{constructor(i=1/0,t=1/0,s=dateTimestampProvider){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t);}next(i){const{isStopped:e,_buffer:t,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:n}=this;e||(t.push(i),!s&&t.push(r.now()+n)),this._trimBuffer(),super.next(i);}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(i),{_infiniteTimeWindow:t,_buffer:s}=this,r=s.slice();for(let e=0;e<r.length&&!i.closed;e+=t?1:2)i.next(r[e]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){const{_bufferSize:i,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:s}=this,r=(s?1:2)*i;if(i<1/0&&r<t.length&&t.splice(0,t.length-r),!s){const i=e.now();let s=0;for(let e=1;e<t.length&&t[e]<=i;e+=2)s=e;s&&t.splice(0,s+1);}}}

class Action extends Subscription{constructor(r,t){super();}schedule(r,t=0){return this}}

const intervalProvider={setInterval(e,r,...t){const{delegate:l}=intervalProvider;return (null==l?void 0:l.setInterval)?l.setInterval(e,r,...t):setInterval(e,r,...t)},clearInterval(e){const{delegate:r}=intervalProvider;return ((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0};

class AsyncAction extends Action{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1;}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,i,s=0){return intervalProvider.setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,i,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return i;null!=i&&intervalProvider.clearInterval(i);}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null));}_execute(t,e){let i,s=!1;try{this.work(t);}catch(t){s=!0,i=t||new Error("Scheduled action threw falsy error");}if(s)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:s}=e;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(s,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe();}}}

let e$c,t$6=1;const n$a={};function o$a(e){return e in n$a&&(delete n$a[e],!0)}const Immediate={setImmediate(s){const r=t$6++;return n$a[r]=!0,e$c||(e$c=Promise.resolve()),e$c.then((()=>o$a(r)&&s())),r},clearImmediate(e){o$a(e);}};

const{setImmediate:t$5,clearImmediate:m$5}=Immediate;const immediateProvider={setImmediate(...e){const{delegate:m}=immediateProvider;return ((null==m?void 0:m.setImmediate)||t$5)(...e)},clearImmediate(e){const{delegate:t}=immediateProvider;return ((null==t?void 0:t.clearImmediate)||m$5)(e)},delegate:void 0};

class AsapAction extends AsyncAction{constructor(e,s){super(e,s),this.scheduler=e,this.work=s;}requestAsyncId(e,d,r=0){return null!==r&&r>0?super.requestAsyncId(e,d,r):(e.actions.push(this),e._scheduled||(e._scheduled=immediateProvider.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,d,r=0){var t;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,d,r);const{actions:c}=e;null!=d&&(null===(t=c[c.length-1])||void 0===t?void 0:t.id)!==d&&(immediateProvider.clearImmediate(d),e._scheduled===d&&(e._scheduled=void 0));}}

class Scheduler{constructor(e,r=Scheduler.now){this.schedulerActionCtor=e,this.now=r;}schedule(e,r=0,t){return new this.schedulerActionCtor(this,e).schedule(t,r)}}Scheduler.now=dateTimestampProvider.now;

class AsyncScheduler extends Scheduler{constructor(e,s=Scheduler.now){super(e,s),this.actions=[],this._active=!1;}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let s;this._active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}

class AsapScheduler extends AsyncScheduler{flush(e){this._active=!0;const s=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let i;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=t[0])&&e.id===s&&t.shift());if(this._active=!1,i){for(;(e=t[0])&&e.id===s&&t.shift();)e.unsubscribe();throw i}}}

const asapScheduler=new AsapScheduler(AsapAction);

const asyncScheduler=new AsyncScheduler(AsyncAction);const async=asyncScheduler;

class QueueAction extends AsyncAction{constructor(e,s){super(e,s),this.scheduler=e,this.work=s;}schedule(e,s=0){return s>0?super.schedule(e,s):(this.delay=s,this.state=e,this.scheduler.flush(this),this)}execute(e,s){return s>0||this.closed?super.execute(e,s):this._execute(e,s)}requestAsyncId(e,s,t=0){return null!=t&&t>0||null==t&&this.delay>0?super.requestAsyncId(e,s,t):(e.flush(this),0)}}

class QueueScheduler extends AsyncScheduler{}

new QueueScheduler(QueueAction);

class AnimationFrameAction extends AsyncAction{constructor(e,n){super(e,n),this.scheduler=e,this.work=n;}requestAsyncId(e,r,s=0){return null!==s&&s>0?super.requestAsyncId(e,r,s):(e.actions.push(this),e._scheduled||(e._scheduled=animationFrameProvider.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,r,s=0){var i;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(e,r,s);const{actions:t}=e;null!=r&&(null===(i=t[t.length-1])||void 0===i?void 0:i.id)!==r&&(animationFrameProvider.cancelAnimationFrame(r),e._scheduled=void 0);}}

class AnimationFrameScheduler extends AsyncScheduler{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}}}

new AnimationFrameScheduler(AnimationFrameAction);

class VirtualTimeScheduler extends AsyncScheduler{constructor(e=VirtualAction,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1;}flush(){const{actions:e,maxFrames:t}=this;let i,s;for(;(s=e[0])&&s.delay<=t&&(e.shift(),this.frame=s.delay,!(i=s.execute(s.state,s.delay))););if(i){for(;s=e.shift();)s.unsubscribe();throw i}}}VirtualTimeScheduler.frameTimeFactor=10;class VirtualAction extends AsyncAction{constructor(e,t,i=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=i,this.active=!0,this.index=e.index=i;}schedule(e,i=0){if(Number.isFinite(i)){if(!this.id)return super.schedule(e,i);this.active=!1;const t=new VirtualAction(this.scheduler,this.work);return this.add(t),t.schedule(e,i)}return Subscription.EMPTY}requestAsyncId(e,t,i=0){this.delay=e.frame+i;const{actions:s}=e;return s.push(this),s.sort(VirtualAction.sortActions),1}recycleAsyncId(e,t,i=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}

const EMPTY=new Observable((e=>e.complete()));

function isScheduler(r){return r&&isFunction(r.schedule)}

function e$b(o){return o[o.length-1]}function popResultSelector(r){return isFunction(e$b(r))?r.pop():void 0}function popScheduler(o){return isScheduler(e$b(o))?o.pop():void 0}function popNumber(o,r){return "number"==typeof e$b(o)?o.pop():r}

function __awaiter(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{s(n.next(e));}catch(e){a(e);}}function c(e){try{s(n.throw(e));}catch(e){a(e);}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t);}))).then(i,c);}s((n=n.apply(e,t||[])).next());}))}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return {next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||c(e,t);}))});}function c(e,t){try{(r=o[e](t)).value instanceof __await?Promise.resolve(r.value.v).then(s,u):l(a[0][2],r);}catch(e){l(a[0][3],e);}var r;}function s(e){c("next",e);}function u(e){c("throw",e);}function l(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1]);}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r});}),t);})(n,o,(t=e[r](t)).done,t.value);}))};}}"function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};

const isArrayLike=e=>e&&"number"==typeof e.length&&"function"!=typeof e;

function isPromise(n){return isFunction(null==n?void 0:n.then)}

function isInteropObservable(e){return isFunction(e[observable])}

function isAsyncIterable(r){return Symbol.asyncIterator&&isFunction(null==r?void 0:r[Symbol.asyncIterator])}

function createInvalidObservableTypeError(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}

function getSymbolIterator(){return "function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const iterator=getSymbolIterator();

function isIterable(t){return isFunction(null==t?void 0:t[iterator])}

function readableStreamLikeToAsyncGenerator(t){return __asyncGenerator(this,arguments,(function*(){const e=t.getReader();try{for(;;){const{value:t,done:i}=yield __await(e.read());if(i)return yield __await(void 0);yield yield __await(t);}}finally{e.releaseLock();}}))}function isReadableStreamLike(e){return isFunction(null==e?void 0:e.getReader)}

function innerFrom(r){if(r instanceof Observable)return r;if(null!=r){if(isInteropObservable(r))return fromInteropObservable(r);if(isArrayLike(r))return fromArrayLike(r);if(isPromise(r))return fromPromise(r);if(isAsyncIterable(r))return fromAsyncIterable(r);if(isIterable(r))return fromIterable(r);if(isReadableStreamLike(r))return fromReadableStreamLike(r)}throw createInvalidObservableTypeError(r)}function fromInteropObservable(r){return new Observable((e=>{const o=r[observable]();if(isFunction(o.subscribe))return o.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function fromArrayLike(r){return new Observable((e=>{for(let o=0;o<r.length&&!e.closed;o++)e.next(r[o]);e.complete();}))}function fromPromise(r){return new Observable((e=>{r.then((r=>{e.closed||(e.next(r),e.complete());}),(r=>e.error(r))).then(null,reportUnhandledError);}))}function fromIterable(r){return new Observable((e=>{for(const o of r)if(e.next(o),e.closed)return;e.complete();}))}function fromAsyncIterable(o){return new Observable((t=>{(function(o,t){var n,i,l,f;return __awaiter(this,void 0,void 0,(function*(){try{for(n=__asyncValues(o);!(i=yield n.next()).done;){const r=i.value;if(t.next(r),t.closed)return}}catch(r){l={error:r};}finally{try{i&&!i.done&&(f=n.return)&&(yield f.call(n));}finally{if(l)throw l.error}}t.complete();}))})(o,t).catch((r=>t.error(r)));}))}function fromReadableStreamLike(r){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(r))}

function executeSchedule(e,u,c,n=0,t=!1){const d=u.schedule((function(){c(),t?e.add(this.schedule(null,n)):this.unsubscribe();}),n);if(e.add(d),!t)return d}

function observeOn(o,i=0){return operate(((e,u)=>{e.subscribe(createOperatorSubscriber(u,(e=>executeSchedule(u,o,(()=>u.next(e)),i)),(()=>executeSchedule(u,o,(()=>u.complete()),i)),(e=>executeSchedule(u,o,(()=>u.error(e)),i))));}))}

function subscribeOn(e,i=0){return operate(((r,t)=>{t.add(e.schedule((()=>r.subscribe(t)),i));}))}

function scheduleObservable(p,s){return innerFrom(p).pipe(subscribeOn(s),observeOn(s))}

function schedulePromise(i,m){return innerFrom(i).pipe(subscribeOn(m),observeOn(m))}

function scheduleArray(t,r){return new Observable((e=>{let n=0;return r.schedule((function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule());}))}))}

function scheduleIterable(n,u){return new Observable((e=>{let i;return executeSchedule(e,u,(()=>{i=n[iterator](),executeSchedule(e,u,(()=>{let r,t;try{({value:r,done:t}=i.next());}catch(r){return void e.error(r)}t?e.complete():e.next(r);}),0,!0);})),()=>isFunction(null==i?void 0:i.return)&&i.return()}))}

function scheduleAsyncIterable(r,n){if(!r)throw new Error("Iterable cannot be null");return new Observable((e=>{executeSchedule(e,n,(()=>{const o=r[Symbol.asyncIterator]();executeSchedule(e,n,(()=>{o.next().then((t=>{t.done?e.complete():e.next(t.value);}));}),0,!0);}));}))}

function scheduleReadableStreamLike(t,a){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(t),a)}

function scheduled(b,c){if(null!=b){if(isInteropObservable(b))return scheduleObservable(b,c);if(isArrayLike(b))return scheduleArray(b,c);if(isPromise(b))return schedulePromise(b,c);if(isAsyncIterable(b))return scheduleAsyncIterable(b,c);if(isIterable(b))return scheduleIterable(b,c);if(isReadableStreamLike(b))return scheduleReadableStreamLike(b,c)}throw createInvalidObservableTypeError(b)}

function from(e,m){return m?scheduled(e,m):innerFrom(e)}

function of(...t){const f=popScheduler(t);return from(t,f)}

function throwError(t,e){const n=isFunction(t)?t:()=>t,i=r=>r.error(n());return new Observable(e?r=>e.schedule(i,0,r):i)}

var NotificationKind;!function(i){i.NEXT="N",i.ERROR="E",i.COMPLETE="C";}(NotificationKind||(NotificationKind={}));class Notification{constructor(i,t,o){this.kind=i,this.value=t,this.error=o,this.hasValue="N"===i;}observe(i){return observeNotification(this,i)}do(i,t,o){const{kind:r,value:e,error:n}=this;return "N"===r?null==i?void 0:i(e):"E"===r?null==t?void 0:t(n):null==o?void 0:o()}accept(i,t,o){var e;return isFunction(null===(e=i)||void 0===e?void 0:e.next)?this.observe(i):this.do(i,t,o)}toObservable(){const{kind:r,value:e,error:n}=this,a="N"===r?of(e):"E"===r?throwError((()=>n)):"C"===r?EMPTY:0;if(!a)throw new TypeError(`Unexpected notification kind ${r}`);return a}static createNext(i){return new Notification("N",i)}static createError(i){return new Notification("E",void 0,i)}static createComplete(){return Notification.completeNotification}}Notification.completeNotification=new Notification("C");function observeNotification(i,t){var o,r,e;const{kind:n,value:a,error:c}=i;if("string"!=typeof n)throw new TypeError('Invalid notification, missing "kind"');"N"===n?null===(o=t.next)||void 0===o||o.call(t,a):"E"===n?null===(r=t.error)||void 0===r||r.call(t,c):null===(e=t.complete)||void 0===e||e.call(t);}

const EmptyError=createErrorClass((r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence";}));

createErrorClass((r=>function(){r(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range";}));

createErrorClass((r=>function(o){r(this),this.name="NotFoundError",this.message=o;}));

createErrorClass((r=>function(e){r(this),this.name="SequenceError",this.message=e;}));

function isValidDate(t){return t instanceof Date&&!isNaN(t)}

createErrorClass((r=>function(e=null){r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e;}));

function map(e,i){return operate(((r,o)=>{let l=0;r.subscribe(createOperatorSubscriber(o,(r=>{o.next(e.call(i,r,l++));})));}))}

function mergeInternals(o,n,l,c,i,s,u,m){const b=[];let f=0,p=0,h=!1;const a=()=>{!h||b.length||f||n.complete();},x=e=>f<c?g(e):b.push(e),g=o=>{s&&n.next(o),f++;let m=!1;innerFrom(l(o,p++)).subscribe(createOperatorSubscriber(n,(e=>{null==i||i(e),s?x(e):n.next(e);}),(()=>{m=!0;}),void 0,(()=>{if(m)try{for(f--;b.length&&f<c;){const e=b.shift();u?executeSchedule(n,u,(()=>g(e))):g(e);}a();}catch(e){n.error(e);}})));};return o.subscribe(createOperatorSubscriber(n,x,(()=>{h=!0,a();}))),()=>{null==m||m();}}

function mergeMap(i,n,p=1/0){return isFunction(n)?mergeMap(((o,e)=>map(((r,m)=>n(o,r,e,m)))(innerFrom(i(o,e)))),p):("number"==typeof n&&(p=n),operate(((r,m)=>mergeInternals(r,m,i,p))))}

function mergeAll(e=1/0){return mergeMap(identity,e)}

function concatAll(){return mergeAll(1)}

function concat(...m){return concatAll()(from(m,popScheduler(m)))}

function defer(o){return new Observable((r=>{innerFrom(o()).subscribe(r);}))}

function timer(l=0,i,n=async){let s=-1;return null!=i&&(isScheduler(i)?n=i:s=i),new Observable((e=>{let t=isValidDate(l)?+l-n.now():l;t<0&&(t=0);let r=0;return n.schedule((function(){e.closed||(e.next(r++),0<=s?this.schedule(void 0,s):e.complete());}),t)}))}

function merge(...n){const p=popScheduler(n),f=popNumber(n,1/0),g=n;return g.length?1===g.length?innerFrom(g[0]):mergeAll(f)(from(g,p)):EMPTY}

const NEVER=new Observable(noop);

const{isArray:r$8}=Array;function argsOrArgArray(n){return 1===n.length&&r$8(n[0])?n[0]:n}

function filter(e,i){return operate(((r,o)=>{let l=0;r.subscribe(createOperatorSubscriber(o,(r=>e.call(i,r,l++)&&o.next(r))));}))}

function race(...o){return 1===(o=argsOrArgArray(o)).length?innerFrom(o[0]):new Observable(raceInit(o))}function raceInit(r){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<r.length;i++)n.push(innerFrom(r[i]).subscribe(createOperatorSubscriber(t,(r=>{if(n){for(let r=0;r<n.length;r++)r!==i&&n[r].unsubscribe();n=null;}t.next(r);}))));}}

function using(o,t){return new Observable((r=>{const i=o(),m=t(i);return (m?innerFrom(m):EMPTY).subscribe(r),()=>{i&&i.unsubscribe();}}))}

function buffer(i){return operate(((r,n)=>{let u=[];return r.subscribe(createOperatorSubscriber(n,(r=>u.push(r)),(()=>{n.next(u),n.complete();}))),innerFrom(i).subscribe(createOperatorSubscriber(n,(()=>{const r=u;u=[],n.next(r);}),noop)),()=>{u=null;}}))}

function bufferToggle(n,m){return operate(((o,u)=>{const b=[];innerFrom(n).subscribe(createOperatorSubscriber(u,(o=>{const n=[];b.push(n);const f=new Subscription;f.add(innerFrom(m(o)).subscribe(createOperatorSubscriber(u,(()=>{arrRemove(b,n),u.next(n),f.unsubscribe();}),noop)));}),noop)),o.subscribe(createOperatorSubscriber(u,(r=>{for(const o of b)o.push(r);}),(()=>{for(;b.length>0;)u.next(b.shift());u.complete();})));}))}

function bufferWhen(t){return operate(((r,l)=>{let u=null,i=null;const b=()=>{null==i||i.unsubscribe();const r=u;u=[],r&&l.next(r),innerFrom(t()).subscribe(i=createOperatorSubscriber(l,b,noop));};b(),r.subscribe(createOperatorSubscriber(l,(r=>null==u?void 0:u.push(r)),(()=>{u&&l.next(u),l.complete();}),void 0,(()=>u=i=null)));}))}

function scanInternals(r,t,n,o,c){return (s,b)=>{let i=n,p=t,u=0;s.subscribe(createOperatorSubscriber(b,(e=>{const t=u++;p=i?r(p,e,t):(i=!0,e),o&&b.next(p);}),c&&(()=>{i&&b.next(p),b.complete();})));}}

function reduce(n,e){return operate(scanInternals(n,e,arguments.length>=2,!1,!0))}

const o$9=(r,t)=>(r.push(t),r);function toArray(){return operate(((t,i)=>{reduce(o$9,[])(t).subscribe(i);}))}

function concatMap(t,i){return isFunction(i)?mergeMap(t,i,1):mergeMap(t,1)}

function fromSubscribable(b){return new Observable((r=>b.subscribe(r)))}

const n$9={connector:()=>new Subject};function connect(o,c=n$9){const{connector:b}=c;return operate(((t,n)=>{const c=b();innerFrom(o(fromSubscribable(c))).subscribe(n),n.add(t.subscribe(c));}))}

function debounceTime(l,u=asyncScheduler){return operate(((n,e)=>{let r=null,t=null,i=null;const c=()=>{if(r){r.unsubscribe(),r=null;const n=t;t=null,e.next(n);}};function s(){const n=i+l,o=u.now();if(o<n)return r=this.schedule(void 0,n-o),void e.add(r);c();}n.subscribe(createOperatorSubscriber(e,(n=>{t=n,i=u.now(),r||(r=u.schedule(s,l),e.add(r));}),(()=>{c(),e.complete();}),void 0,(()=>{t=r=null;})));}))}

function defaultIfEmpty(e){return operate(((t,o)=>{let i=!1;t.subscribe(createOperatorSubscriber(o,(t=>{i=!0,o.next(t);}),(()=>{i||o.next(e),o.complete();})));}))}

function take(o){return o<=0?()=>EMPTY:operate(((r,t)=>{let i=0;r.subscribe(createOperatorSubscriber(t,(r=>{++i<=o&&(t.next(r),o<=i&&t.complete());})));}))}

function ignoreElements(){return operate(((r,i)=>{r.subscribe(createOperatorSubscriber(i,noop));}))}

function mapTo(r){return map((()=>r))}

function delayWhen(t,n){return n?m=>concat(n.pipe(take(1),ignoreElements()),m.pipe(delayWhen(t))):mergeMap(((r,o)=>innerFrom(t(r,o)).pipe(take(1),mapTo(r))))}

function delay(t,m=asyncScheduler){const n=timer(t,m);return delayWhen((()=>n))}

function dematerialize(){return operate(((i,o)=>{i.subscribe(createOperatorSubscriber(o,(i=>observeNotification(i,o))));}))}

function distinctUntilChanged(o,e=identity){return o=null!=o?o:n$8,operate(((t,r)=>{let n,u=!0;t.subscribe(createOperatorSubscriber(r,(t=>{const i=e(t);!u&&o(n,i)||(u=!1,n=i,r.next(t));})));}))}function n$8(t,r){return t===r}

function throwIfEmpty(r=e$a){return operate(((t,e)=>{let i=!1;t.subscribe(createOperatorSubscriber(e,(r=>{i=!0,e.next(r);}),(()=>i?e.complete():e.error(r()))));}))}function e$a(){return new EmptyError}

function exhaustMap(t,i){return i?o=>o.pipe(exhaustMap(((o,p)=>innerFrom(t(o,p)).pipe(map(((r,e)=>i(o,r,p,e))))))):operate(((r,o)=>{let i=0,m=null,l=!1;r.subscribe(createOperatorSubscriber(o,(r=>{m||(m=createOperatorSubscriber(o,void 0,(()=>{m=null,l&&o.complete();})),innerFrom(t(r,i++)).subscribe(m));}),(()=>{l=!0,!m&&o.complete();})));}))}

function finalize(r){return operate(((i,t)=>{try{i.subscribe(t);}finally{t.add(r);}}))}

function first(p,e){const n=arguments.length>=2;return l=>l.pipe(p?filter(((t,r)=>p(t,r,l))):identity,take(1),n?defaultIfEmpty(e):throwIfEmpty((()=>new EmptyError)))}

function isEmpty(){return operate(((t,e)=>{t.subscribe(createOperatorSubscriber(e,(()=>{e.next(!1),e.complete();}),(()=>{e.next(!0),e.complete();})));}))}

function takeLast(e){return e<=0?()=>EMPTY:operate(((t,r)=>{let i=[];t.subscribe(createOperatorSubscriber(r,(t=>{i.push(t),e<i.length&&i.shift();}),(()=>{for(const t of i)r.next(t);r.complete();}),void 0,(()=>{i=null;})));}))}

function last(f,e){const n=arguments.length>=2;return l=>l.pipe(f?filter(((t,r)=>f(t,r,l))):identity,takeLast(1),n?defaultIfEmpty(e):throwIfEmpty((()=>new EmptyError)))}

function materialize(){return operate(((t,o)=>{t.subscribe(createOperatorSubscriber(o,(t=>{o.next(Notification.createNext(t));}),(()=>{o.next(Notification.createComplete()),o.complete();}),(t=>{o.next(Notification.createError(t)),o.complete();})));}))}

function mergeMapTo(e,t,m=1/0){return isFunction(t)?mergeMap((()=>e),t,m):("number"==typeof t&&(m=t),mergeMap((()=>e),m))}

function multicast(r,e){const c=isFunction(r)?r:()=>r;return isFunction(e)?connect(e,{connector:c}):t=>new ConnectableObservable(t,c)}

function pairwise(){return operate(((r,i)=>{let e,o=!1;r.subscribe(createOperatorSubscriber(i,(r=>{const t=e;e=r,o&&i.next([t,r]),o=!0;})));}))}

function pluck(...t){const o=t.length;if(0===o)throw new Error("list of properties cannot be empty.");return map((r=>{let e=r;for(let r=0;r<o;r++){const o=null==e?void 0:e[t[r]];if(void 0===o)return;e=o;}return e}))}

function publish(m){return m?t=>connect(m)(t):r=>multicast(new Subject)(r)}

function publishReplay(r,m,n,p){n&&!isFunction(n)&&(p=n);const u=isFunction(n)?n:void 0;return i=>multicast(new ReplaySubject(r,m,p),u)(i)}

function scan(r,o){return operate(scanInternals(r,o,arguments.length>=2,!0))}

function skip(t){return filter(((r,i)=>t<=i))}

function startWith(...i){const m=popScheduler(i);return operate(((r,o)=>{(m?concat(i,r,m):concat(i,r)).subscribe(o);}))}

function switchMap(o,i){return operate(((t,l)=>{let n=null,s=0,u=!1;const b=()=>u&&!n&&l.complete();t.subscribe(createOperatorSubscriber(l,(t=>{null==n||n.unsubscribe();let u=0;const c=s++;innerFrom(o(t,c)).subscribe(n=createOperatorSubscriber(l,(r=>l.next(i?i(t,r,c,u++):r)),(()=>{n=null,b();})));}),(()=>{u=!0,b();})));}))}

function takeUntil(i){return operate(((r,m)=>{innerFrom(i).subscribe(createOperatorSubscriber(m,(()=>m.complete()),noop)),!m.closed&&r.subscribe(m);}))}

function takeWhile(e,o=!1){return operate(((t,i)=>{let c=0;t.subscribe(createOperatorSubscriber(i,(t=>{const r=e(t,c++);(r||o)&&i.next(t),!r&&i.complete();})));}))}

function tap(t,e,n){const u=isFunction(t)||e||n?{next:t,error:e,complete:n}:t;return u?operate(((l,r)=>{var o;null===(o=u.subscribe)||void 0===o||o.call(u);let t=!0;l.subscribe(createOperatorSubscriber(r,(l=>{var i;null===(i=u.next)||void 0===i||i.call(u,l),r.next(l);}),(()=>{var l;t=!1,null===(l=u.complete)||void 0===l||l.call(u),r.complete();}),(l=>{var i;t=!1,null===(i=u.error)||void 0===i||i.call(u,l),r.error(l);}),(()=>{var l,r;t&&(null===(l=u.unsubscribe)||void 0===l||l.call(u)),null===(r=u.finalize)||void 0===r||r.call(u);})));})):identity}

function withLatestFrom(...n){const l=popResultSelector(n);return operate(((r,m)=>{const s=n.length,f=new Array(s);let p=n.map((()=>!1)),u=!1;for(let r=0;r<s;r++)innerFrom(n[r]).subscribe(createOperatorSubscriber(m,(t=>{f[r]=t,u||p[r]||(p[r]=!0,(u=p.every(identity))&&(p=null));}),noop));r.subscribe(createOperatorSubscriber(m,(r=>{if(u){const t=[r,...f];m.next(l?l(...t):t);}})));}))}

function ze(e){return Boolean(e&&"function"==typeof e.schedule)}const Pe=Subscriber.prototype._complete,De=Subscriber.prototype._error,Ke=Subscriber.prototype._next;class Ge extends Subscriber{constructor(e,t){super(e);const{complete:n,error:r,next:s}=t;this._complete=n?()=>{try{n();}catch(t){e.error(t);}this.unsubscribe();}:Pe,this._error=r?t=>{try{r(t);}catch(t){e.error(t);}this.unsubscribe();}:De,this._next=s?t=>{try{s(t);}catch(t){e.error(t);}}:Ke;}}function ct$1(e,t,n=(()=>new Subject)){return r=>r.lift(new ot$1(e,t,n))}let ot$1 = class ot{constructor(e,t,n){this.count=e,this.hashSelector=t,this.subjectSelector=n;}call(e,t){return t.subscribe(new ut$1(e,this.count,this.hashSelector,this.subjectSelector))}};let ut$1 = class ut extends Subscriber{constructor(e,t,n,r){super(e),this.count=t,this.hashSelector=n,this.subjectSelector=r,this.index=0;const s=this.buckets=new Array(t);for(let e=0;e<t;++e)s[e]=r();e.next(s.map((e=>e.asObservable())));}_next(e){const{buckets:t,closed:n,count:r,hashSelector:s}=this;if(n)return;let i;try{const t=s(e,this.index++);i=Math.abs(Math.floor(t))%r;}catch(e){return void this.error(e)}t[i].next(e);}_error(e){const{buckets:t,closed:n,destination:r}=this;n||(t.forEach((t=>t.error(e))),r.error(e));}_complete(){const{buckets:e,closed:t,destination:n}=this;t||(e.forEach((e=>e.complete())),n.complete());}};function at$1(e){return t=>t.pipe(publish((t=>merge(t,t.pipe(isEmpty(),mergeMap((t=>t?e:EMPTY)))))))}function pt$1(...e){let t=e[e.length-1];return ze(t)?e.pop():t=null,n=>concat(n,from(e,t))}function lt$1(e,t){let n;return "number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(publish((e=>concat(e.pipe(take(n)),e.pipe(t)))))}const bt=at$1,dt$1=at$1;let ft$1 = class ft{constructor(e){this.callback=e;}call(e,t){return t.subscribe(new ht$1(e,this.callback))}};let ht$1 = class ht extends Subscriber{constructor(e,t){super(e),this.callback=t,this.kind="U",this.subscription=void 0;}complete(){this.kind="C",this.defer((()=>super.complete()));}error(e){this.kind="E",this.defer((()=>super.error(e)));}unsubscribe(){this.defer((()=>super.unsubscribe()));}defer(e){if(this.subscription)return void this.subscription.add(e);const t=new Subscription;this.subscription=t,t.add(e);const n=this.callback(this.kind);from(n).pipe(finalize((()=>t.unsubscribe()))).subscribe();}};let mt$1 = class mt{constructor(e){this.callback=e;}call(e,t){const n=t.subscribe(e);return n.add(this.callback),n}};function yt(e){return t=>defer((()=>{let n="U";return t.pipe(tap({complete:()=>n="C",error:()=>n="E"}),finalize((()=>e(n))))}))}function wt(e){return t=>t.lift(new vt(e))}const xt$1=wt;class vt{constructor(e){this.callback=e;}call(e,t){return t.subscribe(new gt(e,this.callback))}}class gt extends Subscriber{constructor(e,t){super(e),this.add(new Subscription((()=>t(this.notification))));}complete(){this.notification=new Notification("C"),super.complete();}error(e){this.notification=new Notification("E",void 0,e),super.error(e);}}function kt(t,n=asapScheduler){return e=>{const r=e;let s=null,i=null;const c=new Subject,o=c.pipe(scan(((e,t)=>e+t),0),switchMap((e=>0===e?timer(t,n).pipe(tap((()=>{s&&(s.unsubscribe(),s=null),i&&(i.unsubscribe(),i=null);}))):!s&&e>0?timer(0,n).pipe(tap((()=>{s||(s=r.connect());}))):NEVER)));return using((()=>(i||(i=o.subscribe()),c.next(1),{unsubscribe:()=>c.next(-1)})),(()=>e))}}const Et=kt;class Ot{constructor(e,t){this.scheduler=e,this.delay=t;}call(e,t){return t.subscribe(new St$1(e,this.scheduler,this.delay))}}let St$1 = class St extends Subscriber{constructor(e,t,n){super(e),this.scheduler=t,this.delay=n;}unsubscribe(){const{delay:e,scheduler:t}=this;t.schedule((()=>super.unsubscribe()),e);}};var zt=Object.freeze({__proto__:null,auditMap:function(e){return t=>{let n,r=!1;return t.pipe(mergeMap(((t,s)=>r?(n=[t,s],EMPTY):(r=!0,from(e(t,s)).pipe(concat(defer((()=>{if(!n)return EMPTY;const t=e(...n);return n=void 0,from(t)}))),last(),tap({complete:()=>r=!1}))))))}},bucketBy:ct$1,bufferRecent:function(e){return e<1?e=>e.pipe(mapTo([])):1===e?e=>e.pipe(map((e=>[e]))):t=>t.pipe(scan(((t,n)=>[...t.slice(1-e),n]),[]))},concatIfEmpty:at$1,concatTap:function(e){return t=>t.pipe(concatMap((t=>from(e(t)).pipe(ignoreElements(),pt$1(t)))))},concatMapEager:function(e,t){return n=>defer((()=>{let r=0;const s=new Map;return n.pipe(mergeMap(((t,n)=>from(e(t,n)).pipe(materialize(),map((e=>({index:n,notification:e}))))),t),mergeMap((({index:e,notification:t})=>{let n=s.get(e);switch(n||(n={complete:!1,index:e,values:[]},s.set(e,n)),t.kind){case"N":n.values.push(t.value);break;case"C":n.complete=!0;break;case"E":return t.toObservable()}return n.index!==r?EMPTY:function(){const e=[];let t=s.get(r);for(;t&&(e.push(...t.values),t.values.length=0,t.complete);)s.delete(r),t=s.get(++r);return e}()})))}))},debounceAfter:function(e,t,n){return r=>r.pipe(publish((r=>e.pipe(switchMap((()=>concat(of(!0),of(!1).pipe(delay(t,n))))),startWith(!1),distinctUntilChanged(),publish((e=>e.pipe(concatMap((t=>t?r.pipe(takeUntil(e.pipe(filter((e=>!e)))),takeLast(1)):r.pipe(takeUntil(e.pipe(filter((e=>e))))))))))))))},debounceSync:function(){return t=>new Observable((n=>{let r,s;t.subscribe(new Ge(n,{complete:()=>{r&&n.next(s),n.complete();},error:e=>n.error(e),next:t=>{s=t,r||(r=asapScheduler.schedule((()=>{n.next(s),r=void 0;})),n.add(r));}}));}))},debounceTimeSubsequent:function(e,t,n){let r;return "number"==typeof t?r=t:(r=1,n=t),lt$1(r,debounceTime(e,n))},defaultObservableIfEmpty:bt,switchIfEmpty:dt$1,deferFinalize:function(e){return t=>t.lift(new ft$1(e))},delayUntil:function(e){return t=>t.pipe(publish((t=>{const n=new Observable((n=>{let r=!0;const s=[],i=new Subscription;return i.add(e.subscribe((()=>{s.forEach((e=>n.next(e))),n.complete();}),(e=>n.error(e)),(()=>{r=!1,s.length=0;}))),i.add((()=>{s.length=0;})),i.add(t.subscribe((e=>r&&s.push(e)),(e=>n.error(e)))),i}));return concat(n,t)})))},dispose:function(e){return t=>t.lift(new mt$1(e))},endWith:pt$1,equals:function(e){return t=>t.pipe(filter((t=>e===t)))},exhaustTap:function(e){return t=>t.pipe(publishReplay(1,void 0,(t=>t.pipe(exhaustMap((n=>concat(t,NEVER).pipe(takeUntil(from(e(n)).pipe(ignoreElements(),pt$1(null))),toArray(),mergeAll())))))))},finalizeWithKind:yt,guard:function(e,t){return n=>n.pipe(map((n=>{if(e(n))return n;const r=new Error(t||"Guard rejection.");throw r.value=n,r})))},hold:function(e){return n=>n.pipe(buffer(e),concatAll())},holdToggle:function(e,t){return r=>r.pipe(bufferToggle(e,t),concatAll())},holdWhen:function(e){return t=>t.pipe(bufferWhen(e),concatAll())},indexElements:function(e=((e,t)=>t)){return map(e)},inexorably:wt,finalize:xt$1,initial:function(e,t){let n;return "number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(publish((e=>merge(e.pipe(take(n),t),e.pipe(skip(n))))))},instanceOf:function(e){return filter("function"==typeof e?t=>t instanceof e:t=>Object.keys(e).some((n=>t instanceof e[n])))},materializeTap:function(e){return t=>t.pipe(tap({complete:()=>e(new Notification("C")),error:t=>e(new Notification("E",void 0,t)),next:t=>e(new Notification("N",t))}))},materializeTo:function(e){return t=>t.pipe(mergeMapTo(from(e).pipe(materialize())),dematerialize())},mergeTap:function(e){return t=>t.pipe(mergeMap((t=>from(e(t)).pipe(ignoreElements(),pt$1(t)))))},multicastWithKind:function(e,t){return n=>{let r,s;return n.pipe(yt((e=>r=e)),multicast((()=>(s=e(r,s),r=void 0,s)),t))}},pairwiseStartWith:function(e){return t=>t.pipe(startWith(e),pairwise())},pause:function(e,t="resumed"){return n=>e.pipe(startWith(t),publishReplay(1,void 0,(e=>n.pipe(mergeMap((t=>e.pipe(filter((e=>"resumed"===e)),first(),map((()=>t)))))))))},percolate:function e(...t){const[n,...r]=t;return 1===t.length&&Array.isArray(n)?e(...n):new Observable((t=>from(n).subscribe({complete:()=>{t.complete();},next(e){t.next(e);},error:n=>{0===r.length?t.error(n):t.add(e(...r).subscribe(t));}})))},pluck:function(...e){return t=>pluck(...e)(t)},prioritize:function(e){return t=>new Observable((n=>{const r=publish()(t),s=[],i=new Subscription,c=Math.max(e.length,2);for(let e=0;e<c;++e){const e=new Subject;s.push(e),i.add(r.subscribe(e));}const[o,u,...a]=s;return i.add(e(o,u,...a).subscribe(n)),i.add(r.connect()),i}))},rateLimit:function(t,...n){let r=1,s=asapScheduler;1===n.length?"number"==typeof n[0]?r=n[0]:s=n[0]:2===n.length&&(r=n[0],s=n[1]);const i=r||1;return e=>e.pipe(scan(((e,n)=>{const r=s.now(),c=r-t;if((e=e.filter((e=>e.until>c))).length>=i){const s=e[0],c=e[e.length-1],o=s.until+t*Math.floor(e.length/i);e.push({delay:c.until<r?o-r:o-c.until,until:o,value:n});}else e.push({delay:0,until:r,value:n});return e}),[]),map((e=>e[e.length-1])),concatMap((e=>{const t=of(e.value);return e.delay?t.pipe(delay(e.delay,s)):t})))},refCountDelay:kt,refCountAuditTime:Et,refCountForever:function(){return e=>{const t=e;let n=null;return using((()=>(n||(n=t.connect()),{unsubscribe:()=>{}})),(()=>e))}},refCountOn:function(e){return t=>{const n=t;let r=0,s=null;return using((()=>(++r,e.schedule((()=>{!s&&r>0&&(s=n.connect());})),{unsubscribe:()=>{--r,e.schedule((()=>{s&&0===r&&(s.unsubscribe(),s=null);}));}})),(()=>t))}},reschedule:function(t=asapScheduler){return concatMap((e=>of(e,t)))},skipSync:function(){return e=>new Observable((t=>{let n=!1;const r=e.subscribe((e=>n&&t.next(e)),t.error.bind(t),t.complete.bind(t));return n=!0,r}))},splitBy:function(e,t=(()=>new Subject)){return ct$1(2,((t,n)=>e(t,n)?0:1),t)},spread:function(...e){return t=>e.reduce(((e,t)=>e.pipe(t)),t)},startWithDeferred:function(e,t){return n=>concat(defer((()=>{const n=e();return t?of(n,t):of(n)})),n)},startWithTimeout:function(e,t,n){return 0!==t||n?r=>r.pipe(publish((r=>race(r,concat(timer(t,n).pipe(mapTo(e)),r))))):t=>new Observable((n=>{let r=!1;const s=t.subscribe((e=>{r=!0,n.next(e);}),n.error.bind(n),n.complete.bind(n));return r||n.next(e),s}))},subsequent:lt$1,switchMapUntil:function(e,t){return n=>n.pipe(publish((n=>n.pipe(e,switchMap(((e,r)=>t(e,r).pipe(takeUntil(n))))))))},switchTap:function(e){return t=>t.pipe(publish((t=>t.pipe(concatMap((n=>concat(from(e(n)).pipe(ignoreElements(),takeUntil(t)),of(n))))))))},takeSync:function(){return e=>new Observable((t=>{const n=e.subscribe(t);return t.complete(),n}))},takeWhileInclusive:function(e){return t=>t.pipe(multicast((()=>new ReplaySubject(1)),(t=>concat(t.pipe(takeWhile(e)),t.pipe(take(1),filter((t=>!e(t))))))))},tapSubscribe:function(e){const{ignore:t={},subscribe:n=noop,unsubscribe:r=noop}="function"==typeof e?{subscribe:e}:e;return e=>defer((()=>{let s=!1,i=!1;return n(),e.pipe(tap({complete:()=>s=!0,error:()=>i=!0}),finalize((()=>{s&&t.complete||i&&t.error||r();})))}))},tapWithIndex:function(e,t,n){return r=>defer((()=>{let s,i,c,o,u=-1;return e&&"function"!=typeof e?(s=e,i=e.next||noop,c=e.error||noop,o=e.complete||noop):(s=void 0,i=e||noop,c=t||noop,o=n||noop),r.pipe(tap((e=>i.call(s,[e,++u])),(e=>c.call(s,e)),(()=>o.call(s))))}))},throttleAfter:function(e,t,n){return r=>r.pipe(publish((r=>e.pipe(switchMap((()=>concat(of(!0),delay(t,n)(of(!1))))),startWith(!1),distinctUntilChanged(),publish((e=>e.pipe(concatMap((t=>t?r.pipe(take(1),takeUntil(e.pipe(filter((e=>!e))))):r.pipe(takeUntil(e.pipe(filter((e=>e))))))))))))))},withLatestFromWhen:function(...e){const t=e.pop(),n=e;return e=>new Observable((r=>{const s=publish()(e),i=n.map((e=>from(e).pipe(publish()))),c=new Subscription;return c.add(t().pipe(startWith(void 0),switchMap((()=>s.pipe(withLatestFrom(...i))))).subscribe(r)),i.forEach((e=>c.add(e.connect()))),c.add(s.connect()),c}))},unsubscribeOn:function(e,t=0){return n=>n.lift(new Ot(e,t))}});const _t$1=zt;

function e$9(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else {var o=1,i="";if("?"===e[c=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(0==--o){c++;break}}else if("("===e[c]&&(o++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));i+=e[c++];}else i+=e[c++]+e[c++];if(o)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=c;}else {for(var a="",c=n+1;c<e.length;){var f=e.charCodeAt(c);if(!(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||95===f))break;a+=e[c++];}if(!a)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:a}),n=c;}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]});}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,o=void 0===r?"./":r,a="[^".concat(i$6(t.delimiter||"/#?"),"]+?"),c=[],f=0,u=0,p="",s=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},d=function(e){var t=s(e);if(void 0!==t)return t;var r=n[u],o=r.type,i=r.index;throw new TypeError("Unexpected ".concat(o," at ").concat(i,", expected ").concat(e))},v=function(){for(var e,t="";e=s("CHAR")||s("ESCAPED_CHAR");)t+=e;return t};u<n.length;){var l=s("CHAR"),x=s("NAME"),h=s("PATTERN");if(x||h){var m=l||"";-1===o.indexOf(m)&&(p+=m,m=""),p&&(c.push(p),p=""),c.push({name:x||f++,prefix:m,suffix:"",pattern:h||a,modifier:s("MODIFIER")||""});}else {var E=l||s("ESCAPED_CHAR");if(E)p+=E;else if(p&&(c.push(p),p=""),s("OPEN")){m=v();var g=s("NAME")||"",y=s("PATTERN")||"",w=v();d("CLOSE"),c.push({name:g||(y?f++:""),pattern:g&&!y?a:y,prefix:m,suffix:w,modifier:s("MODIFIER")||""});}else d("END");}}return c}function r$7(e,t){var n=[];return o$8(f$3(e,n,t),n,t)}function o$8(e,t,n){void 0===n&&(n={});var r=n.decode,o=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return !1;for(var i=r[0],a=r.index,c=Object.create(null),f=function(e){if(void 0===r[e])return "continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?c[n.name]=r[e].split(n.prefix+n.suffix).map((function(e){return o(e,n)})):c[n.name]=o(r[e],n);},u=1;u<r.length;u++)f(u);return {path:i,index:a,params:c}}}function i$6(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a$4(e){return e&&e.sensitive?"":"i"}function c$3(e,t,n){void 0===n&&(n={});for(var r=n.strict,o=void 0!==r&&r,c=n.start,f=void 0===c||c,u=n.end,p=void 0===u||u,s=n.encode,d=void 0===s?function(e){return e}:s,v=n.delimiter,l=void 0===v?"/#?":v,x=n.endsWith,h="[".concat(i$6(void 0===x?"":x),"]|$"),m="[".concat(i$6(l),"]"),E=f?"^":"",g=0,y=e;g<y.length;g++){var w=y[g];if("string"==typeof w)E+=i$6(d(w));else {var T=i$6(d(w.prefix)),A=i$6(d(w.suffix));if(w.pattern)if(t&&t.push(w),T||A)if("+"===w.modifier||"*"===w.modifier){var R="*"===w.modifier?"?":"";E+="(?:".concat(T,"((?:").concat(w.pattern,")(?:").concat(A).concat(T,"(?:").concat(w.pattern,"))*)").concat(A,")").concat(R);}else E+="(?:".concat(T,"(").concat(w.pattern,")").concat(A,")").concat(w.modifier);else "+"===w.modifier||"*"===w.modifier?E+="((?:".concat(w.pattern,")").concat(w.modifier,")"):E+="(".concat(w.pattern,")").concat(w.modifier);else E+="(?:".concat(T).concat(A,")").concat(w.modifier);}}if(p)o||(E+="".concat(m,"?")),E+=n.endsWith?"(?=".concat(h,")"):"$";else {var C=e[e.length-1],b="string"==typeof C?m.indexOf(C[C.length-1])>-1:void 0===C;o||(E+="(?:".concat(m,"(?=").concat(h,"))?")),b||(E+="(?=".concat(m,"|").concat(h,")"));}return new RegExp(E,a$4(n))}function f$3(t,n,r){return t instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,o=n.exec(e.source);o;)t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),o=n.exec(e.source);return e}(t,n):Array.isArray(t)?function(e,t,n){var r=e.map((function(e){return f$3(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),a$4(n))}(t,n,r):function(t,n,r){return c$3(e$9(t,r),n,r)}(t,n,r)}

function castArray(r){return Array.isArray(r)?r:[r]}

function trimStart(r,t,i=!0){const n=Array.isArray(t)?t:t.split("");if(n.indexOf(r[0])>-1){const t=Array.isArray(r)?r:r.split("");for(;n.indexOf(t[0])>-1;)t.shift();return i?t.join(""):t}return r}

function trimEnd(t,e){const i=(Array.isArray(t)?t:t.split("")).reverse();return trimStart(i,e,!1).reverse().join("")}

function t$4(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e$8(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var r$6=Array.isArray||function(t){return "[object Array]"===Object.prototype.toString.call(t)};function o$7(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return ""}}function s$4(t,e,s,a){return e=e||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?n$7(h$4(t),(function(h){var a=encodeURIComponent(o$7(h))+s;return r$6(t[h])?n$7(t[h],(function(t){return a+encodeURIComponent(o$7(t))})).join(e):a+encodeURIComponent(o$7(t[h]))})).join(e):a?encodeURIComponent(o$7(a))+s+encodeURIComponent(o$7(t)):""}function n$7(t,e){if(t.map)return t.map(e);for(var r=[],o=0;o<t.length;o++)r.push(e(t[o],o));return r}var h$4=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e};function a$3(t,o,s,n){o=o||"&",s=s||"=";var h={};if("string"!=typeof t||0===t.length)return h;var a=/\+/g;t=t.split(o);var i=1e3;n&&"number"==typeof n.maxKeys&&(i=n.maxKeys);var p=t.length;i>0&&p>i&&(p=i);for(var c=0;c<p;++c){var u,f,l,_,d=t[c].replace(a,"%20"),v=d.indexOf(s);v>=0?(u=d.substr(0,v),f=d.substr(v+1)):(u=d,f=""),l=decodeURIComponent(u),_=decodeURIComponent(f),e$8(h,l)?r$6(h[l])?h[l].push(_):h[l]=[h[l],_]:h[l]=_;}return h}var i$5={encode:s$4,stringify:s$4,decode:a$3,parse:a$3},p$3=t$4(Object.freeze({__proto__:null,stringify:s$4,parse:a$3,default:i$5,encode:s$4,decode:a$3})),c$2=2147483647,u$3=36,f$2=1,l$3=26,_$1=38,d$2=700,v$2=72,m$4=128,y$3="-",C$1=/^xn--/,g$1=/[^\x20-\x7E]/,A$1=/[\x2E\u3002\uFF0E\uFF61]/g,b$1={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j$2=u$3-f$2,O$1=Math.floor,P$1=String.fromCharCode;function w$2(t){throw new RangeError(b$1[t])}function I$1(t,e){for(var r=t.length,o=[];r--;)o[r]=e(t[r]);return o}function E$1(t,e){var r=t.split("@"),o="";return r.length>1&&(o=r[0]+"@",t=r[1]),o+I$1((t=t.replace(A$1,".")).split("."),e).join(".")}function S$1(t){for(var e,r,o=[],s=0,n=t.length;s<n;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<n?56320==(64512&(r=t.charCodeAt(s++)))?o.push(((1023&e)<<10)+(1023&r)+65536):(o.push(e),s--):o.push(e);return o}function x$3(t){return I$1(t,(function(t){var e="";return t>65535&&(e+=P$1((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+P$1(t)})).join("")}function U$1(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function q$1(t,e,r){var o=0;for(t=r?O$1(t/d$2):t>>1,t+=O$1(t/e);t>j$2*l$3>>1;o+=u$3)t=O$1(t/j$2);return O$1(o+(j$2+1)*t/(t+_$1))}function R$1(t){var e,r,o,s,n,h,a,i,p,_,d,C=[],g=t.length,A=0,b=m$4,j=v$2;for((r=t.lastIndexOf(y$3))<0&&(r=0),o=0;o<r;++o)t.charCodeAt(o)>=128&&w$2("not-basic"),C.push(t.charCodeAt(o));for(s=r>0?r+1:0;s<g;){for(n=A,h=1,a=u$3;s>=g&&w$2("invalid-input"),((i=(d=t.charCodeAt(s++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u$3)>=u$3||i>O$1((c$2-A)/h))&&w$2("overflow"),A+=i*h,!(i<(p=a<=j?f$2:a>=j+l$3?l$3:a-j));a+=u$3)h>O$1(c$2/(_=u$3-p))&&w$2("overflow"),h*=_;j=q$1(A-n,e=C.length+1,0==n),O$1(A/e)>c$2-b&&w$2("overflow"),b+=O$1(A/e),A%=e,C.splice(A++,0,b);}return x$3(C)}function k$1(t){var e,r,o,s,n,h,a,i,p,_,d,C,g,A,b,j=[];for(C=(t=S$1(t)).length,e=m$4,r=0,n=v$2,h=0;h<C;++h)(d=t[h])<128&&j.push(P$1(d));for(o=s=j.length,s&&j.push(y$3);o<C;){for(a=c$2,h=0;h<C;++h)(d=t[h])>=e&&d<a&&(a=d);for(a-e>O$1((c$2-r)/(g=o+1))&&w$2("overflow"),r+=(a-e)*g,e=a,h=0;h<C;++h)if((d=t[h])<e&&++r>c$2&&w$2("overflow"),d==e){for(i=r,p=u$3;!(i<(_=p<=n?f$2:p>=n+l$3?l$3:p-n));p+=u$3)b=i-_,A=u$3-_,j.push(P$1(U$1(_+b%A,0))),i=O$1(b/A);j.push(P$1(U$1(i,0))),n=q$1(r,g,o==s),r=0,++o;}++r,++e;}return j.join("")}function H$1(t){return E$1(t,(function(t){return C$1.test(t)?R$1(t.slice(4).toLowerCase()):t}))}function F$1(t){return E$1(t,(function(t){return g$1.test(t)?"xn--"+k$1(t):t}))}var M$1="1.4.1",Q$1={decode:S$1,encode:x$3},L$2={version:M$1,ucs2:Q$1,toASCII:F$1,toUnicode:H$1,encode:k$1,decode:R$1},T$1=t$4(Object.freeze({__proto__:null,decode:R$1,encode:k$1,toUnicode:H$1,toASCII:F$1,version:M$1,ucs2:Q$1,default:L$2}));function z$1(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1;}var K$1=p$3;z$1.queryString=K$1,z$1.prototype.parse=function(t,e,r,o){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);for(var s=0,n=t.length-1;t.charCodeAt(s)<=32;)s++;for(;t.charCodeAt(n)<=32;)n--;if(s=this._parseProtocol(t,s,n),"javascript"!==this._protocol){s=this._parseHost(t,s,n,r);var h=this._protocol;!this.hostname&&(this.slashes||h&&!et$1[h])&&(this.hostname=this.host="");}if(s<=n){var a=t.charCodeAt(s);47===a||92===a?this._parsePath(t,s,n,o):63===a?this._parseQuery(t,s,n,o):35===a?this._parseHash(t,s,n,o):"javascript"!==this._protocol?this._parsePath(t,s,n,o):this.pathname=t.slice(s,n+1);}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),e){var i=this.search;null==i&&(i=this.search=""),63===i.charCodeAt(0)&&(i=i.slice(1)),this.query=z$1.queryString.parse(i);}},z$1.prototype.resolve=function(t){return this.resolveObject(z$1.parse(t,!1,!0)).format()},z$1.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",o=this.hash||"",s=this.search||"",n="",h=this.hostname||"",a=this.port||"",i=!1,p="",c=this.query;c&&"object"==typeof c&&(n=z$1.queryString.stringify(c)),s||(s=n?"?"+n:""),e&&58!==e.charCodeAt(e.length-1)&&(e+=":"),this.host?i=t+this.host:h&&(h.indexOf(":")>-1&&(h="["+h+"]"),i=t+h+(a?":"+a:""));var u=this.slashes||(!e||et$1[e])&&!1!==i;return e?p=e+(u?"//":""):u&&(p="//"),u&&r&&47!==r.charCodeAt(0)&&(r="/"+r),s&&63!==s.charCodeAt(0)&&(s="?"+s),o&&35!==o.charCodeAt(0)&&(o="#"+o),p+(!1===i?"":i)+(r=B$1(r))+(s=D$1(s))+o},z$1.prototype.resolveObject=function(t){"string"==typeof t&&(t=z$1.parse(t,!1,!0));var e=this._clone();if(e.hash=t.hash,!t.href)return e._href="",e;if(t.slashes&&!t._protocol)return t._copyPropsTo(e,!0),et$1[e._protocol]&&e.hostname&&!e.pathname&&(e.pathname="/"),e._href="",e;if(t._protocol&&t._protocol!==e._protocol){if(!et$1[t._protocol])return t._copyPropsTo(e,!1),e._href="",e;if(e._protocol=t._protocol,t.host||"javascript"===t._protocol)e.pathname=t.pathname;else {for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),e.pathname=r.join("/");}return e.search=t.search,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e._port=t._port,e.slashes=e.slashes||t.slashes,e._href="",e}var o=e.pathname&&47===e.pathname.charCodeAt(0),s=t.host||t.pathname&&47===t.pathname.charCodeAt(0),n=s||o||e.host&&t.pathname,h=n,a=e.pathname&&e.pathname.split("/")||[],i=(r=t.pathname&&t.pathname.split("/")||[],e._protocol&&!et$1[e._protocol]);if(i&&(e.hostname="",e._port=-1,e.host&&(""===a[0]?a[0]=e.host:a.unshift(e.host)),e.host="",t._protocol&&(t.hostname="",t._port=-1,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=""),n=n&&(""===r[0]||""===a[0])),s)e.host=t.host?t.host:e.host,e.hostname=t.hostname?t.hostname:e.hostname,e.search=t.search,a=r;else if(r.length)a||(a=[]),a.pop(),a=a.concat(r),e.search=t.search;else if(t.search)return i&&(e.hostname=e.host=a.shift(),(l=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=l.shift(),e.host=e.hostname=l.shift())),e.search=t.search,e._href="",e;if(!a.length)return e.pathname=null,e._href="",e;for(var p=a.slice(-1)[0],c=(e.host||t.host)&&("."===p||".."===p)||""===p,u=0,f=a.length;f>=0;f--)"."===(p=a[f])?a.splice(f,1):".."===p?(a.splice(f,1),u++):u&&(a.splice(f,1),u--);if(!n&&!h)for(;u--;u)a.unshift("..");!n||""===a[0]||a[0]&&47===a[0].charCodeAt(0)||a.unshift(""),c&&"/"!==a.join("/").substr(-1)&&a.push("");var l,_=""===a[0]||a[0]&&47===a[0].charCodeAt(0);return i&&(e.hostname=e.host=_?"":a.length?a.shift():"",(l=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=l.shift(),e.host=e.hostname=l.shift())),(n=n||e.host&&a.length)&&!_&&a.unshift(""),e.pathname=0===a.length?null:a.join("/"),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e._href="",e};var N$1=T$1;z$1.prototype._hostIdna=function(t){return N$1.toASCII(t)};var B$1=z$1.prototype._escapePathName=function(t){return G$1(t,35,63)?function(t){return t.replace(/[?#]/g,(function(t){return encodeURIComponent(t)}))}(t):t},D$1=z$1.prototype._escapeSearch=function(t){return G$1(t,35,-1)?function(t){return t.replace(/#/g,(function(t){return encodeURIComponent(t)}))}(t):t};function G$1(t,e,r){for(var o=0,s=t.length;o<s;++o){var n=t.charCodeAt(o);if(n===e||n===r)return !0}return !1}function J$1(t){var e=new Uint8Array(128);return t.forEach((function(t){if("number"==typeof t)e[t]=1;else for(var r=t[0],o=t[1],s=r;s<=o;++s)e[s]=1;})),e}z$1.prototype._parseProtocol=function(t,e,r){for(var o=!1,s=this._protocolCharacters,n=e;n<=r;++n){var h=t.charCodeAt(n);if(58===h){var a=t.slice(e,n);return o&&(a=a.toLowerCase()),this._protocol=a,n+1}if(1!==s[h])return e;h<97&&(o=!0);}return e},z$1.prototype._parseAuth=function(t,e,r,o){var s=t.slice(e,r+1);o&&(s=decodeURIComponent(s)),this.auth=s;},z$1.prototype._parsePort=function(t,e,r){for(var o=0,s=!1,n=!0,h=e;h<=r;++h){var a=t.charCodeAt(h);if(!(48<=a&&a<=57)){n=!1,92!==a&&47!==a||(n=!0);break}o=10*o+(a-48),s=!0;}return 0===o&&!s||!n?(n||(this._port=-2),0):(this._port=o,h-e)},z$1.prototype._parseHost=function(t,e,r,o){var s=this._hostEndingCharacters,n=t.charCodeAt(e),h=t.charCodeAt(e+1);if(47!==n&&92!==n||47!==h&&92!==h){if(!this._protocol||et$1[this._protocol])return e}else {if(this.slashes=!0,0===e){if(r<2)return e;var a=function(t,e,r,o){for(var s=t.length,n=2;n<s;++n){var h=t.charCodeAt(n);if(64===h)return !0;if(1===o[h])return !1}return !1}(t,0,0,s);if(!a&&!o)return this.slashes=null,e}e+=2;}for(var i=!1,p=!1,c=e,u=r,f=0,l=0,_=!1,d=-1,v=e;v<=r;++v)if(64===(y=t.charCodeAt(v)))d=v;else if(37===y)_=!0;else if(1===s[y])break;if(d>-1&&(this._parseAuth(t,e,d-1,_),e=c=d+1),91===t.charCodeAt(e)){for(v=e+1;v<=r;++v)if(93===(y=t.charCodeAt(v))){58===t.charCodeAt(v+1)&&(f=this._parsePort(t,v+2,r)+1);var m=t.slice(e+1,v).toLowerCase();return this.hostname=m,this.host=this._port>0?"["+m+"]:"+this._port:"["+m+"]",this.pathname="/",v+f+1}return e}for(v=e;v<=r;++v){if(l>62)return this.hostname=this.host=t.slice(e,v),v;var y;if(58===(y=t.charCodeAt(v))){f=this._parsePort(t,v+1,r)+1,u=v-1;break}if(y<97){if(46===y)l=-1;else if(65<=y&&y<=90)i=!0;else if(!(45===y||95===y||43===y||48<=y&&y<=57)){0===s[y]&&0===this._noPrependSlashHostEnders[y]&&(this._prependSlash=!0),u=v-1;break}}else if(y>=123){if(y<=126){0===this._noPrependSlashHostEnders[y]&&(this._prependSlash=!0),u=v-1;break}p=!0;}l++;}return u+1!==e&&u-c<=256&&(m=t.slice(c,u+1),i&&(m=m.toLowerCase()),p&&(m=this._hostIdna(m)),this.hostname=m,this.host=this._port>0?m+":"+this._port:m),u+1+f},z$1.prototype._copyPropsTo=function(t,e){e||(t._protocol=this._protocol),t._href=this._href,t._port=this._port,t._prependSlash=this._prependSlash,t.auth=this.auth,t.slashes=this.slashes,t.host=this.host,t.hostname=this.hostname,t.hash=this.hash,t.search=this.search,t.pathname=this.pathname;},z$1.prototype._clone=function(){var t=new z$1;return t._protocol=this._protocol,t._href=this._href,t._port=this._port,t._prependSlash=this._prependSlash,t.auth=this.auth,t.slashes=this.slashes,t.host=this.host,t.hostname=this.hostname,t.hash=this.hash,t.search=this.search,t.pathname=this.pathname,t},z$1.prototype._getComponentEscaped=function(t,e,r,o){for(var s=e,n=e,h="",a=o?this._afterQueryAutoEscapeMap:this._autoEscapeMap;n<=r;++n){var i=a[t.charCodeAt(n)];""!==i&&void 0!==i&&(s<n&&(h+=t.slice(s,n)),h+=i,s=n+1);}return s<n+1&&(h+=t.slice(s,n)),h},z$1.prototype._parsePath=function(t,e,r,o){for(var s,n=e,h=r,a=!1,i=this._autoEscapeCharacters,p=-2===this._port?"/:":"",c=e;c<=r;++c){var u=t.charCodeAt(c);if(35===u){this._parseHash(t,c,r,o),h=c-1;break}if(63===u){this._parseQuery(t,c,r,o),h=c-1;break}o||a||1!==i[u]||(a=!0);}n>h?this.pathname=""===p?"/":p:(s=a?this._getComponentEscaped(t,n,h,!1):t.slice(n,h+1),this.pathname=""===p?this._prependSlash?"/"+s:s:p+s);},z$1.prototype._parseQuery=function(t,e,r,o){for(var s,n=e,h=r,a=!1,i=this._autoEscapeCharacters,p=e;p<=r;++p){var c=t.charCodeAt(p);if(35===c){this._parseHash(t,p,r,o),h=p-1;break}o||a||1!==i[c]||(a=!0);}n>h?this.search="":(s=a?this._getComponentEscaped(t,n,h,!0):t.slice(n,h+1),this.search=s);},z$1.prototype._parseHash=function(t,e,r,o){this.hash=e>r?"":o?t.slice(e,r+1):this._getComponentEscaped(t,e,r,!0);},Object.defineProperty(z$1.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(t){this._port=null==t?-1:parseInt(t,10);}}),Object.defineProperty(z$1.prototype,"query",{get:function(){var t=this._query;if(null!=t)return t;var e=this.search;return e&&(63===e.charCodeAt(0)&&(e=e.slice(1)),""!==e)?(this._query=e,e):e},set:function(t){this._query=t;}}),Object.defineProperty(z$1.prototype,"path",{get:function(){var t=this.pathname||"",e=this.search||"";return t||e?t+e:null==t&&e?"/"+e:null},set:function(){}}),Object.defineProperty(z$1.prototype,"protocol",{get:function(){var t=this._protocol;return t?t+":":t},set:function(t){if("string"==typeof t){var e=t.length-1;58===t.charCodeAt(e)?this._protocol=t.slice(0,e):this._protocol=t;}else null==t&&(this._protocol=null);}}),Object.defineProperty(z$1.prototype,"href",{get:function(){var t=this._href;return t||(t=this._href=this.format()),t},set:function(t){this._href=t;}}),z$1.parse=function(t,e,r,o){if(t instanceof z$1)return t;var s=new z$1;return s.parse(t,!!e,!!r,!!o),s},z$1.format=function(t){return "string"==typeof t&&(t=z$1.parse(t)),t instanceof z$1?t.format():z$1.prototype.format.call(t)},z$1.resolve=function(t,e){return z$1.parse(t,!1,!0).resolve(e)},z$1.resolveObject=function(t,e){return t?z$1.parse(t,!1,!0).resolveObject(e):e};for(var V$1=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],W$1=new Array(128),X$1=0,Y$1=W$1.length;X$1<Y$1;++X$1)W$1[X$1]="";for(X$1=0,Y$1=V$1.length;X$1<Y$1;++X$1){var Z$1=V$1[X$1],$$1=encodeURIComponent(Z$1);$$1===Z$1&&($$1=escape(Z$1)),W$1[Z$1.charCodeAt(0)]=$$1;}var tt$1=W$1.slice();W$1[92]="/";var et$1=z$1.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};z$1.prototype._protocolCharacters=J$1([[97,122],[65,90],46,43,45]),z$1.prototype._hostEndingCharacters=J$1([35,63,47,92]),z$1.prototype._autoEscapeCharacters=J$1(V$1.map((function(t){return t.charCodeAt(0)}))),z$1.prototype._noPrependSlashHostEnders=J$1(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map((function(t){return t.charCodeAt(0)}))),z$1.prototype._autoEscapeMap=W$1,z$1.prototype._afterQueryAutoEscapeMap=tt$1;var rt$1=z$1;z$1.replace=function(){require.cache.url={exports:z$1};};rt$1.format;var st$1=rt$1.parse;rt$1.queryString;rt$1.replace;rt$1.resolve;rt$1.resolveObject;

var x$2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e$7={},i$4={},t$3={};Object.defineProperty(t$3,"__esModule",{value:!0}),t$3.fromHex=t$3.toHex=void 0;const n$6=x=>new Number(x).toString(16).toLowerCase();t$3.toHex=x=>`0x${1===n$6(x).length?"0"+n$6(x):n$6(x)}`,t$3.fromHex=x=>new Number(x);var o$6={};!function(x){Object.defineProperty(x,"__esModule",{value:!0}),x.createComplexNode=x.createNode=x.merge=void 0;const e=x=>({typename:x.typename,mime:x.info.mime,extension:x.info.extension}),i=x=>x[0],t=x=>x.slice(1,x.length);x.merge=(n,o)=>{if(0===n.bytes.length)return o;const m=i(n.bytes),a=t(n.bytes);if(((x,e)=>x&&0===e.length)(o.bytes[m],a)){const x=o.bytes[m];return o.bytes[m]={...x,matches:[...x.matches?x.matches:[],e(n)]},o}return o.bytes[m]?(o.bytes[m]=x.merge(x.createNode(n.typename,a,n.info),o.bytes[m]),o):(o.bytes[m]||(o.bytes[m]={...o.bytes[m],...x.createComplexNode(n.typename,a,n.info)}),o)},x.createNode=(x,e,i)=>({typename:x,bytes:e,info:i||{}}),x.createComplexNode=(n,o,m)=>{let a={bytes:{},matches:void 0};const s=i(o),p=t(o);return 0===o.length?{matches:[e({typename:n,info:m?{extension:m.extension,mime:m.mime}:{}})],bytes:{}}:(a.bytes[s]=x.createComplexNode(n,p,m),a)};}(o$6),Object.defineProperty(i$4,"__esModule",{value:!0});const m$3=t$3,a$2=o$6;let s$3={noOffset:null,offset:{}};const p$2=(x,e,i,t)=>{if(t){const n=s$3.offset[m$3.toHex(t)];if(n){const o=a$2.merge(a$2.createNode(x,e.map((x=>x.toLowerCase())),i),{...n});s$3.offset[m$3.toHex(t)]=o;}else s$3.offset[m$3.toHex(t)]=a$2.createComplexNode(x,e.map((x=>x.toLowerCase())),i);}else null===s$3.noOffset?s$3.noOffset=a$2.createComplexNode(x,e.map((x=>x.toLowerCase())),i):s$3.noOffset=a$2.merge(a$2.createNode(x,e.map((x=>x.toLowerCase())),i),s$3.noOffset);};p$2("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),p$2("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),p$2("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),p$2("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),p$2("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),p$2("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),p$2("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),p$2("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),p$2("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),p$2("rpm",["0xed","0xab","0xee","0xdb"]),p$2("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),p$2("pic",["0x00"]),p$2("pif",["0x00"]),p$2("sea",["0x00"]),p$2("ytr",["0x00"]),p$2("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),p$2("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),p$2("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),p$2("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),p$2("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),p$2("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),p$2("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),p$2("dba",["0xBE","0xBA","0xFE","0xCA"]),p$2("dba2",["0x00","0x01","0x42","0x44"]),p$2("tda",["0x00","0x01","0x44","0x54"]),p$2("tda2",["0x00","0x01","0x00","0x00"]),p$2("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),p$2("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),p$2("z",["0x1F","0x9D"]),p$2("tar.z",["0x1F","0xA0"]),p$2("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),p$2("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),p$2("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),p$2("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),p$2("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),p$2("cin",["0x80","0x2A","0x5F","0xD7"]),p$2("cin1",["0x52","0x4E","0x43","0x01"]),p$2("cin2",["0x52","0x4E","0x43","0x02"]),p$2("dpx",["0x53","0x44","0x50","0x58"]),p$2("dpx2",["0x58","0x50","0x44","0x53"]),p$2("exr",["0x76","0x2F","0x31","0x01"]),p$2("bpg",["0x42","0x50","0x47","0xFB"]),p$2("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),p$2("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),p$2("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),p$2("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),p$2("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),p$2("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),p$2("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),p$2("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),p$2("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),p$2("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),p$2("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),p$2("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),p$2("idx",["0x49","0x4E","0x44","0x58"]),p$2("lz",["0x4C","0x5A","0x49","0x50"]),p$2("exe",["0x4D","0x5A"]),p$2("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),p$2("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),p$2("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),p$2("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),p$2("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),p$2("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),p$2("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),p$2("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),p$2("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),p$2("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),p$2("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),p$2("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),p$2("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),p$2("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),p$2("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),p$2("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),p$2("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),p$2("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),p$2("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),p$2("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),p$2("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),p$2("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),p$2("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),p$2("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),p$2("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),p$2("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),p$2("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),p$2("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),p$2("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),p$2("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),p$2("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),p$2("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),p$2("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),p$2("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),p$2("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),p$2("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),p$2("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),p$2("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),p$2("class",["0xCA","0xFE","0xBA","0xBE"]),p$2("class",["0xEF","0xBB","0xBF"]),p$2("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),p$2("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),p$2("class",["0xCE","0xFA","0xed","0xFE"]),p$2("class",["0xCF","0xFA","0xed","0xFE"]),p$2("class",["0xFF","0xFE"]),p$2("class",["0xFF","0xFE"]),p$2("class",["0xFF","0xFE","0x00","0x00"]),p$2("ps",["0x25","0x21","0x50","0x53"]),p$2("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),p$2("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),p$2("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),p$2("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),p$2("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),p$2("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),p$2("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),p$2("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),p$2("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),p$2("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),p$2("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),p$2("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),p$2("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),p$2("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),p$2("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),p$2("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),p$2("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),p$2("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),p$2("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),p$2("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),p$2("iso",["0x43","0x44","0x30","0x30","0x31"]),p$2("flac",["0x66","0x4C","0x61","0x43"]),p$2("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),p$2("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),p$2("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),p$2("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),p$2("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),p$2("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),p$2("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),p$2("vmdk",["0x4B","0x44","0x4D"]),p$2("crx",["0x43","0x72","0x32","0x34"]),p$2("fh8",["0x41","0x47","0x44","0x33"]),p$2("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),p$2("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),p$2("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),p$2("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),p$2("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),p$2("xar",["0x78","0x61","0x72","0x21"]),p$2("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),p$2("nes",["0x4E","0x45","0x53","0x1A"]),p$2("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),p$2("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),p$2("tox",["0x74","0x6F","0x78","0x33"]),p$2("mlv",["0x4D","0x4C","0x56","0x49"]),p$2("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),p$2("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),p$2("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),p$2("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),p$2("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),p$2("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),p$2("lz2",["0x04","0x22","0x4D","0x18"]),p$2("cab",["0x4D","0x53","0x43","0x46"]),p$2("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),p$2("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),p$2("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),p$2("mk3d",["0x1A","0x45","0xDF","0xA3"]),p$2("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),p$2("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),p$2("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),p$2("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),p$2("lep",["0xCF","0x84","0x01"]),p$2("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),p$2("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),p$2("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),p$2("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),p$2("m2p",["0x00","0x00","0x01","0xBA"]),p$2("vob",["0x00","0x00","0x01","0xBA"]),p$2("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),p$2("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),p$2("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),p$2("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),p$2("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),p$2("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),p$2("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),p$2("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),p$2("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),p$2("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),p$2("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),p$2("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),p$2("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),p$2("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),p$2("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),p$2("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),p$2("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),p$2("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),p$2("Json",["0x7B"],{mime:"application/json",extension:".json"}),p$2("Json",["0x5B"],{mime:"application/json",extension:".json"}),p$2("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),p$2("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),p$2("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),p$2("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),i$4.default=()=>s$3,function(e){var n=x$2&&x$2.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const o=n(i$4),m=t$3,a=o.default();e.filetypeinfo=x=>{let e=a;for(const i of Object.keys(e.offset)){const e=m.fromHex(i);if(e>=x.length)continue;const t=a.offset[i],n=s(e,x,t);if(n.length>0)return n}return null===e.noOffset?[]:s(0,x,e.noOffset)};const s=(x,e,i)=>{let t=i,n=[];for(;;){const i=m.toHex(e[x]);if(t=t.bytes["?"]&&!t.bytes[i]?t.bytes["?"]:t.bytes[i],!t)return n;t&&t.matches&&(n=t.matches.slice(0)),x+=1;}};e.default=e.filetypeinfo,e.filetypename=x=>e.filetypeinfo(x).map((x=>x.typename)),e.filetypemime=x=>e.filetypeinfo(x).map((x=>x.mime?x.mime:null)).filter((x=>null!==x)),e.filetypeextension=x=>e.filetypeinfo(x).map((x=>x.extension?x.extension:null)).filter((x=>null!==x));}(e$7);e$7.__esModule;e$7.filetypeextension;e$7.filetypeinfo;e$7.filetypemime;e$7.filetypename;

function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}

var e$6={exports:{}};

var n$5,r$5="object"==typeof Reflect?Reflect:null,o$5=r$5&&"function"==typeof r$5.apply?r$5.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n$5=r$5&&"function"==typeof r$5.ownKeys?r$5.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i$3=Number.isNaN||function(e){return e!=e};function s$2(){s$2.init.call(this);}e$6.exports=s$2;e$6.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n);}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments));}d$1(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&d$1(e,"error",t,n);}(e,o,{once:!0});}))};s$2.EventEmitter=s$2,s$2.prototype._events=void 0,s$2.prototype._eventsCount=0,s$2.prototype._maxListeners=void 0;var f$1=10;function v$1(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c$1(e){return void 0===e._maxListeners?s$2.defaultMaxListeners:e._maxListeners}function p$1(e,t,n,r){var o,i,s,u;if(v$1(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c$1(e))>0&&s.length>o&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,u=f,console&&console.warn&&console.warn(u);}return e}function a$1(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l$2(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=a$1.bind(r);return o.listener=n,r.wrapFn=o,o}function h$3(e,t,n){var r=e._events;if(void 0===r)return [];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):y$2(o,o.length)}function m$2(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y$2(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function d$1(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else {if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i);}));}}Object.defineProperty(s$2,"defaultMaxListeners",{enumerable:!0,get:function(){return f$1},set:function(e){if("number"!=typeof e||e<0||i$3(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");f$1=e;}}),s$2.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},s$2.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i$3(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s$2.prototype.getMaxListeners=function(){return c$1(this)},s$2.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return !1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=i[e];if(void 0===f)return !1;if("function"==typeof f)o$5(f,this,t);else {var v=f.length,c=y$2(f,v);for(n=0;n<v;++n)o$5(c[n],this,t);}return !0},s$2.prototype.addListener=function(e,t){return p$1(this,e,t,!1)},s$2.prototype.on=s$2.prototype.addListener,s$2.prototype.prependListener=function(e,t){return p$1(this,e,t,!0)},s$2.prototype.once=function(e,t){return v$1(t),this.on(e,l$2(this,e,t)),this},s$2.prototype.prependOnceListener=function(e,t){return v$1(t),this.prependListener(e,l$2(this,e,t)),this},s$2.prototype.removeListener=function(e,t){var n,r,o,i,s;if(v$1(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop();}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t);}return this},s$2.prototype.off=s$2.prototype.removeListener,s$2.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s$2.prototype.listeners=function(e){return h$3(this,e,!0)},s$2.prototype.rawListeners=function(e){return h$3(this,e,!1)},s$2.listenerCount=function(e,t){return "function"==typeof e.listenerCount?e.listenerCount(t):m$2.call(e,t)},s$2.prototype.listenerCount=m$2,s$2.prototype.eventNames=function(){return this._eventsCount>0?n$5(this._events):[]};var L$1=e$6.exports;getDefaultExportFromCjs(L$1);

var o$4="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);getDefaultExportFromCjs(o$4);

var s$1=class s{constructor(t){if(!(t>0)||0!=(t-1&t))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null;}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0);}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};getDefaultExportFromCjs(s$1);

const h$2=s$1;var i$2=class i{constructor(t){this.hwm=t||16,this.head=new h$2(this.hwm),this.tail=this.head,this.length=0;}clear(){this.head=this.tail,this.head.clear(),this.length=0;}push(t){if(this.length++,!this.head.push(t)){const s=this.head;this.head=s.next=new h$2(2*this.head.buffer.length),this.head.push(t);}}shift(){0!==this.length&&this.length--;const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){const t=this.tail.peek();return void 0===t&&this.tail.next?this.tail.next.peek():t}isEmpty(){return 0===this.length}};getDefaultExportFromCjs(i$2);

const{EventEmitter:a}=L$1,s=new Error("Stream was destroyed"),n$4=new Error("Premature close"),l$1=o$4,u$2=i$2,h$1=134217727,d=1^h$1,o$3=64,p=128,_=256,S=1024,f=2048,c=4096,x$1=8192,m$1=16384,b=32768,w$1=768^h$1,y$1=134184959,g=1<<17,k=2<<17,T=4<<17,v=8<<17,N=16<<17,P=32<<17,W=64<<17,L=128<<17,E=256<<17,M=512<<17,q=100532223,j$1=133693439,C=117440511,U=131088,F=134086639,A=4210688,R=14,B=15,I=4210702,D=16809984,O=16809999,H=1179648,z=1179663,G=Symbol.asyncIterator||Symbol("asyncIterator");class J{constructor(t,{highWaterMark:e=16384,map:i=null,mapWritable:r,byteLength:a,byteLengthWritable:s}={}){this.stream=t,this.queue=new u$2,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||a||ft,this.map=r||i,this.afterWrite=$.bind(this),this.afterUpdateNextTick=it.bind(this);}get ended(){return 0!=(this.stream._duplexState&P)}push(t){return null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=v,!0):(this.stream._duplexState|=3145728,!1)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=133169151),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=(this.stream._duplexState|M)&j$1;}autoBatch(t,e){const i=[],r=this.stream;for(i.push(t);(r._duplexState&z)===H;)i.push(r._writableState.shift());if(0!=(r._duplexState&B))return e(null);r._writev(i,e);}update(){const t=this.stream;t._duplexState|=k;do{for(;(t._duplexState&z)===v;){const e=this.shift();t._duplexState|=33685504,t._write(e,this.afterWrite);}0==(655360&t._duplexState)&&this.updateNonPrimary();}while(!0===this.continueUpdate());t._duplexState&=133955583;}updateNonPrimary(){const t=this.stream;if((72482831&t._duplexState)===M)return t._duplexState=67108863&(t._duplexState|g),void t._final(Y.bind(this));4!=(t._duplexState&R)?1==(t._duplexState&O)&&(t._duplexState=(t._duplexState|U)&d,t._open(rt.bind(this))):0==(t._duplexState&D)&&(t._duplexState|=U,t._destroy(Z.bind(this)));}continueUpdate(){return 0!=(this.stream._duplexState&L)&&(this.stream._duplexState&=C,!0)}updateCallback(){(17563663&this.stream._duplexState)===T?this.update():this.updateNextTick();}updateNextTick(){0==(this.stream._duplexState&L)&&(this.stream._duplexState|=L,0==(this.stream._duplexState&k)&&l$1(this.afterUpdateNextTick));}}class K{constructor(t,{highWaterMark:e=16384,map:i=null,mapReadable:r,byteLength:a,byteLengthReadable:s}={}){this.stream=t,this.queue=new u$2,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||a||ft,this.map=r||i,this.pipeTo=null,this.afterRead=tt.bind(this),this.afterUpdateNextTick=et.bind(this);}get ended(){return 0!=(this.stream._duplexState&m$1)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=512,this.pipeTo=t,this.pipeline=new V(this.stream,t,e),e&&this.stream.on("error",ct),St(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",ct),t.on("finish",this.pipeline.finished.bind(this.pipeline));else {const e=this.pipeline.done.bind(this.pipeline,t),i=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",i),t.on("finish",this.pipeline.finished.bind(this.pipeline));}t.on("drain",X.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream);}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=134152127&(e._duplexState|S),!1):(null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=134152191&(e._duplexState|p),this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=134209407),t}unshift(t){const e=[null!==this.map?this.map(t):t];for(;this.buffered>0;)e.push(this.shift());for(let t=0;t<e.length-1;t++){const i=e[t];this.buffered+=this.byteLength(i),this.queue.push(i);}this.push(e[e.length-1]);}read(){const t=this.stream;if((16527&t._duplexState)===p){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=w$1),0!=(t._duplexState&f)&&t.emit("data",e),e}return null}drain(){const t=this.stream;for(;(16527&t._duplexState)===p&&0!=(768&t._duplexState);){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=w$1),0!=(t._duplexState&f)&&t.emit("data",e);}}update(){const t=this.stream;t._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&t._duplexState);)t._duplexState|=65552,t._read(this.afterRead),this.drain();4224==(12431&t._duplexState)&&(t._duplexState|=x$1,t.emit("readable")),0==(80&t._duplexState)&&this.updateNonPrimary();}while(!0===this.continueUpdate());t._duplexState&=134217695;}updateNonPrimary(){const t=this.stream;(1167&t._duplexState)===S&&(t._duplexState=134216703&(t._duplexState|m$1),t.emit("end"),(t._duplexState&I)===A&&(t._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(t._duplexState&R)?1==(t._duplexState&O)&&(t._duplexState=(t._duplexState|U)&d,t._open(rt.bind(this))):0==(t._duplexState&D)&&(t._duplexState|=U,t._destroy(Z.bind(this)));}continueUpdate(){return 0!=(this.stream._duplexState&b)&&(this.stream._duplexState&=y$1,!0)}updateCallback(){(32879&this.stream._duplexState)===o$3?this.update():this.updateNextTick();}updateNextTick(){0==(this.stream._duplexState&b)&&(this.stream._duplexState|=b,0==(32&this.stream._duplexState)&&l$1(this.afterUpdateNextTick));}}class Q{constructor(t){this.data=null,this.afterTransform=at.bind(t),this.afterFinal=null;}}class V{constructor(t,e,i){this.from=t,this.to=e,this.afterPipe=i,this.error=null,this.pipeToFinished=!1;}finished(){this.pipeToFinished=!0;}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(t._duplexState&m$1)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&m$1)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"));}}function X(){this.stream._duplexState|=512,this.updateCallback();}function Y(t){const e=this.stream;t&&e.destroy(t),0==(e._duplexState&R)&&(e._duplexState|=P,e.emit("finish")),(e._duplexState&I)===A&&(e._duplexState|=4),e._duplexState&=q,0==(e._duplexState&k)?this.update():this.updateNextTick();}function Z(t){const e=this.stream;t||this.error===s||(t=this.error),t&&e.emit("error",t),e._duplexState|=8,e.emit("close");const i=e._readableState,r=e._writableState;if(null!==i&&null!==i.pipeline&&i.pipeline.done(e,t),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(e,t);}}function $(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=q,null!==this.drains&&function(t){for(let e=0;e<t.length;e++)0==--t[e].writes&&(t.shift().resolve(!0),e--);}(this.drains),(3276815&e._duplexState)===N&&(e._duplexState&=132120575,(e._duplexState&W)===W&&e.emit("drain")),this.updateCallback();}function tt(t){t&&this.stream.destroy(t),this.stream._duplexState&=134217711,this.updateCallback();}function et(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=y$1,this.update());}function it(){0==(this.stream._duplexState&k)&&(this.stream._duplexState&=C,this.update());}function rt(t){const e=this.stream;t&&e.destroy(t),0==(4&e._duplexState)&&(0==(17423&e._duplexState)&&(e._duplexState|=o$3),0==(71303183&e._duplexState)&&(e._duplexState|=T),e.emit("open")),e._duplexState&=F,null!==e._writableState&&e._writableState.updateCallback(),null!==e._readableState&&e._readableState.updateCallback();}function at(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t);}function st(t){null!==this._readableState&&("data"===t&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=c,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=W,this._writableState.updateNextTick());}class nt extends a{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",xt.bind(this))),this.on("newListener",st);}_open(t){t(null);}_destroy(t){t(null);}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(this._duplexState&R)}destroy(t){0==(this._duplexState&R)&&(t||(t=s),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=t),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick());}}class lt extends nt{constructor(t){super(t),this._duplexState|=4194305,this._readableState=new K(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick());}_read(t){t(null);}pipe(t,e){return this._readableState.updateNextTick(),this._readableState.pipe(t,e),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=_,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(t,e){let i;const r=new lt({...e,read(e){t.next().then(a).then(e.bind(null,null)).catch(e);},predestroy(){i=t.return();},destroy(t){if(!i)return t(null);i.then(t.bind(null,null)).catch(t);}});return r;function a(t){t.done?r.push(null):r.push(t.value);}}static from(t,e){if(St(i=t)&&i.readable)return t;var i;if(t[G])return this._fromAsyncIterator(t[G](),e);Array.isArray(t)||(t=void 0===t?[]:[t]);let r=0;return new lt({...e,read(e){this.push(r===t.length?null:t[r++]),e(null);}})}static isBackpressured(t){return 0!=(17422&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return 0==(t._duplexState&_)}[G](){const t=this;let e=null,i=null,r=null;return this.on("error",(t=>{e=t;})),this.on("readable",(function(){null!==i&&a(t.read());})),this.on("close",(function(){null!==i&&a(null);})),{[G](){return this},next:()=>new Promise((function(e,s){i=e,r=s;const n=t.read();null!==n?a(n):0!=(8&t._duplexState)&&a(null);})),return:()=>n(null),throw:t=>n(t)};function a(a){null!==r&&(e?r(e):null===a&&0==(t._duplexState&m$1)?r(s):i({value:a,done:null===a}),r=i=null);}function n(e){return t.destroy(e),new Promise(((i,r)=>{if(8&t._duplexState)return i({value:void 0,done:!0});t.once("close",(function(){e?r(e):i({value:void 0,done:!0});}));}))}}}class ut extends nt{constructor(t){super(t),this._duplexState|=16385,this._writableState=new J(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick());}_writev(t,e){e(null);}_write(t,e){this._writableState.autoBatch(t,e);}_final(t){t(null);}static isBackpressured(t){return 0!=(73400334&t._duplexState)}static drained(t){if(t.destroyed)return Promise.resolve(!1);const e=t._writableState;var i;const r=((i=t)._writev!==ut.prototype._writev&&i._writev!==ht.prototype._writev?Math.min(1,e.queue.length):e.queue.length)+(t._duplexState&E?1:0);return 0===r?Promise.resolve(!0):(null===e.drains&&(e.drains=[]),new Promise((t=>{e.drains.push({writes:r,resolve:t});})))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}class ht extends lt{constructor(t){super(t),this._duplexState=1,this._writableState=new J(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final));}_writev(t,e){e(null);}_write(t,e){this._writableState.autoBatch(t,e);}_final(t){t(null);}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}class dt extends ht{constructor(t){super(t),this._transformState=new Q(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush));}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform);}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform);}else t(null);}destroy(t){super.destroy(t),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform());}_transform(t,e){e(null,t);}_flush(t){t(null);}_final(t){this._transformState.afterFinal=t,this._flush(ot.bind(this));}}function ot(t,e){const i=this._transformState.afterFinal;if(t)return i(t);null!=e&&this.push(e),this.push(null),i(null);}function pt(t,...e){const i=Array.isArray(t)?[...t,...e]:[t,...e],r=i.length&&"function"==typeof i[i.length-1]?i.pop():null;if(i.length<2)throw new Error("Pipeline requires at least 2 streams");let a=i[0],s=null,l=null;for(let t=1;t<i.length;t++)s=i[t],St(a)?a.pipe(s,h):(u(a,!0,t>1,h),a.pipe(s)),a=s;if(r){let t=!1;const e=St(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(t=>{null===l&&(l=t);})),s.on("finish",(()=>{t=!0,e||r(l);})),e&&s.on("close",(()=>r(l||(t?null:n$4))));}return s;function u(t,e,i,r){t.on("error",r),t.on("close",(function(){if(e&&t._readableState&&!t._readableState.ended)return r(n$4);if(i&&t._writableState&&!t._writableState.ended)return r(n$4)}));}function h(t){if(t&&!l){l=t;for(const e of i)e.destroy(t);}}}function _t(t){return !!t._readableState||!!t._writableState}function St(t){return "number"==typeof t._duplexState&&_t(t)}function ft(t){return function(t){return "object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function ct(){}function xt(){this.destroy(new Error("Stream aborted."));}var mt={pipeline:pt,pipelinePromise:function(...t){return new Promise(((e,i)=>pt(...t,(t=>{if(t)return i(t);e();}))))},isStream:_t,isStreamx:St,getStreamError:function(t){const e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===s?null:e},Stream:nt,Writable:ut,Readable:lt,Duplex:ht,Transform:dt,PassThrough:class extends dt{}};getDefaultExportFromCjs(mt);

var e$5={exports:{}};

function e$4(t){return t.length}var r$4={byteLength:e$4,toString:function(t){const e=t.byteLength;let r="";for(let o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r},write:function(t,r,o=0,n=e$4(r)){const f=Math.min(n,t.byteLength-o);for(let e=0;e<f;e++)t[o+e]=r.charCodeAt(e);return f}};getDefaultExportFromCjs(r$4);

const e$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r$3=new Uint8Array(256);for(let t=0;t<64;t++)r$3[e$3.charCodeAt(t)]=t;function o$2(t){let e=t.length;return 61===t.charCodeAt(e-1)&&e--,e>1&&61===t.charCodeAt(e-1)&&e--,3*e>>>2}r$3[45]=62,r$3[95]=63;var n$3={byteLength:o$2,toString:function(t){const r=t.byteLength;let o="";for(let n=0;n<r;n+=3)o+=e$3[t[n]>>2]+e$3[(3&t[n])<<4|t[n+1]>>4]+e$3[(15&t[n+1])<<2|t[n+2]>>6]+e$3[63&t[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},write:function(t,e,n=0,c=o$2(e)){const s=Math.min(c,t.byteLength-n);for(let o=0,n=0;n<s;o+=4){const c=r$3[e.charCodeAt(o)],s=r$3[e.charCodeAt(o+1)],a=r$3[e.charCodeAt(o+2)],h=r$3[e.charCodeAt(o+3)];t[n++]=c<<2|s>>4,t[n++]=(15&s)<<4|a>>2,t[n++]=(3&a)<<6|63&h;}return s}};getDefaultExportFromCjs(n$3);

function e$2(t){return t.length>>>1}var r$2={byteLength:e$2,toString:function(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let o=e-e%4;n<o;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r},write:function(t,r,o=0,i=e$2(r)){const a=Math.min(i,t.byteLength-o);for(let e=0;e<a;e++){const i=n$2(r.charCodeAt(2*e)),a=n$2(r.charCodeAt(2*e+1));if(void 0===i||void 0===a)return t.subarray(0,e);t[o+e]=i<<4|a;}return a}};function n$2(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:void 0}getDefaultExportFromCjs(r$2);

function t$2(e){let t=0;for(let n=0,o=e.length;n<o;n++){const r=e.charCodeAt(n);if(r>=55296&&r<=56319&&n+1<o){const o=e.charCodeAt(n+1);if(o>=56320&&o<=57343){t+=4,n++;continue}}t+=r<=127?1:r<=2047?2:3;}return t}let n$1,o$1;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;n$1=function(t){return e.decode(t)};}else n$1=function(e){const t=e.byteLength;let n="",o=0;for(;o<t;){let r=e[o];if(r<=127){n+=String.fromCharCode(r),o++;continue}let c=0,f=0;if(r<=223?(c=1,f=31&r):r<=239?(c=2,f=15&r):r<=244&&(c=3,f=7&r),t-o-c>0){let t=0;for(;t<c;)r=e[o+t+1],f=f<<6|63&r,t+=1;}else f=65533,c=t-o;n+=String.fromCodePoint(f),o+=c+1;}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;o$1=function(n,o,r=0,c=t$2(o)){const f=Math.min(c,n.byteLength-r);return e.encodeInto(o,n.subarray(r,r+f)),f};}else o$1=function(e,n,o=0,r=t$2(n)){const c=Math.min(r,e.byteLength-o);e=e.subarray(o,o+c);let f=0,i=0;for(;f<n.length;){const t=n.codePointAt(f);if(t<=127){e[i++]=t,f++;continue}let o=0,r=0;for(t<=2047?(o=6,r=192):t<=65535?(o=12,r=224):t<=2097151&&(o=18,r=240),e[i++]=r|t>>o,o-=6;o>=0;)e[i++]=128|t>>o&63,o-=6;f+=t>=65536?2:1;}return c};var r$1={byteLength:t$2,toString:n$1,write:o$1};getDefaultExportFromCjs(r$1);

function e$1(t){return 2*t.length}var r={byteLength:e$1,toString:function(t){const e=t.byteLength;let r="";for(let o=0;o<e-1;o+=2)r+=String.fromCharCode(t[o]+256*t[o+1]);return r},write:function(t,r,o=0,n=e$1(r)){const l=Math.min(n,t.byteLength-o);let s=l;for(let e=0;e<r.length&&!((s-=2)<0);++e){const n=r.charCodeAt(e),l=n>>8,s=n%256;t[o+2*e]=s,t[o+2*e+1]=l;}return l}};getDefaultExportFromCjs(r);

!function(t,e){const u=r$4,s=n$3,b=r$2,a=r$1,y=r,g=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(t){switch(t){case"ascii":return u;case"base64":return s;case"hex":return b;case"utf8":case"utf-8":case void 0:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y;default:throw new Error(`Unknown encoding: ${t}`)}}function h(t){return t instanceof Uint8Array}function l(t,e,n){return "string"==typeof t?function(t,e){const n=c(e),r=new Uint8Array(n.byteLength(t));return n.write(r,t,0,r.byteLength),r}(t,e):Array.isArray(t)?function(t){const e=new Uint8Array(t.length);return e.set(t),e}(t):ArrayBuffer.isView(t)?function(t){const e=new Uint8Array(t.byteLength);return e.set(t),e}(t):function(t,e,n){return new Uint8Array(t,e,n)}(t,e,n)}function L(t,e,n,r,o){if(0===t.byteLength)return -1;if("string"==typeof n?(r=n,n=0):void 0===n?n=o?0:t.length-1:n<0&&(n+=t.byteLength),n>=t.byteLength){if(o)return -1;n=t.byteLength-1;}else if(n<0){if(!o)return -1;n=0;}if("string"==typeof e)e=l(e,r);else if("number"==typeof e)return e&=255,o?t.indexOf(e,n):t.lastIndexOf(e,n);if(0===e.byteLength)return -1;if(o){let r=-1;for(let o=n;o<t.byteLength;o++)if(t[o]===e[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===e.byteLength)return r}else -1!==r&&(o-=o-r),r=-1;}else {n+e.byteLength>t.byteLength&&(n=t.byteLength-e.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let o=0;o<e.byteLength;o++)if(t[r+o]!==e[o]){n=!1;break}if(n)return r}}return -1}function w(t,e,n,r){return L(t,e,n,r,!0)}function d(t,e,n){const r=t[e];t[e]=t[n],t[n]=r;}t.exports=e={isBuffer:h,isEncoding:function(t){try{return c(t),!0}catch{return !1}},alloc:function(t,n,r){const o=new Uint8Array(t);return void 0!==n&&e.fill(o,n,0,o.byteLength,r),o},allocUnsafe:function(t){return new Uint8Array(t)},allocUnsafeSlow:function(t){return new Uint8Array(t)},byteLength:function(t,e){return c(e).byteLength(t)},compare:function(t,e){if(t===e)return 0;const n=Math.min(t.byteLength,e.byteLength);t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;for(let o=n-n%4;r<o;r+=4){if(t.getUint32(r,g)!==e.getUint32(r,g))break}for(;r<n;r++){const n=t.getUint8(r),o=e.getUint8(r);if(n<o)return -1;if(n>o)return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0},concat:function(t,e){void 0===e&&(e=t.reduce(((t,e)=>t+e.byteLength),0));const n=new Uint8Array(e);let r=0;for(const e of t){if(r+e.byteLength>n.byteLength){const t=e.subarray(0,n.byteLength-r);return n.set(t,r),n}n.set(e,r),r+=e.byteLength;}return n},copy:function(t,e,n=0,r=0,o=t.byteLength){if(o>0&&o<r)return 0;if(o===r)return 0;if(0===t.byteLength||0===e.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=t.byteLength)throw new RangeError("sourceStart is out of range");if(o<0)throw new RangeError("sourceEnd is out of range");n>=e.byteLength&&(n=e.byteLength),o>t.byteLength&&(o=t.byteLength),e.byteLength-n<o-r&&(o=e.length-n+r);const f=o-r;return t===e?e.copyWithin(n,r,o):e.set(t.subarray(r,o),n),f},equals:function(t,e){if(t===e)return !0;if(t.byteLength!==e.byteLength)return !1;const n=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;for(let o=n-n%4;r<o;r+=4)if(t.getUint32(r,g)!==e.getUint32(r,g))return !1;for(;r<n;r++)if(t.getUint8(r)!==e.getUint8(r))return !1;return !0},fill:function(t,e,n,r,o){if("string"==typeof e?"string"==typeof n?(o=n,n=0,r=t.byteLength):"string"==typeof r&&(o=r,r=t.byteLength):"number"==typeof e?e&=255:"boolean"==typeof e&&(e=+e),n<0||t.byteLength<n||t.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=t.byteLength),r<=n)return t;if(e||(e=0),"number"==typeof e)for(let o=n;o<r;++o)t[o]=e;else {const f=(e=h(e)?e:l(e,o)).byteLength;for(let o=0;o<r-n;++o)t[o+n]=e[o%f];}return t},from:l,includes:function(t,e,n,r){return -1!==w(t,e,n,r)},indexOf:w,lastIndexOf:function(t,e,n,r){return L(t,e,n,r,!1)},swap16:function(t){const e=t.byteLength;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)d(t,n,n+1);return t},swap32:function(t){const e=t.byteLength;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)d(t,n,n+3),d(t,n+1,n+2);return t},swap64:function(t){const e=t.byteLength;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)d(t,n,n+7),d(t,n+1,n+6),d(t,n+2,n+5),d(t,n+3,n+4);return t},toBuffer:function(t){return t},toString:function(t,e,n=0,r=t.byteLength){const o=t.byteLength;return n>=o||r<=n?"":(n<0&&(n=0),r>o&&(r=o),(0!==n||r<o)&&(t=t.subarray(n,r)),c(e).toString(t))},write:function(t,e,n,r,o){return void 0===n?o="utf8":void 0===r&&"string"==typeof n?(o=n,n=void 0):void 0===o&&"string"==typeof r&&(o=r,r=void 0),c(o).write(t,e,n,r)},writeDoubleLE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),n+8},writeFloatLE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),n+4},writeUInt32LE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(n,e,!0),n+4},writeInt32LE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(n,e,!0),n+4},readDoubleLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},readFloatLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},readUInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(e,!0)},readInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getInt32(e,!0)}};}(e$5,e$5.exports);var u$1=e$5.exports;var t$1 = getDefaultExportFromCjs(u$1);

function createReadStream(e,s,o={}){const{map:h,highWaterMark:l,...c}=o;let u=[];if(e.createReadStream)u.push(e.createReadStream(s,c));else if(e.get){const t=new mt.Readable;u.push(t),Promise.resolve(e.get(s,c)).then((e=>{if(e&&t$1.isBuffer(e)){const r=e.length;c.start??=0,c.length&&!c.end?c.end=c.length+(c.start??0):c.end?c.end+=1:c.end=r,e=e.slice(c.start,c.end),t.push(t$1.from(e));}t.push(null);})).catch((e=>t.destroy(e)));}if(l&&u.push(function(e){let t=t$1.alloc(0);return new mt.Transform({transform:function(r,n){const s=t$1.concat([t,r]),o=s.length%e;let h,l=0;for(;(h=l+e)<=s.length;){const t=s.subarray(l,h);this.push(t),l+=e;}t=o>0?s.subarray(s.length-o,s.length):null,n();},flush(e){t&&t.length&&this.push(t),e();}})}(l)),h&&u.push(new mt.Transform({async transform(e,t){const r=this;await Promise.resolve(h(e)).then((e=>{r.push(e),t(null);})).catch((e=>{t(e);}));}})),0===u.length)throw new Error("createReadStream failed to infer from source.");return 1===u.length?u[0]:mt.pipeline(...u)}

const i$1="\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n";i$1.split("\n").map((i=>i.split(","))).filter((([i])=>""!==i)).map((([i,a,n,o])=>({name:i,mimeType:a,extension:n,description:o})));

var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};var n=e.performance||{};n.now||n.mozNow||n.msNow||n.oNow||n.webkitNow;const t=l(!1),o=l(!0);t.win32=o,o.posix=t;var i=t;function l(e){const n={};n.posix=n,n.win32=n;const t=n.sep=e?"\\":"/";return e?(n.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},n.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(n.isAbsolute=function(e){return e.length>0&&"/"===e[0]},n.root=function(e){return n.isAbsolute(e)?"/":""}),n.basename=function(e){let n=e.length-1;for(;n>0&&e[n]===t;)n--;return n<=0?"":e.slice(e.lastIndexOf(t,n)+1,n+1)},n.dirname=function(e){let n=e.length-1;for(;n>0&&e[n]===t;)n--;if(n<=0)return "";const o=e.lastIndexOf(t,n);return -1===o?"":e.slice(0,o)},n.extname=function(e){const n=e.lastIndexOf(".");return -1===n?"":e.slice(n)},n.resolve=function(e,t){return void 0===t?n.normalize(e):n.isAbsolute(t)?n.normalize(t):n.join(e,t)},n.join=function(e,...o){for(const n of o)e+=t+n;return n.normalize(e)},n.normalize=function(o){if(!0===e){let e=-1;for(;-1!==(e=o.indexOf("/",e+1));)o=o.slice(0,e)+t+o.slice(e+1);}const i=n.root(o),l=""!==i;let s=i.length,r="";for(;s<o.length;){let e=o.indexOf(t,s);-1===e&&(e=o.length);const n=o.slice(s,e);if(s=e+1,""!==n&&"."!==n)if(".."!==n)r+=r?t+n:n;else {const e=r.lastIndexOf(t);-1===e||".."===r.slice(e+1)?l?r="":r+=r?t+"..":"..":r=r.slice(0,e);}}return i&&(r=i+r),r||"."},n}i.posix=i;

function isStreamx(t){return "number"==typeof t._duplexState&&isStream(t)}function isStream(t){return !!t._readableState||!!t._writableState}

function drained(e,r=!1){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,n=(r?Math.min(1,t.queue.length):t.queue.length)+(33554432&e._duplexState?1:0);return 0===n?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:n,resolve:e});})))}

function toWeb(o,n){let i,a=!1;const f={};if(o&&!isStreamx(o)){let e;(({readable:o,writable:i,duplex:e}=o)),!e||o||i||(o=e,i=e);}if(!o&&!i)throw new Error("Invalid stream");let l,s;return o&&(l=new ReadableStream({start:function(e){f.data=r,f.end=r,f.end=n,f.close=n,f.error=n;for(let e in f)o.on(e,f[e]);function r(r){a||(e.enqueue("string"==typeof r?t$1.from(r):r),o.pause());}function n(r){if(!a){a=!0;for(let e in f)o.off(e,f[e]);r?e.error(r):e.close();}}o.pause();},pull:function(){a||o.resume();},cancel:function(){a=!0;for(let e in f)o.off(e,f[e]);o.push(null),o.pause(),o.destroy?o.destroy():o.close&&o.close();},type:n?"bytes":void 0}),!i)?l:i&&(s=new WritableStream({async write(e){i.write("string"==typeof e?t$1.from(e):e)||await drained(i,!1);}}),!o)?s:{readable:l,writable:s}}

const{takeSync:m,concatTap:u}=_t$1,h={ReplaySubject:ReplaySubject,concatAll:concatAll,ignoreElements:ignoreElements,map:map,takeWhile:takeWhile,toArray:toArray};let y,w=new h.ReplaySubject,x=!1;function j(e,t={}){let r,o,n=new Promise(((e,t)=>{r=e,o=t;})),s=[],i={method:e.method??"GET",body:e.body??null,mode:e.mode??"cors",credentials:e.credentials??"same-origin",redirect:e.redirect??"follow",priority:e.priority??"auto",...t,headers:{...e.headers||{},...t}};"string"==typeof e&&(i.url=e);const{response$:p,...c}=i;return w.pipe(m(),h.toArray(),h.map((e=>e.reverse())),h.concatAll(),u((async e=>{e(c,{request:c,async next(){let e,t,r=new Promise(((r,o)=>{e=r,t=o;}));return s.unshift([e,t]),r},async end(){if(c.ended)return;c.ended=!0;const e=new Request(c.url,c);r(await y(e));},respond(e,t={}){c.ended||(c.ended=!0,t.status||=200,("undefined"!=typeof window&&e._readableState||e._writableState)&&(e=toWeb(e)),console.log("Constructing response object from",{req:c,options:t}),r(e instanceof Response?e:new Response(e,{...c,...t})));},error:e=>(c.ended=!0,c.error=e,o(e))});})),h.takeWhile((()=>!c.ended)),h.ignoreElements()).subscribe((async()=>{for await(const[e,t]of s)c.error?t(c.error):e(c);c.ended||(c.ended=!0,r(y(e,t)));})),n}function fetchHookOfSource(e,a,i={}){!function(){if(!x){if("undefined"==typeof Request||"undefined"==typeof fetch)throw new Error("Fetch not supported.");y=fetch,fetch=j,x=!0;}}(),i.protocol&&(i.protocol=trimEnd(i.protocol||":",":")+":");const{protocol:p,mapper:c=(async e=>e)}=i,d=r$7(a);w.next((async(t,o)=>{const{pathname:a,protocol:i}=st$1(t.url);if(p&&p!==i)return;let l=d(a);if(!l)return;let{path:f,index:m,params:u}=l;u.path&&(f="/"+castArray(u.path).join("/"),delete u.path);const h=await Promise.resolve(c({path:f,index:m,params:u}));if(null!=h){({path:f}=h);try{o.respond(createReadStream(e,f));}catch(e){o.next();}}}));}function addFetchHook(e){w.next(e);}

export { addFetchHook, fetchHookOfSource };
