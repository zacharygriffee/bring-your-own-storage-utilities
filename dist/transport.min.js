function e(e){return"function"==typeof e}function t(e){const t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const n=t((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function r(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class i{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const e of r)e.remove(this);else r.remove(this);const{initialTeardown:i}=this;if(e(i))try{i()}catch(e){t=e instanceof n?e.errors:[e]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const e of s)try{a(e)}catch(e){t=null!=t?t:[],e instanceof n?t=[...t,...e.errors]:t.push(e)}}if(t)throw new n(t)}}add(e){var t;if(e&&e!==this)if(this.closed)a(e);else{if(e instanceof i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&r(t,e)}remove(e){const{_finalizers:t}=this;t&&r(t,e),e instanceof i&&e._removeParent(this)}}i.EMPTY=(()=>{const e=new i;return e.closed=!0,e})();const s=i.EMPTY;function o(t){return t instanceof i||t&&"closed"in t&&e(t.remove)&&e(t.add)&&e(t.unsubscribe)}function a(t){e(t)?t():t.unsubscribe()}const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},u={setTimeout(e,t,...n){const{delegate:r}=u;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=u;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function l(e){u.setTimeout((()=>{const{onUnhandledError:t}=c;if(!t)throw e;t(e)}))}function h(){}const f=p("C",void 0,void 0);function p(e,t,n){return{kind:e,value:t,error:n}}function d(e){e()}class x extends i{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,o(e)&&e.add(this)):this.destination=_}static create(e,t,n){return new y(e,t,n)}next(e){this.isStopped?w(function(e){return p("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?w(p("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?w(f,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const m=Function.prototype.bind;function b(e,t){return m.call(e,t)}class g{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){v(e)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){v(e)}else v(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){v(e)}}}class y extends x{constructor(t,n,r){let i;if(super(),e(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let e;this&&c.useDeprecatedNextContext?(e=Object.create(t),e.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&b(t.next,e),error:t.error&&b(t.error,e),complete:t.complete&&b(t.complete,e)}):i=t}this.destination=new g(i)}}function v(e){l(e)}function w(e,t){const{onStoppedNotification:n}=c;n&&u.setTimeout((()=>n(e,t)))}const _={closed:!0,next:h,error:function(e){throw e},complete:h},S="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(e){return e}class A{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new A;return t.source=this,t.operator=e,t}subscribe(t,n,r){const i=(s=t)&&s instanceof x||function(t){return t&&e(t.next)&&e(t.error)&&e(t.complete)}(s)&&o(s)?t:new y(t,n,r);var s;return d((()=>{const{operator:e,source:t}=this;i.add(e?e.call(i,t):t?this._subscribe(i):this._trySubscribe(i))})),i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=O(t))(((t,n)=>{const r=new y({next:t=>{try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});this.subscribe(r)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[S](){return this}pipe(...e){return(0===(t=e).length?E:1===t.length?t[0]:function(e){return t.reduce(((e,t)=>t(e)),e)})(this);var t}toPromise(e){return new(e=O(e))(((e,t)=>{let n;this.subscribe((e=>n=e),(e=>t(e)),(()=>e(n)))}))}}function O(e){var t;return null!==(t=null!=e?e:c.Promise)&&void 0!==t?t:Promise}function k(t){return e(null==t?void 0:t.lift)}function F(e){return t=>{if(k(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function j(e,t,n,r,i){return new L(e,t,n,r,i)}A.create=e=>new A(e);class L extends x{constructor(e,t,n,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(n){try{t(n)}catch(t){e.error(t)}}:super._next,this._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}class C extends A{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,k(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new i;const t=this.getSubject();e.add(this.source.subscribe(j(t,void 0,(()=>{this._teardown(),t.complete()}),(e=>{this._teardown(),t.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=i.EMPTY)}return e}refCount(){return F(((e,t)=>{let n=null;e._refCount++;const r=j(t,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}const T={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=T;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const s=t((t=>{n=void 0,e(t)}));return new i((()=>null==n?void 0:n(s)))},requestAnimationFrame(...e){const{delegate:t}=T;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=T;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0},P=t((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class I extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new M(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new P}next(e){d((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}}))}error(e){d((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){d((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:o}=this;return t||n?s:(this.currentObservers=null,o.push(e),new i((()=>{this.currentObservers=null,r(o,e)})))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new A;return e.source=this,e}}I.create=(e,t)=>new M(e,t);class M extends I{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:s}}const N={now:()=>(N.delegate||Date).now(),delegate:void 0};class D extends I{constructor(e=1/0,t=1/0,n=N){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(n.push(e),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let t=0;t<i.length&&!e.closed;t+=n?1:2)e.next(i[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}class B extends i{constructor(e,t){super()}schedule(e,t=0){return this}}const R={setInterval(e,t,...n){const{delegate:r}=R;return(null==r?void 0:r.setInterval)?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=R;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};class z extends B{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return R.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&R.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,r(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let W,$=1;const U={};function q(e){return e in U&&(delete U[e],!0)}const V={setImmediate(e){const t=$++;return U[t]=!0,W||(W=Promise.resolve()),W.then((()=>q(t)&&e())),t},clearImmediate(e){q(e)}},{setImmediate:G,clearImmediate:H}=V,J={setImmediate(...e){const{delegate:t}=J;return((null==t?void 0:t.setImmediate)||G)(...e)},clearImmediate(e){const{delegate:t}=J;return((null==t?void 0:t.clearImmediate)||H)(e)},delegate:void 0};class Y{constructor(e,t=Y.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}Y.now=N.now;class K extends Y{constructor(e,t=Y.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const X=new class extends K{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends z{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=J.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(J.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),Z=new K(z),Q=Z;new class extends K{}(class extends z{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}});new class extends K{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends z{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=T.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(T.cancelAnimationFrame(t),e._scheduled=void 0)}});(class extends K{constructor(e=ee,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,r;for(;(r=e[0])&&r.delay<=t&&(e.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=e.shift();)r.unsubscribe();throw n}}}).frameTimeFactor=10;class ee extends z{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(Number.isFinite(t)){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new ee(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}return i.EMPTY}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:r}=e;return r.push(this),r.sort(ee.sortActions),1}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}const te=new A((e=>e.complete()));function ne(t){return t&&e(t.schedule)}function re(e){return e[e.length-1]}function ie(t){return e(re(t))?t.pop():void 0}function se(e){return ne(re(e))?e.pop():void 0}function oe(e,t){return"number"==typeof re(e)?e.pop():t}function ae(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function ce(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(e){return this instanceof ue?(this.v=e,this):new ue(e)}function le(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof ue?Promise.resolve(e.value.v).then(c,u):l(s[0][2],e)}(i[e](t))}catch(e){l(s[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function he(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=ce(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const fe=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function pe(t){return e(null==t?void 0:t.then)}function de(t){return e(t[S])}function xe(t){return Symbol.asyncIterator&&e(null==t?void 0:t[Symbol.asyncIterator])}function me(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const be="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ge(t){return e(null==t?void 0:t[be])}function ye(e){return le(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield ue(t.read());if(n)return yield ue(void 0);yield yield ue(e)}}finally{t.releaseLock()}}))}function ve(t){return e(null==t?void 0:t.getReader)}function we(t){if(t instanceof A)return t;if(null!=t){if(de(t))return s=t,new A((t=>{const n=s[S]();if(e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(fe(t))return i=t,new A((e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(pe(t))return r=t,new A((e=>{r.then((t=>{e.closed||(e.next(t),e.complete())}),(t=>e.error(t))).then(null,l)}));if(xe(t))return _e(t);if(ge(t))return n=t,new A((e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()}));if(ve(t))return _e(ye(t))}var n,r,i,s;throw me(t)}function _e(e){return new A((t=>{(function(e,t){var n,r,i,s;return ae(this,void 0,void 0,(function*(){try{for(n=he(e);!(r=yield n.next()).done;){const e=r.value;if(t.next(e),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function Se(e,t,n,r=0,i=!1){const s=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!i)return s}function Ee(e,t=0){return F(((n,r)=>{n.subscribe(j(r,(n=>Se(r,e,(()=>r.next(n)),t)),(()=>Se(r,e,(()=>r.complete()),t)),(n=>Se(r,e,(()=>r.error(n)),t))))}))}function Ae(e,t=0){return F(((n,r)=>{r.add(e.schedule((()=>n.subscribe(r)),t))}))}function Oe(e,t){if(!e)throw new Error("Iterable cannot be null");return new A((n=>{Se(n,t,(()=>{const r=e[Symbol.asyncIterator]();Se(n,t,(()=>{r.next().then((e=>{e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function ke(t,n){if(null!=t){if(de(t))return function(e,t){return we(e).pipe(Ae(t),Ee(t))}(t,n);if(fe(t))return function(e,t){return new A((n=>{let r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(t,n);if(pe(t))return function(e,t){return we(e).pipe(Ae(t),Ee(t))}(t,n);if(xe(t))return Oe(t,n);if(ge(t))return function(t,n){return new A((r=>{let i;return Se(r,n,(()=>{i=t[be](),Se(r,n,(()=>{let e,t;try{({value:e,done:t}=i.next())}catch(e){return void r.error(e)}t?r.complete():r.next(e)}),0,!0)})),()=>e(null==i?void 0:i.return)&&i.return()}))}(t,n);if(ve(t))return function(e,t){return Oe(ye(e),t)}(t,n)}throw me(t)}function Fe(e,t){return t?ke(e,t):we(e)}function je(...e){return Fe(e,se(e))}var Le;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Le||(Le={}));class Ce{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){return Te(this,e)}do(e,t,n){const{kind:r,value:i,error:s}=this;return"N"===r?null==e?void 0:e(i):"E"===r?null==t?void 0:t(s):null==n?void 0:n()}accept(t,n,r){var i;return e(null===(i=t)||void 0===i?void 0:i.next)?this.observe(t):this.do(t,n,r)}toObservable(){const{kind:t,value:n,error:r}=this,i="N"===t?je(n):"E"===t?function(t,n){const r=e(t)?t:()=>t,i=e=>e.error(r());return new A(n?e=>n.schedule(i,0,e):i)}((()=>r)):"C"===t?te:0;if(!i)throw new TypeError(`Unexpected notification kind ${t}`);return i}static createNext(e){return new Ce("N",e)}static createError(e){return new Ce("E",void 0,e)}static createComplete(){return Ce.completeNotification}}function Te(e,t){var n,r,i;const{kind:s,value:o,error:a}=e;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,o):"E"===s?null===(r=t.error)||void 0===r||r.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}Ce.completeNotification=new Ce("C");const Pe=t((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function Ie(e,t){const n="object"==typeof t;return new Promise(((r,i)=>{const s=new y({next:e=>{r(e),s.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new Pe)}});e.subscribe(s)}))}function Me(e,t){return F(((n,r)=>{let i=0;n.subscribe(j(r,(n=>{r.next(e.call(t,n,i++))})))}))}t((e=>function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"})),t((e=>function(t){e(this),this.name="NotFoundError",this.message=t})),t((e=>function(t){e(this),this.name="SequenceError",this.message=t})),t((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));const{isArray:Ne}=Array;function De(e){return Me((t=>function(e,t){return Ne(t)?e(...t):e(t)}(e,t)))}function Be(e,t,n,r,i,s,o,a){const c=[];let u=0,l=0,h=!1;const f=()=>{!h||c.length||u||t.complete()},p=e=>u<r?d(e):c.push(e),d=e=>{s&&t.next(e),u++;let a=!1;we(n(e,l++)).subscribe(j(t,(e=>{null==i||i(e),s?p(e):t.next(e)}),(()=>{a=!0}),void 0,(()=>{if(a)try{for(u--;c.length&&u<r;){const e=c.shift();o?Se(t,o,(()=>d(e))):d(e)}f()}catch(e){t.error(e)}})))};return e.subscribe(j(t,p,(()=>{h=!0,f()}))),()=>{null==a||a()}}function Re(t,n,r=1/0){return e(n)?Re(((e,r)=>Me(((t,i)=>n(e,t,r,i)))(we(t(e,r)))),r):("number"==typeof n&&(r=n),F(((e,n)=>Be(e,n,t,r))))}function ze(e=1/0){return Re(E,e)}function We(){return ze(1)}function $e(...e){return We()(Fe(e,se(e)))}function Ue(e){return new A((t=>{we(e()).subscribe(t)}))}const qe=["addListener","removeListener"],Ve=["addEventListener","removeEventListener"],Ge=["on","off"];function He(t,n,r,i){if(e(r)&&(i=r,r=void 0),i)return He(t,n,r).pipe(De(i));const[s,o]=function(t){return e(t.addEventListener)&&e(t.removeEventListener)}(t)?Ve.map((e=>i=>t[e](n,i,r))):function(t){return e(t.addListener)&&e(t.removeListener)}(t)?qe.map(Je(t,n)):function(t){return e(t.on)&&e(t.off)}(t)?Ge.map(Je(t,n)):[];if(!s&&fe(t))return Re((e=>He(e,n,r)))(we(t));if(!s)throw new TypeError("Invalid event target");return new A((e=>{const t=(...t)=>e.next(1<t.length?t:t[0]);return s(t),()=>o(t)}))}function Je(e,t){return n=>r=>e[n](t,r)}function Ye(e=0,t,n=Q){let r=-1;return null!=t&&(ne(t)?n=t:r=t),new A((t=>{let i=(s=e)instanceof Date&&!isNaN(s)?+e-n.now():e;var s;i<0&&(i=0);let o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function Ke(...e){const t=se(e),n=oe(e,1/0),r=e;return r.length?1===r.length?we(r[0]):ze(n)(Fe(r,t)):te}const Xe=new A(h),{isArray:Ze}=Array;function Qe(e){return 1===e.length&&Ze(e[0])?e[0]:e}function et(e,t){return F(((n,r)=>{let i=0;n.subscribe(j(r,(n=>e.call(t,n,i++)&&r.next(n))))}))}function tt(...e){return 1===(e=Qe(e)).length?we(e[0]):new A(function(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(we(e[r]).subscribe(j(t,(e=>{if(n){for(let e=0;e<n.length;e++)e!==r&&n[e].unsubscribe();n=null}t.next(e)}))))}}(e))}function nt(e,t){return new A((n=>{const r=e(),i=t(r);return(i?we(i):te).subscribe(n),()=>{r&&r.unsubscribe()}}))}function rt(...e){const t=ie(e),n=Qe(e);return n.length?new A((e=>{let r=n.map((()=>[])),i=n.map((()=>!1));e.add((()=>{r=i=null}));for(let s=0;!e.closed&&s<n.length;s++)we(n[s]).subscribe(j(e,(n=>{if(r[s].push(n),r.every((e=>e.length))){const n=r.map((e=>e.shift()));e.next(t?t(...n):n),r.some(((e,t)=>!e.length&&i[t]))&&e.complete()}}),(()=>{i[s]=!0,!r[s].length&&e.complete()})));return()=>{r=i=null}})):te}function it(e){return F(((t,n)=>{let r,i=null,s=!1;i=t.subscribe(j(n,void 0,void 0,(o=>{r=we(e(o,it(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):s=!0}))),s&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function st(e,t,n,r,i){return(s,o)=>{let a=n,c=t,u=0;s.subscribe(j(o,(t=>{const n=u++;c=a?e(c,t,n):(a=!0,t),r&&o.next(c)}),i&&(()=>{a&&o.next(c),o.complete()})))}}function ot(e,t){return F(st(e,t,arguments.length>=2,!1,!0))}const at=(e,t)=>(e.push(t),e);function ct(){return F(((e,t)=>{ot(at,[])(e).subscribe(t)}))}function ut(t,n){return e(n)?Re(t,n,1):Re(t,1)}const lt={connector:()=>new I};function ht(e,t=lt){const{connector:n}=t;return F(((t,r)=>{const i=n();var s;we(e((s=i,new A((e=>s.subscribe(e)))))).subscribe(r),r.add(t.subscribe(i))}))}function ft(e){return F(((t,n)=>{let r=!1;t.subscribe(j(n,(e=>{r=!0,n.next(e)}),(()=>{r||n.next(e),n.complete()})))}))}function pt(e){return e<=0?()=>te:F(((t,n)=>{let r=0;t.subscribe(j(n,(t=>{++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function dt(){return F(((e,t)=>{e.subscribe(j(t,h))}))}function xt(e){return Me((()=>e))}function mt(e,t){return t?n=>$e(t.pipe(pt(1),dt()),n.pipe(mt(e))):Re(((t,n)=>we(e(t,n)).pipe(pt(1),xt(t))))}function bt(e,t=Z){const n=Ye(e,t);return mt((()=>n))}function gt(e,t=E){return e=null!=e?e:yt,F(((n,r)=>{let i,s=!0;n.subscribe(j(r,(n=>{const o=t(n);!s&&e(i,o)||(s=!1,i=o,r.next(n))})))}))}function yt(e,t){return e===t}function vt(e=wt){return F(((t,n)=>{let r=!1;t.subscribe(j(n,(e=>{r=!0,n.next(e)}),(()=>r?n.complete():n.error(e()))))}))}function wt(){return new Pe}function _t(e,t){return t?n=>n.pipe(_t(((n,r)=>we(e(n,r)).pipe(Me(((e,i)=>t(n,e,r,i))))))):F(((t,n)=>{let r=0,i=null,s=!1;t.subscribe(j(n,(t=>{i||(i=j(n,void 0,(()=>{i=null,s&&n.complete()})),we(e(t,r++)).subscribe(i))}),(()=>{s=!0,!i&&n.complete()})))}))}function St(e){return F(((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}}))}function Et(e,t){return F(function(e,t,n){const r="index"===n;return(n,i)=>{let s=0;n.subscribe(j(i,(o=>{const a=s++;e.call(t,o,a,n)&&(i.next(r?a:o),i.complete())}),(()=>{i.next(r?-1:void 0),i.complete()})))}}(e,t,"value"))}function At(e,t){const n=arguments.length>=2;return r=>r.pipe(e?et(((t,n)=>e(t,n,r))):E,pt(1),n?ft(t):vt((()=>new Pe)))}function Ot(){return F(((e,t)=>{e.subscribe(j(t,(()=>{t.next(!1),t.complete()}),(()=>{t.next(!0),t.complete()})))}))}function kt(e){return e<=0?()=>te:F(((t,n)=>{let r=[];t.subscribe(j(n,(t=>{r.push(t),e<r.length&&r.shift()}),(()=>{for(const e of r)n.next(e);n.complete()}),void 0,(()=>{r=null})))}))}function Ft(){return F(((e,t)=>{e.subscribe(j(t,(e=>{t.next(Ce.createNext(e))}),(()=>{t.next(Ce.createComplete()),t.complete()}),(e=>{t.next(Ce.createError(e)),t.complete()})))}))}function jt(t,n){const r=e(t)?t:()=>t;return e(n)?ht(n,{connector:r}):e=>new C(e,r)}function Lt(e){return e?t=>ht(e)(t):e=>jt(new I)(e)}function Ct(t,n,r,i){r&&!e(r)&&(i=r);const s=e(r)?r:void 0;return e=>jt(new D(t,n,i),s)(e)}function Tt(e,t){return F(st(e,t,arguments.length>=2,!0))}function Pt(...e){const t=se(e);return F(((n,r)=>{(t?$e(e,n,t):$e(e,n)).subscribe(r)}))}function It(e,t){return F(((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(j(r,(n=>{null==i||i.unsubscribe();let o=0;const c=s++;we(e(n,c)).subscribe(i=j(r,(e=>r.next(t?t(n,e,c,o++):e)),(()=>{i=null,a()})))}),(()=>{o=!0,a()})))}))}function Mt(e){return F(((t,n)=>{we(e).subscribe(j(n,(()=>n.complete()),h)),!n.closed&&t.subscribe(n)}))}function Nt(e,t=!1){return F(((n,r)=>{let i=0;n.subscribe(j(r,(n=>{const s=e(n,i++);(s||t)&&r.next(n),!s&&r.complete()})))}))}function Dt(t,n,r){const i=e(t)||n||r?{next:t,error:n,complete:r}:t;return i?F(((e,t)=>{var n;null===(n=i.subscribe)||void 0===n||n.call(i);let r=!0;e.subscribe(j(t,(e=>{var n;null===(n=i.next)||void 0===n||n.call(i,e),t.next(e)}),(()=>{var e;r=!1,null===(e=i.complete)||void 0===e||e.call(i),t.complete()}),(e=>{var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,e),t.error(e)}),(()=>{var e,t;r&&(null===(e=i.unsubscribe)||void 0===e||e.call(i)),null===(t=i.finalize)||void 0===t||t.call(i)})))})):E}let Bt=class extends A{constructor(e){super((e=>{const t=this._count++,n=this._notifications.pipe(At((e=>e===t))).subscribe(e);return this._indices.next(t),n})),this._count=0,this._indices=new I,this._notifications=rt(e,this._indices).pipe(Me((([,e])=>e)),Lt())}connect(){return this._notifications.connect()}};const Rt=x.prototype._complete,zt=x.prototype._error,Wt=x.prototype._next;let $t=class extends x{constructor(e,t){super(e);const{complete:n,error:r,next:i}=t;this._complete=n?()=>{try{n()}catch(t){e.error(t)}this.unsubscribe()}:Rt,this._error=r?t=>{try{r(t)}catch(t){e.error(t)}this.unsubscribe()}:zt,this._next=i?t=>{try{i(t)}catch(t){e.error(t)}}:Wt}};function Ut(e){const t=Object.entries(e);return function(...e){let t=e[0],n=e[1];if(0===t.length)return je(n?n([]):[]);const r=t.slice();return n&&r.push(((...e)=>n(e))),rt.apply(null,r)}(t.map((([,e])=>function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.subscribe)}(e)?e:je(e)))).pipe(Me((e=>e.reduce(((e,n,r)=>(e[t[r][0]]=n,e)),{}))))}function qt(e,t,n=(()=>new I)){return r=>r.lift(new Vt(e,t,n))}let Vt=class{constructor(e,t,n){this.count=e,this.hashSelector=t,this.subjectSelector=n}call(e,t){return t.subscribe(new Gt(e,this.count,this.hashSelector,this.subjectSelector))}},Gt=class extends x{constructor(e,t,n,r){super(e),this.count=t,this.hashSelector=n,this.subjectSelector=r,this.index=0;const i=this.buckets=new Array(t);for(let e=0;e<t;++e)i[e]=r();e.next(i.map((e=>e.asObservable())))}_next(e){const{buckets:t,closed:n,count:r,hashSelector:i}=this;if(n)return;let s;try{const t=i(e,this.index++);s=Math.abs(Math.floor(t))%r}catch(e){return void this.error(e)}t[s].next(e)}_error(e){const{buckets:t,closed:n,destination:r}=this;n||(t.forEach((t=>t.error(e))),r.error(e))}_complete(){const{buckets:e,closed:t,destination:n}=this;t||(e.forEach((e=>e.complete())),n.complete())}};function Ht(e){return t=>t.pipe(Lt((t=>Ke(t,t.pipe(Ot(),Re((t=>t?e:te)))))))}function Jt(...e){let t=e[e.length-1];return function(e){return Boolean(e&&"function"==typeof e.schedule)}(t)?e.pop():t=null,n=>$e(n,Fe(e,t))}function Yt(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(Lt((e=>$e(e.pipe(pt(n)),e.pipe(t)))))}const Kt=Ht,Xt=Ht;let Zt=class{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Qt(e,this.callback))}},Qt=class extends x{constructor(e,t){super(e),this.callback=t,this.kind="U",this.subscription=void 0}complete(){this.kind="C",this.defer((()=>super.complete()))}error(e){this.kind="E",this.defer((()=>super.error(e)))}unsubscribe(){this.defer((()=>super.unsubscribe()))}defer(e){if(this.subscription)return void this.subscription.add(e);const t=new i;this.subscription=t,t.add(e);Fe(this.callback(this.kind)).pipe(St((()=>t.unsubscribe()))).subscribe()}},en=class{constructor(e){this.callback=e}call(e,t){const n=t.subscribe(e);return n.add(this.callback),n}};function tn(e){return t=>Ue((()=>{let n="U";return t.pipe(Dt({complete:()=>n="C",error:()=>n="E"}),St((()=>e(n))))}))}function nn(e){return t=>t.lift(new sn(e))}const rn=nn;let sn=class{constructor(e){this.callback=e}call(e,t){return t.subscribe(new on(e,this.callback))}},on=class extends x{constructor(e,t){super(e),this.add(new i((()=>t(this.notification))))}complete(){this.notification=new Ce("C"),super.complete()}error(e){this.notification=new Ce("E",void 0,e),super.error(e)}};function an(e,t=X){return n=>{const r=n;let i=null,s=null;const o=new I,a=o.pipe(Tt(((e,t)=>e+t),0),It((n=>0===n?Ye(e,t).pipe(Dt((()=>{i&&(i.unsubscribe(),i=null),s&&(s.unsubscribe(),s=null)}))):!i&&n>0?Ye(0,t).pipe(Dt((()=>{i||(i=r.connect())}))):Xe)));return nt((()=>(s||(s=a.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)})),(()=>n))}}const cn=an;let un=class{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new ln(e,this.scheduler,this.delay))}},ln=class extends x{constructor(e,t,n){super(e),this.scheduler=t,this.delay=n}unsubscribe(){const{delay:e,scheduler:t}=this;t.schedule((()=>super.unsubscribe()),e)}};var hn=Object.freeze({__proto__:null,auditMap:function(e){return t=>{let n,r=!1;return t.pipe(Re(((t,i)=>r?(n=[t,i],te):(r=!0,Fe(e(t,i)).pipe($e(Ue((()=>{if(!n)return te;const t=e(...n);return n=void 0,Fe(t)}))),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?et(((t,n)=>e(t,n,r))):E,kt(1),n?ft(t):vt((()=>new Pe)))}(),Dt({complete:()=>r=!1}))))))}},bucketBy:qt,bufferRecent:function(e){return e<1?e=>e.pipe(xt([])):1===e?e=>e.pipe(Me((e=>[e]))):t=>t.pipe(Tt(((t,n)=>[...t.slice(1-e),n]),[]))},concatIfEmpty:Ht,concatTap:function(e){return t=>t.pipe(ut((t=>Fe(e(t)).pipe(dt(),Jt(t)))))},concatMapEager:function(e,t){return n=>Ue((()=>{let r=0;const i=new Map;return n.pipe(Re(((t,n)=>Fe(e(t,n)).pipe(Ft(),Me((e=>({index:n,notification:e}))))),t),Re((({index:e,notification:t})=>{let n=i.get(e);switch(n||(n={complete:!1,index:e,values:[]},i.set(e,n)),t.kind){case"N":n.values.push(t.value);break;case"C":n.complete=!0;break;case"E":return t.toObservable()}return n.index!==r?te:function(){const e=[];let t=i.get(r);for(;t&&(e.push(...t.values),t.values.length=0,t.complete);)i.delete(r),t=i.get(++r);return e}()})))}))},debounceAfter:function(e,t,n){return r=>r.pipe(Lt((r=>e.pipe(It((()=>$e(je(!0),je(!1).pipe(bt(t,n))))),Pt(!1),gt(),Lt((e=>e.pipe(ut((t=>t?r.pipe(Mt(e.pipe(et((e=>!e)))),kt(1)):r.pipe(Mt(e.pipe(et((e=>e))))))))))))))},debounceSync:function(){return e=>new A((t=>{let n,r;e.subscribe(new $t(t,{complete:()=>{n&&t.next(r),t.complete()},error:e=>t.error(e),next:e=>{r=e,n||(n=X.schedule((()=>{t.next(r),n=void 0})),t.add(n))}}))}))},debounceTimeSubsequent:function(e,t,n){let r;return"number"==typeof t?r=t:(r=1,n=t),Yt(r,function(e,t=Z){return F(((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const e=s;s=null,r.next(e)}};function c(){const n=o+e,s=t.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(j(r,(n=>{s=n,o=t.now(),i||(i=t.schedule(c,e),r.add(i))}),(()=>{a(),r.complete()}),void 0,(()=>{s=i=null})))}))}(e,n))},defaultObservableIfEmpty:Kt,switchIfEmpty:Xt,deferFinalize:function(e){return t=>t.lift(new Zt(e))},delayUntil:function(e){return t=>t.pipe(Lt((t=>{const n=new A((n=>{let r=!0;const s=[],o=new i;return o.add(e.subscribe((()=>{s.forEach((e=>n.next(e))),n.complete()}),(e=>n.error(e)),(()=>{r=!1,s.length=0}))),o.add((()=>{s.length=0})),o.add(t.subscribe((e=>r&&s.push(e)),(e=>n.error(e)))),o}));return $e(n,t)})))},dispose:function(e){return t=>t.lift(new en(e))},endWith:Jt,equals:function(e){return t=>t.pipe(et((t=>e===t)))},exhaustTap:function(e){return t=>t.pipe(Ct(1,void 0,(t=>t.pipe(_t((n=>$e(t,Xe).pipe(Mt(Fe(e(n)).pipe(dt(),Jt(null))),ct(),ze())))))))},finalizeWithKind:tn,guard:function(e,t){return n=>n.pipe(Me((n=>{if(e(n))return n;const r=new Error(t||"Guard rejection.");throw r.value=n,r})))},hold:function(e){return t=>{return t.pipe((n=e,F(((e,t)=>{let r=[];return e.subscribe(j(t,(e=>r.push(e)),(()=>{t.next(r),t.complete()}))),we(n).subscribe(j(t,(()=>{const e=r;r=[],t.next(e)}),h)),()=>{r=null}}))),We());var n}},holdToggle:function(e,t){return n=>{return n.pipe((s=e,o=t,F(((e,t)=>{const n=[];we(s).subscribe(j(t,(e=>{const s=[];n.push(s);const a=new i;a.add(we(o(e)).subscribe(j(t,(()=>{r(n,s),t.next(s),a.unsubscribe()}),h)))}),h)),e.subscribe(j(t,(e=>{for(const t of n)t.push(e)}),(()=>{for(;n.length>0;)t.next(n.shift());t.complete()})))}))),We());var s,o}},holdWhen:function(e){return t=>{return t.pipe((n=e,F(((e,t)=>{let r=null,i=null;const s=()=>{null==i||i.unsubscribe();const e=r;r=[],e&&t.next(e),we(n()).subscribe(i=j(t,s,h))};s(),e.subscribe(j(t,(e=>null==r?void 0:r.push(e)),(()=>{r&&t.next(r),t.complete()}),void 0,(()=>r=i=null)))}))),We());var n}},indexElements:function(e=((e,t)=>t)){return Me(e)},inexorably:nn,finalize:rn,initial:function(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(Lt((e=>{return Ke(e.pipe(pt(n),t),e.pipe((r=n,et(((e,t)=>r<=t)))));var r})))},instanceOf:function(e){return et("function"==typeof e?t=>t instanceof e:t=>Object.keys(e).some((n=>t instanceof e[n])))},materializeTap:function(e){return t=>t.pipe(Dt({complete:()=>e(new Ce("C")),error:t=>e(new Ce("E",void 0,t)),next:t=>e(new Ce("N",t))}))},materializeTo:function(t){return n=>n.pipe(function(t,n,r=1/0){return e(n)?Re((()=>t),n,r):("number"==typeof n&&(r=n),Re((()=>t),r))}(Fe(t).pipe(Ft())),F(((e,t)=>{e.subscribe(j(t,(e=>Te(e,t))))})))},mergeTap:function(e){return t=>t.pipe(Re((t=>Fe(e(t)).pipe(dt(),Jt(t)))))},multicastWithKind:function(e,t){return n=>{let r,i;return n.pipe(tn((e=>r=e)),jt((()=>(i=e(r,i),r=void 0,i)),t))}},pairwiseStartWith:function(e){return t=>t.pipe(Pt(e),F(((e,t)=>{let n,r=!1;e.subscribe(j(t,(e=>{const i=n;n=e,r&&t.next([i,e]),r=!0})))})))},pause:function(e,t="resumed"){return n=>e.pipe(Pt(t),Ct(1,void 0,(e=>n.pipe(Re((t=>e.pipe(et((e=>"resumed"===e)),At(),Me((()=>t)))))))))},percolate:function e(...t){const[n,...r]=t;return 1===t.length&&Array.isArray(n)?e(...n):new A((t=>Fe(n).subscribe({complete:()=>{t.complete()},next(e){t.next(e)},error:n=>{0===r.length?t.error(n):t.add(e(...r).subscribe(t))}})))},pluck:function(...e){return t=>function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return Me((n=>{let r=n;for(let n=0;n<t;n++){const t=null==r?void 0:r[e[n]];if(void 0===t)return;r=t}return r}))}(...e)(t)},prioritize:function(e){return t=>new A((n=>{const r=Lt()(t),s=[],o=new i,a=Math.max(e.length,2);for(let e=0;e<a;++e){const e=new I;s.push(e),o.add(r.subscribe(e))}const[c,u,...l]=s;return o.add(e(c,u,...l).subscribe(n)),o.add(r.connect()),o}))},rateLimit:function(e,...t){let n=1,r=X;1===t.length?"number"==typeof t[0]?n=t[0]:r=t[0]:2===t.length&&(n=t[0],r=t[1]);const i=n||1;return t=>t.pipe(Tt(((t,n)=>{const s=r.now(),o=s-e;if((t=t.filter((e=>e.until>o))).length>=i){const r=t[0],o=t[t.length-1],a=r.until+e*Math.floor(t.length/i);t.push({delay:o.until<s?a-s:a-o.until,until:a,value:n})}else t.push({delay:0,until:s,value:n});return t}),[]),Me((e=>e[e.length-1])),ut((e=>{const t=je(e.value);return e.delay?t.pipe(bt(e.delay,r)):t})))},refCountDelay:an,refCountAuditTime:cn,refCountForever:function(){return e=>{const t=e;let n=null;return nt((()=>(n||(n=t.connect()),{unsubscribe:()=>{}})),(()=>e))}},refCountOn:function(e){return t=>{const n=t;let r=0,i=null;return nt((()=>(++r,e.schedule((()=>{!i&&r>0&&(i=n.connect())})),{unsubscribe:()=>{--r,e.schedule((()=>{i&&0===r&&(i.unsubscribe(),i=null)}))}})),(()=>t))}},reschedule:function(e=X){return ut((t=>je(t,e)))},skipSync:function(){return e=>new A((t=>{let n=!1;const r=e.subscribe((e=>n&&t.next(e)),t.error.bind(t),t.complete.bind(t));return n=!0,r}))},splitBy:function(e,t=(()=>new I)){return qt(2,((t,n)=>e(t,n)?0:1),t)},spread:function(...e){return t=>e.reduce(((e,t)=>e.pipe(t)),t)},startWithDeferred:function(e,t){return n=>$e(Ue((()=>{const n=e();return t?je(n,t):je(n)})),n)},startWithTimeout:function(e,t,n){return 0!==t||n?r=>r.pipe(Lt((r=>tt(r,$e(Ye(t,n).pipe(xt(e)),r))))):t=>new A((n=>{let r=!1;const i=t.subscribe((e=>{r=!0,n.next(e)}),n.error.bind(n),n.complete.bind(n));return r||n.next(e),i}))},subsequent:Yt,switchMapUntil:function(e,t){return n=>n.pipe(Lt((n=>n.pipe(e,It(((e,r)=>t(e,r).pipe(Mt(n))))))))},switchTap:function(e){return t=>t.pipe(Lt((t=>t.pipe(ut((n=>$e(Fe(e(n)).pipe(dt(),Mt(t)),je(n))))))))},takeSync:function(){return e=>new A((t=>{const n=e.subscribe(t);return t.complete(),n}))},takeWhileInclusive:function(e){return t=>t.pipe(jt((()=>new D(1)),(t=>$e(t.pipe(Nt(e)),t.pipe(pt(1),et((t=>!e(t))))))))},tapSubscribe:function(e){const{ignore:t={},subscribe:n=h,unsubscribe:r=h}="function"==typeof e?{subscribe:e}:e;return e=>Ue((()=>{let i=!1,s=!1;return n(),e.pipe(Dt({complete:()=>i=!0,error:()=>s=!0}),St((()=>{i&&t.complete||s&&t.error||r()})))}))},tapWithIndex:function(e,t,n){return r=>Ue((()=>{let i,s,o,a,c=-1;return e&&"function"!=typeof e?(i=e,s=e.next||h,o=e.error||h,a=e.complete||h):(i=void 0,s=e||h,o=t||h,a=n||h),r.pipe(Dt((e=>s.call(i,[e,++c])),(e=>o.call(i,e)),(()=>a.call(i))))}))},throttleAfter:function(e,t,n){return r=>r.pipe(Lt((r=>e.pipe(It((()=>$e(je(!0),bt(t,n)(je(!1))))),Pt(!1),gt(),Lt((e=>e.pipe(ut((t=>t?r.pipe(pt(1),Mt(e.pipe(et((e=>!e))))):r.pipe(Mt(e.pipe(et((e=>e))))))))))))))},withLatestFromWhen:function(...e){const t=e.pop(),n=e;return e=>new A((r=>{const s=Lt()(e),o=n.map((e=>Fe(e).pipe(Lt()))),a=new i;return a.add(t().pipe(Pt(void 0),It((()=>s.pipe(function(...e){const t=ie(e);return F(((n,r)=>{const i=e.length,s=new Array(i);let o=e.map((()=>!1)),a=!1;for(let t=0;t<i;t++)we(e[t]).subscribe(j(r,(e=>{s[t]=e,a||o[t]||(o[t]=!0,(a=o.every(E))&&(o=null))}),h));n.subscribe(j(r,(e=>{if(a){const n=[e,...s];r.next(t?t(...n):n)}})))}))}(...o))))).subscribe(r)),o.forEach((e=>a.add(e.connect()))),a.add(s.connect()),a}))},unsubscribeOn:function(e,t=0){return n=>n.lift(new un(e,t))}});const fn=hn;function pn(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var r=n.decode,i=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var s=r[0],o=r.index,a=Object.create(null),c=function(e){if(void 0===r[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?a[n.name]=r[e].split(n.prefix+n.suffix).map((function(e){return i(e,n)})):a[n.name]=i(r[e],n)},u=1;u<r.length;u++)c(u);return{path:s,index:o,params:a}}}(mn(e,n,t),n,t)}function dn(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function xn(e){return e&&e.sensitive?"":"i"}function mn(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(e.source);i;)t.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return mn(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),xn(n))}(e,t,n):function(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,i=void 0!==r&&r,s=n.start,o=void 0===s||s,a=n.end,c=void 0===a||a,u=n.encode,l=void 0===u?function(e){return e}:u,h=n.delimiter,f=void 0===h?"/#?":h,p=n.endsWith,d="[".concat(dn(void 0===p?"":p),"]|$"),x="[".concat(dn(f),"]"),m=o?"^":"",b=0,g=e;b<g.length;b++){var y=g[b];if("string"==typeof y)m+=dn(l(y));else{var v=dn(l(y.prefix)),w=dn(l(y.suffix));if(y.pattern)if(t&&t.push(y),v||w)if("+"===y.modifier||"*"===y.modifier){var _="*"===y.modifier?"?":"";m+="(?:".concat(v,"((?:").concat(y.pattern,")(?:").concat(w).concat(v,"(?:").concat(y.pattern,"))*)").concat(w,")").concat(_)}else m+="(?:".concat(v,"(").concat(y.pattern,")").concat(w,")").concat(y.modifier);else"+"===y.modifier||"*"===y.modifier?m+="((?:".concat(y.pattern,")").concat(y.modifier,")"):m+="(".concat(y.pattern,")").concat(y.modifier);else m+="(?:".concat(v).concat(w,")").concat(y.modifier)}}if(c)i||(m+="".concat(x,"?")),m+=n.endsWith?"(?=".concat(d,")"):"$";else{var S=e[e.length-1],E="string"==typeof S?x.indexOf(S[S.length-1])>-1:void 0===S;i||(m+="(?:".concat(x,"(?=").concat(d,"))?")),E||(m+="(?=".concat(x,"|").concat(d,")"))}return new RegExp(m,xn(n))}(function(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var i=1,s="";if("?"===e[a=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<e.length;)if("\\"!==e[a]){if(")"===e[a]){if(0==--i){a++;break}}else if("("===e[a]&&(i++,"?"!==e[a+1]))throw new TypeError("Capturing groups are not allowed at ".concat(a));s+=e[a++]}else s+=e[a++]+e[a++];if(i)throw new TypeError("Unbalanced pattern at ".concat(n));if(!s)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:s}),n=a}else{for(var o="",a=n+1;a<e.length;){var c=e.charCodeAt(a);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;o+=e[a++]}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o}),n=a}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,s="[^".concat(dn(t.delimiter||"/#?"),"]+?"),o=[],a=0,c=0,u="",l=function(e){if(c<n.length&&n[c].type===e)return n[c++].value},h=function(e){var t=l(e);if(void 0!==t)return t;var r=n[c],i=r.type,s=r.index;throw new TypeError("Unexpected ".concat(i," at ").concat(s,", expected ").concat(e))},f=function(){for(var e,t="";e=l("CHAR")||l("ESCAPED_CHAR");)t+=e;return t};c<n.length;){var p=l("CHAR"),d=l("NAME"),x=l("PATTERN");if(d||x){var m=p||"";-1===i.indexOf(m)&&(u+=m,m=""),u&&(o.push(u),u=""),o.push({name:d||a++,prefix:m,suffix:"",pattern:x||s,modifier:l("MODIFIER")||""})}else{var b=p||l("ESCAPED_CHAR");if(b)u+=b;else if(u&&(o.push(u),u=""),l("OPEN")){m=f();var g=l("NAME")||"",y=l("PATTERN")||"",v=f();h("CLOSE"),o.push({name:g||(y?a++:""),pattern:g&&!y?s:y,prefix:m,suffix:v,modifier:l("MODIFIER")||""})}else h("END")}}return o}(e,n),t,n)}(e,t,n)}function bn(e){return Array.isArray(e)?e:[e]}function gn(e){return null!=e&&"string"==typeof e.valueOf()}function yn(e,t){if(!Array.isArray(e)){const n=Object.entries(e),r=[];for(const[e,i]of n)r.push(t(i,e));return r}return e.map(t)}function vn(e,t,n){return e&&e.startsWith(t,n)}function wn(e,t,n=!0){const r=Array.isArray(t)?t:t.split("");if(r.indexOf(e[0])>-1){const t=Array.isArray(e)?e:e.split("");for(;r.indexOf(t[0])>-1;)t.shift();return n?t.join(""):t}return e}function _n(e,t){return wn((Array.isArray(e)?e:e.split("")).reverse(),t,!1).reverse().join("")}function Sn(e,t){return _n(wn(e,t),t)}function En(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var On=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function kn(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function Fn(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?jn(Ln(e),(function(r){var i=encodeURIComponent(kn(r))+n;return On(e[r])?jn(e[r],(function(e){return i+encodeURIComponent(kn(e))})).join(t):i+encodeURIComponent(kn(e[r]))})).join(t):r?encodeURIComponent(kn(r))+n+encodeURIComponent(kn(e)):""}function jn(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var Ln=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};function Cn(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var u,l,h,f,p=e[c].replace(s,"%20"),d=p.indexOf(n);d>=0?(u=p.substr(0,d),l=p.substr(d+1)):(u=p,l=""),h=decodeURIComponent(u),f=decodeURIComponent(l),An(i,h)?On(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i}var Tn={encode:Fn,stringify:Fn,decode:Cn,parse:Cn},Pn=En(Object.freeze({__proto__:null,stringify:Fn,parse:Cn,default:Tn,encode:Fn,decode:Cn})),In=2147483647,Mn=36,Nn=1,Dn=26,Bn=38,Rn=700,zn=72,Wn=128,$n="-",Un=/^xn--/,qn=/[^\x20-\x7E]/,Vn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Hn=Mn-Nn,Jn=Math.floor,Yn=String.fromCharCode;function Kn(e){throw new RangeError(Gn[e])}function Xn(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function Zn(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+Xn((e=e.replace(Vn,".")).split("."),t).join(".")}function Qn(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function er(e){return Xn(e,(function(e){var t="";return e>65535&&(t+=Yn((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+Yn(e)})).join("")}function tr(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function nr(e,t,n){var r=0;for(e=n?Jn(e/Rn):e>>1,e+=Jn(e/t);e>Hn*Dn>>1;r+=Mn)e=Jn(e/Hn);return Jn(r+(Hn+1)*e/(e+Bn))}function rr(e){var t,n,r,i,s,o,a,c,u,l,h,f=[],p=e.length,d=0,x=Wn,m=zn;for((n=e.lastIndexOf($n))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&Kn("not-basic"),f.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<p;){for(s=d,o=1,a=Mn;i>=p&&Kn("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:Mn)>=Mn||c>Jn((In-d)/o))&&Kn("overflow"),d+=c*o,!(c<(u=a<=m?Nn:a>=m+Dn?Dn:a-m));a+=Mn)o>Jn(In/(l=Mn-u))&&Kn("overflow"),o*=l;m=nr(d-s,t=f.length+1,0==s),Jn(d/t)>In-x&&Kn("overflow"),x+=Jn(d/t),d%=t,f.splice(d++,0,x)}return er(f)}function ir(e){var t,n,r,i,s,o,a,c,u,l,h,f,p,d,x,m=[];for(f=(e=Qn(e)).length,t=Wn,n=0,s=zn,o=0;o<f;++o)(h=e[o])<128&&m.push(Yn(h));for(r=i=m.length,i&&m.push($n);r<f;){for(a=In,o=0;o<f;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>Jn((In-n)/(p=r+1))&&Kn("overflow"),n+=(a-t)*p,t=a,o=0;o<f;++o)if((h=e[o])<t&&++n>In&&Kn("overflow"),h==t){for(c=n,u=Mn;!(c<(l=u<=s?Nn:u>=s+Dn?Dn:u-s));u+=Mn)x=c-l,d=Mn-l,m.push(Yn(tr(l+x%d,0))),c=Jn(x/d);m.push(Yn(tr(c,0))),s=nr(n,p,r==i),n=0,++r}++n,++t}return m.join("")}function sr(e){return Zn(e,(function(e){return Un.test(e)?rr(e.slice(4).toLowerCase()):e}))}function or(e){return Zn(e,(function(e){return qn.test(e)?"xn--"+ir(e):e}))}var ar="1.4.1",cr={decode:Qn,encode:er},ur={version:ar,ucs2:cr,toASCII:or,toUnicode:sr,encode:ir,decode:rr},lr=En(Object.freeze({__proto__:null,decode:rr,encode:ir,toUnicode:sr,toASCII:or,version:ar,ucs2:cr,default:ur}));function hr(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var fr=Pn;hr.queryString=fr,hr.prototype.parse=function(e,t,n,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);for(var i=0,s=e.length-1;e.charCodeAt(i)<=32;)i++;for(;e.charCodeAt(s)<=32;)s--;if(i=this._parseProtocol(e,i,s),"javascript"!==this._protocol){i=this._parseHost(e,i,s,n);var o=this._protocol;!this.hostname&&(this.slashes||o&&!Ar[o])&&(this.hostname=this.host="")}if(i<=s){var a=e.charCodeAt(i);47===a||92===a?this._parsePath(e,i,s,r):63===a?this._parseQuery(e,i,s,r):35===a?this._parseHash(e,i,s,r):"javascript"!==this._protocol?this._parsePath(e,i,s,r):this.pathname=e.slice(i,s+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),t){var c=this.search;null==c&&(c=this.search=""),63===c.charCodeAt(0)&&(c=c.slice(1)),this.query=hr.queryString.parse(c)}},hr.prototype.resolve=function(e){return this.resolveObject(hr.parse(e,!1,!0)).format()},hr.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=this.search||"",s="",o=this.hostname||"",a=this.port||"",c=!1,u="",l=this.query;l&&"object"==typeof l&&(s=hr.queryString.stringify(l)),i||(i=s?"?"+s:""),t&&58!==t.charCodeAt(t.length-1)&&(t+=":"),this.host?c=e+this.host:o&&(o.indexOf(":")>-1&&(o="["+o+"]"),c=e+o+(a?":"+a:""));var h=this.slashes||(!t||Ar[t])&&!1!==c;return t?u=t+(h?"//":""):h&&(u="//"),h&&n&&47!==n.charCodeAt(0)&&(n="/"+n),i&&63!==i.charCodeAt(0)&&(i="?"+i),r&&35!==r.charCodeAt(0)&&(r="#"+r),u+(!1===c?"":c)+(n=dr(n))+(i=xr(i))+r},hr.prototype.resolveObject=function(e){"string"==typeof e&&(e=hr.parse(e,!1,!0));var t=this._clone();if(t.hash=e.hash,!e.href)return t._href="",t;if(e.slashes&&!e._protocol)return e._copyPropsTo(t,!0),Ar[t._protocol]&&t.hostname&&!t.pathname&&(t.pathname="/"),t._href="",t;if(e._protocol&&e._protocol!==t._protocol){if(!Ar[e._protocol])return e._copyPropsTo(t,!1),t._href="",t;if(t._protocol=e._protocol,e.host||"javascript"===e._protocol)t.pathname=e.pathname;else{for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),t.pathname=n.join("/")}return t.search=e.search,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t._port=e._port,t.slashes=t.slashes||e.slashes,t._href="",t}var r=t.pathname&&47===t.pathname.charCodeAt(0),i=e.host||e.pathname&&47===e.pathname.charCodeAt(0),s=i||r||t.host&&e.pathname,o=s,a=t.pathname&&t.pathname.split("/")||[],c=(n=e.pathname&&e.pathname.split("/")||[],t._protocol&&!Ar[t._protocol]);if(c&&(t.hostname="",t._port=-1,t.host&&(""===a[0]?a[0]=t.host:a.unshift(t.host)),t.host="",e._protocol&&(e.hostname="",e._port=-1,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=""),s=s&&(""===n[0]||""===a[0])),i)t.host=e.host?e.host:t.host,t.hostname=e.hostname?e.hostname:t.hostname,t.search=e.search,a=n;else if(n.length)a||(a=[]),a.pop(),a=a.concat(n),t.search=e.search;else if(e.search)return c&&(t.hostname=t.host=a.shift(),(p=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=p.shift(),t.host=t.hostname=p.shift())),t.search=e.search,t._href="",t;if(!a.length)return t.pathname=null,t._href="",t;for(var u=a.slice(-1)[0],l=(t.host||e.host)&&("."===u||".."===u)||""===u,h=0,f=a.length;f>=0;f--)"."===(u=a[f])?a.splice(f,1):".."===u?(a.splice(f,1),h++):h&&(a.splice(f,1),h--);if(!s&&!o)for(;h--;h)a.unshift("..");!s||""===a[0]||a[0]&&47===a[0].charCodeAt(0)||a.unshift(""),l&&"/"!==a.join("/").substr(-1)&&a.push("");var p,d=""===a[0]||a[0]&&47===a[0].charCodeAt(0);return c&&(t.hostname=t.host=d?"":a.length?a.shift():"",(p=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=p.shift(),t.host=t.hostname=p.shift())),(s=s||t.host&&a.length)&&!d&&a.unshift(""),t.pathname=0===a.length?null:a.join("/"),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t._href="",t};var pr=lr;hr.prototype._hostIdna=function(e){return pr.toASCII(e)};var dr=hr.prototype._escapePathName=function(e){return mr(e,35,63)?function(e){return e.replace(/[?#]/g,(function(e){return encodeURIComponent(e)}))}(e):e},xr=hr.prototype._escapeSearch=function(e){return mr(e,35,-1)?function(e){return e.replace(/#/g,(function(e){return encodeURIComponent(e)}))}(e):e};function mr(e,t,n){for(var r=0,i=e.length;r<i;++r){var s=e.charCodeAt(r);if(s===t||s===n)return!0}return!1}function br(e){var t=new Uint8Array(128);return e.forEach((function(e){if("number"==typeof e)t[e]=1;else for(var n=e[0],r=e[1],i=n;i<=r;++i)t[i]=1})),t}hr.prototype._parseProtocol=function(e,t,n){for(var r=!1,i=this._protocolCharacters,s=t;s<=n;++s){var o=e.charCodeAt(s);if(58===o){var a=e.slice(t,s);return r&&(a=a.toLowerCase()),this._protocol=a,s+1}if(1!==i[o])return t;o<97&&(r=!0)}return t},hr.prototype._parseAuth=function(e,t,n,r){var i=e.slice(t,n+1);r&&(i=decodeURIComponent(i)),this.auth=i},hr.prototype._parsePort=function(e,t,n){for(var r=0,i=!1,s=!0,o=t;o<=n;++o){var a=e.charCodeAt(o);if(!(48<=a&&a<=57)){s=!1,92!==a&&47!==a||(s=!0);break}r=10*r+(a-48),i=!0}return 0===r&&!i||!s?(s||(this._port=-2),0):(this._port=r,o-t)},hr.prototype._parseHost=function(e,t,n,r){var i=this._hostEndingCharacters,s=e.charCodeAt(t),o=e.charCodeAt(t+1);if(47!==s&&92!==s||47!==o&&92!==o){if(!this._protocol||Ar[this._protocol])return t}else{if(this.slashes=!0,0===t){if(n<2)return t;var a=function(e,t,n,r){for(var i=e.length,s=2;s<i;++s){var o=e.charCodeAt(s);if(64===o)return!0;if(1===r[o])return!1}return!1}(e,0,0,i);if(!a&&!r)return this.slashes=null,t}t+=2}for(var c=!1,u=!1,l=t,h=n,f=0,p=0,d=!1,x=-1,m=t;m<=n;++m)if(64===(g=e.charCodeAt(m)))x=m;else if(37===g)d=!0;else if(1===i[g])break;if(x>-1&&(this._parseAuth(e,t,x-1,d),t=l=x+1),91===e.charCodeAt(t)){for(m=t+1;m<=n;++m)if(93===(g=e.charCodeAt(m))){58===e.charCodeAt(m+1)&&(f=this._parsePort(e,m+2,n)+1);var b=e.slice(t+1,m).toLowerCase();return this.hostname=b,this.host=this._port>0?"["+b+"]:"+this._port:"["+b+"]",this.pathname="/",m+f+1}return t}for(m=t;m<=n;++m){if(p>62)return this.hostname=this.host=e.slice(t,m),m;var g;if(58===(g=e.charCodeAt(m))){f=this._parsePort(e,m+1,n)+1,h=m-1;break}if(g<97){if(46===g)p=-1;else if(65<=g&&g<=90)c=!0;else if(!(45===g||95===g||43===g||48<=g&&g<=57)){0===i[g]&&0===this._noPrependSlashHostEnders[g]&&(this._prependSlash=!0),h=m-1;break}}else if(g>=123){if(g<=126){0===this._noPrependSlashHostEnders[g]&&(this._prependSlash=!0),h=m-1;break}u=!0}p++}return h+1!==t&&h-l<=256&&(b=e.slice(l,h+1),c&&(b=b.toLowerCase()),u&&(b=this._hostIdna(b)),this.hostname=b,this.host=this._port>0?b+":"+this._port:b),h+1+f},hr.prototype._copyPropsTo=function(e,t){t||(e._protocol=this._protocol),e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname},hr.prototype._clone=function(){var e=new hr;return e._protocol=this._protocol,e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname,e},hr.prototype._getComponentEscaped=function(e,t,n,r){for(var i=t,s=t,o="",a=r?this._afterQueryAutoEscapeMap:this._autoEscapeMap;s<=n;++s){var c=a[e.charCodeAt(s)];""!==c&&void 0!==c&&(i<s&&(o+=e.slice(i,s)),o+=c,i=s+1)}return i<s+1&&(o+=e.slice(i,s)),o},hr.prototype._parsePath=function(e,t,n,r){for(var i,s=t,o=n,a=!1,c=this._autoEscapeCharacters,u=-2===this._port?"/:":"",l=t;l<=n;++l){var h=e.charCodeAt(l);if(35===h){this._parseHash(e,l,n,r),o=l-1;break}if(63===h){this._parseQuery(e,l,n,r),o=l-1;break}r||a||1!==c[h]||(a=!0)}s>o?this.pathname=""===u?"/":u:(i=a?this._getComponentEscaped(e,s,o,!1):e.slice(s,o+1),this.pathname=""===u?this._prependSlash?"/"+i:i:u+i)},hr.prototype._parseQuery=function(e,t,n,r){for(var i,s=t,o=n,a=!1,c=this._autoEscapeCharacters,u=t;u<=n;++u){var l=e.charCodeAt(u);if(35===l){this._parseHash(e,u,n,r),o=u-1;break}r||a||1!==c[l]||(a=!0)}s>o?this.search="":(i=a?this._getComponentEscaped(e,s,o,!0):e.slice(s,o+1),this.search=i)},hr.prototype._parseHash=function(e,t,n,r){this.hash=t>n?"":r?e.slice(t,n+1):this._getComponentEscaped(e,t,n,!0)},Object.defineProperty(hr.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(e){this._port=null==e?-1:parseInt(e,10)}}),Object.defineProperty(hr.prototype,"query",{get:function(){var e=this._query;if(null!=e)return e;var t=this.search;return t&&(63===t.charCodeAt(0)&&(t=t.slice(1)),""!==t)?(this._query=t,t):t},set:function(e){this._query=e}}),Object.defineProperty(hr.prototype,"path",{get:function(){var e=this.pathname||"",t=this.search||"";return e||t?e+t:null==e&&t?"/"+t:null},set:function(){}}),Object.defineProperty(hr.prototype,"protocol",{get:function(){var e=this._protocol;return e?e+":":e},set:function(e){if("string"==typeof e){var t=e.length-1;58===e.charCodeAt(t)?this._protocol=e.slice(0,t):this._protocol=e}else null==e&&(this._protocol=null)}}),Object.defineProperty(hr.prototype,"href",{get:function(){var e=this._href;return e||(e=this._href=this.format()),e},set:function(e){this._href=e}}),hr.parse=function(e,t,n,r){if(e instanceof hr)return e;var i=new hr;return i.parse(e,!!t,!!n,!!r),i},hr.format=function(e){return"string"==typeof e&&(e=hr.parse(e)),e instanceof hr?e.format():hr.prototype.format.call(e)},hr.resolve=function(e,t){return hr.parse(e,!1,!0).resolve(t)},hr.resolveObject=function(e,t){return e?hr.parse(e,!1,!0).resolveObject(t):t};for(var gr=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],yr=new Array(128),vr=0,wr=yr.length;vr<wr;++vr)yr[vr]="";for(vr=0,wr=gr.length;vr<wr;++vr){var _r=gr[vr],Sr=encodeURIComponent(_r);Sr===_r&&(Sr=escape(_r)),yr[_r.charCodeAt(0)]=Sr}var Er=yr.slice();yr[92]="/";var Ar=hr.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};hr.prototype._protocolCharacters=br([[97,122],[65,90],46,43,45]),hr.prototype._hostEndingCharacters=br([35,63,47,92]),hr.prototype._autoEscapeCharacters=br(gr.map((function(e){return e.charCodeAt(0)}))),hr.prototype._noPrependSlashHostEnders=br(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map((function(e){return e.charCodeAt(0)}))),hr.prototype._autoEscapeMap=yr,hr.prototype._afterQueryAutoEscapeMap=Er;var Or=hr;hr.replace=function(){require.cache.url={exports:hr}},Or.format;var kr=Or.parse;function Fr(e){return vn(e,"../")||vn(e,"./")}function jr(e){return vn(e,"/")}function Lr(e="/"){return"/"===e||""===e}function Cr(e,t){if(Lr(t))return je(!1);const n=(e.exists||e.entry).bind(e);return Ue((()=>Promise.resolve(n(t)))).pipe(Me((e=>!!e)),it((e=>je(!1))))}Or.queryString,Or.replace,Or.resolve,Or.resolveObject;const Tr={catchError:it,first:At,map:Me,switchMap:It,firstValueFrom:Ie,of:je};function Pr(e,t){return Lr(t)?Tr.of(!0):Cr(e,t).pipe(Tr.switchMap((n=>n?Tr.of(!1):ic(e,{cwd:t}).pipe(Tr.first(),Tr.map((()=>!0))))),Tr.catchError((()=>Tr.of(!1))))}var Ir="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mr={},Nr={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.fromHex=Dr.toHex=void 0;const Br=e=>new Number(e).toString(16).toLowerCase();Dr.toHex=e=>`0x${1===Br(e).length?"0"+Br(e):Br(e)}`,Dr.fromHex=e=>new Number(e);var Rr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=e=>({typename:e.typename,mime:e.info.mime,extension:e.info.extension}),n=e=>e[0],r=e=>e.slice(1,e.length);e.merge=(i,s)=>{if(0===i.bytes.length)return s;const o=n(i.bytes),a=r(i.bytes);if(((e,t)=>e&&0===t.length)(s.bytes[o],a)){const e=s.bytes[o];return s.bytes[o]={...e,matches:[...e.matches?e.matches:[],t(i)]},s}return s.bytes[o]?(s.bytes[o]=e.merge(e.createNode(i.typename,a,i.info),s.bytes[o]),s):(s.bytes[o]||(s.bytes[o]={...s.bytes[o],...e.createComplexNode(i.typename,a,i.info)}),s)},e.createNode=(e,t,n)=>({typename:e,bytes:t,info:n||{}}),e.createComplexNode=(i,s,o)=>{let a={bytes:{},matches:void 0};const c=n(s),u=r(s);return 0===s.length?{matches:[t({typename:i,info:o?{extension:o.extension,mime:o.mime}:{}})],bytes:{}}:(a.bytes[c]=e.createComplexNode(i,u,o),a)}}(Rr),Object.defineProperty(Nr,"__esModule",{value:!0});const zr=Dr,Wr=Rr;let $r={noOffset:null,offset:{}};const Ur=(e,t,n,r)=>{if(r){const i=$r.offset[zr.toHex(r)];if(i){const s=Wr.merge(Wr.createNode(e,t.map((e=>e.toLowerCase())),n),{...i});$r.offset[zr.toHex(r)]=s}else $r.offset[zr.toHex(r)]=Wr.createComplexNode(e,t.map((e=>e.toLowerCase())),n)}else null===$r.noOffset?$r.noOffset=Wr.createComplexNode(e,t.map((e=>e.toLowerCase())),n):$r.noOffset=Wr.merge(Wr.createNode(e,t.map((e=>e.toLowerCase())),n),$r.noOffset)};Ur("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),Ur("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),Ur("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),Ur("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),Ur("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),Ur("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),Ur("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),Ur("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),Ur("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),Ur("rpm",["0xed","0xab","0xee","0xdb"]),Ur("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),Ur("pic",["0x00"]),Ur("pif",["0x00"]),Ur("sea",["0x00"]),Ur("ytr",["0x00"]),Ur("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),Ur("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),Ur("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),Ur("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),Ur("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),Ur("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),Ur("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),Ur("dba",["0xBE","0xBA","0xFE","0xCA"]),Ur("dba2",["0x00","0x01","0x42","0x44"]),Ur("tda",["0x00","0x01","0x44","0x54"]),Ur("tda2",["0x00","0x01","0x00","0x00"]),Ur("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),Ur("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),Ur("z",["0x1F","0x9D"]),Ur("tar.z",["0x1F","0xA0"]),Ur("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),Ur("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),Ur("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),Ur("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),Ur("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),Ur("cin",["0x80","0x2A","0x5F","0xD7"]),Ur("cin1",["0x52","0x4E","0x43","0x01"]),Ur("cin2",["0x52","0x4E","0x43","0x02"]),Ur("dpx",["0x53","0x44","0x50","0x58"]),Ur("dpx2",["0x58","0x50","0x44","0x53"]),Ur("exr",["0x76","0x2F","0x31","0x01"]),Ur("bpg",["0x42","0x50","0x47","0xFB"]),Ur("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),Ur("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),Ur("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),Ur("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),Ur("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),Ur("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),Ur("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),Ur("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),Ur("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),Ur("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),Ur("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),Ur("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),Ur("idx",["0x49","0x4E","0x44","0x58"]),Ur("lz",["0x4C","0x5A","0x49","0x50"]),Ur("exe",["0x4D","0x5A"]),Ur("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),Ur("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),Ur("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),Ur("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),Ur("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),Ur("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),Ur("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),Ur("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),Ur("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),Ur("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),Ur("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),Ur("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),Ur("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),Ur("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),Ur("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),Ur("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),Ur("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),Ur("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),Ur("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),Ur("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),Ur("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),Ur("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),Ur("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),Ur("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),Ur("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),Ur("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),Ur("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),Ur("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),Ur("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),Ur("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),Ur("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),Ur("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),Ur("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),Ur("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),Ur("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),Ur("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),Ur("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),Ur("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),Ur("class",["0xCA","0xFE","0xBA","0xBE"]),Ur("class",["0xEF","0xBB","0xBF"]),Ur("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),Ur("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),Ur("class",["0xCE","0xFA","0xed","0xFE"]),Ur("class",["0xCF","0xFA","0xed","0xFE"]),Ur("class",["0xFF","0xFE"]),Ur("class",["0xFF","0xFE"]),Ur("class",["0xFF","0xFE","0x00","0x00"]),Ur("ps",["0x25","0x21","0x50","0x53"]),Ur("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),Ur("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),Ur("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),Ur("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),Ur("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),Ur("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),Ur("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),Ur("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),Ur("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),Ur("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),Ur("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),Ur("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),Ur("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),Ur("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),Ur("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),Ur("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),Ur("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),Ur("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),Ur("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),Ur("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),Ur("iso",["0x43","0x44","0x30","0x30","0x31"]),Ur("flac",["0x66","0x4C","0x61","0x43"]),Ur("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),Ur("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),Ur("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),Ur("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),Ur("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),Ur("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),Ur("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),Ur("vmdk",["0x4B","0x44","0x4D"]),Ur("crx",["0x43","0x72","0x32","0x34"]),Ur("fh8",["0x41","0x47","0x44","0x33"]),Ur("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),Ur("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),Ur("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),Ur("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),Ur("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),Ur("xar",["0x78","0x61","0x72","0x21"]),Ur("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),Ur("nes",["0x4E","0x45","0x53","0x1A"]),Ur("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),Ur("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),Ur("tox",["0x74","0x6F","0x78","0x33"]),Ur("mlv",["0x4D","0x4C","0x56","0x49"]),Ur("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),Ur("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),Ur("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),Ur("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),Ur("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),Ur("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),Ur("lz2",["0x04","0x22","0x4D","0x18"]),Ur("cab",["0x4D","0x53","0x43","0x46"]),Ur("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),Ur("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),Ur("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),Ur("mk3d",["0x1A","0x45","0xDF","0xA3"]),Ur("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),Ur("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),Ur("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),Ur("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),Ur("lep",["0xCF","0x84","0x01"]),Ur("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),Ur("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),Ur("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),Ur("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),Ur("m2p",["0x00","0x00","0x01","0xBA"]),Ur("vob",["0x00","0x00","0x01","0xBA"]),Ur("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),Ur("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),Ur("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),Ur("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),Ur("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),Ur("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),Ur("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),Ur("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),Ur("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),Ur("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),Ur("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),Ur("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),Ur("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),Ur("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),Ur("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),Ur("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),Ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),Ur("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),Ur("Json",["0x7B"],{mime:"application/json",extension:".json"}),Ur("Json",["0x5B"],{mime:"application/json",extension:".json"}),Ur("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),Ur("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),Ur("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),Ur("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),Nr.default=()=>$r,function(e){var t=Ir&&Ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(Nr),r=Dr,i=n.default();e.filetypeinfo=e=>{let t=i;for(const n of Object.keys(t.offset)){const t=r.fromHex(n);if(t>=e.length)continue;const o=i.offset[n],a=s(t,e,o);if(a.length>0)return a}return null===t.noOffset?[]:s(0,e,t.noOffset)};const s=(e,t,n)=>{let i=n,s=[];for(;;){const n=r.toHex(t[e]);if(i=i.bytes["?"]&&!i.bytes[n]?i.bytes["?"]:i.bytes[n],!i)return s;i&&i.matches&&(s=i.matches.slice(0)),e+=1}};e.default=e.filetypeinfo,e.filetypename=t=>e.filetypeinfo(t).map((e=>e.typename)),e.filetypemime=t=>e.filetypeinfo(t).map((e=>e.mime?e.mime:null)).filter((e=>null!==e)),e.filetypeextension=t=>e.filetypeinfo(t).map((e=>e.extension?e.extension:null)).filter((e=>null!==e))}(Mr);var qr=Mr.filetypemime;function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gr(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Hr,Jr={exports:{}},Yr="object"==typeof Reflect?Reflect:null,Kr=Yr&&"function"==typeof Yr.apply?Yr.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Hr=Yr&&"function"==typeof Yr.ownKeys?Yr.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Xr=Number.isNaN||function(e){return e!=e};function Zr(){Zr.init.call(this)}Jr.exports=Zr,Jr.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}ci(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&ci(e,"error",t,n)}(e,i,{once:!0})}))},Zr.EventEmitter=Zr,Zr.prototype._events=void 0,Zr.prototype._eventsCount=0,Zr.prototype._maxListeners=void 0;var Qr=10;function ei(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function ti(e){return void 0===e._maxListeners?Zr.defaultMaxListeners:e._maxListeners}function ni(e,t,n,r){var i,s,o,a;if(ei(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=ti(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function ri(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ii(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=ri.bind(r);return i.listener=n,r.wrapFn=i,i}function si(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):ai(i,i.length)}function oi(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function ai(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function ci(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(Zr,"defaultMaxListeners",{enumerable:!0,get:function(){return Qr},set:function(e){if("number"!=typeof e||e<0||Xr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Qr=e}}),Zr.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Zr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Xr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Zr.prototype.getMaxListeners=function(){return ti(this)},Zr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)Kr(a,this,t);else{var c=a.length,u=ai(a,c);for(n=0;n<c;++n)Kr(u[n],this,t)}return!0},Zr.prototype.addListener=function(e,t){return ni(this,e,t,!1)},Zr.prototype.on=Zr.prototype.addListener,Zr.prototype.prependListener=function(e,t){return ni(this,e,t,!0)},Zr.prototype.once=function(e,t){return ei(t),this.on(e,ii(this,e,t)),this},Zr.prototype.prependOnceListener=function(e,t){return ei(t),this.prependListener(e,ii(this,e,t)),this},Zr.prototype.removeListener=function(e,t){var n,r,i,s,o;if(ei(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},Zr.prototype.off=Zr.prototype.removeListener,Zr.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Zr.prototype.listeners=function(e){return si(this,e,!0)},Zr.prototype.rawListeners=function(e){return si(this,e,!1)},Zr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):oi.call(e,t)},Zr.prototype.listenerCount=oi,Zr.prototype.eventNames=function(){return this._eventsCount>0?Hr(this._events):[]};var ui=Jr.exports,li="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);const hi=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};const{EventEmitter:fi}=ui,pi=new Error("Stream was destroyed"),di=new Error("Premature close"),xi=li,mi=class{constructor(e){this.hwm=e||16,this.head=new hi(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new hi(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}},bi=134217727,gi=1^bi,yi=64,vi=128,wi=256,_i=1024,Si=2048,Ei=4096,Ai=8192,Oi=16384,ki=32768,Fi=768^bi,ji=134184959,Li=1<<17,Ci=2<<17,Ti=4<<17,Pi=8<<17,Ii=16<<17,Mi=32<<17,Ni=64<<17,Di=128<<17,Bi=256<<17,Ri=512<<17,zi=100532223,Wi=133693439,$i=117440511,Ui=131088,qi=134086639,Vi=4210688,Gi=14,Hi=15,Ji=4210702,Yi=16809984,Ki=16809999,Xi=1179648,Zi=1179663,Qi=Symbol.asyncIterator||Symbol("asyncIterator");class es{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:s}={}){this.stream=e,this.queue=new mi,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||Ss,this.map=r||n,this.afterWrite=as.bind(this),this.afterUpdateNextTick=ls.bind(this)}get ended(){return 0!=(this.stream._duplexState&Mi)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=Pi,!0):(this.stream._duplexState|=3145728,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=133169151),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|Ri)&Wi}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);(r._duplexState&Zi)===Xi;)n.push(r._writableState.shift());if(0!=(r._duplexState&Hi))return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=Ci;do{for(;(e._duplexState&Zi)===Pi;){const t=this.shift();e._duplexState|=33685504,e._write(t,this.afterWrite)}0==(655360&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=133955583}updateNonPrimary(){const e=this.stream;if((72482831&e._duplexState)===Ri)return e._duplexState=67108863&(e._duplexState|Li),void e._final(ss.bind(this));4!=(e._duplexState&Gi)?1==(e._duplexState&Ki)&&(e._duplexState=(e._duplexState|Ui)&gi,e._open(hs.bind(this))):0==(e._duplexState&Yi)&&(e._duplexState|=Ui,e._destroy(os.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&Di)&&(this.stream._duplexState&=$i,!0)}updateCallback(){(17563663&this.stream._duplexState)===Ti?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&Di)&&(this.stream._duplexState|=Di,0==(this.stream._duplexState&Ci)&&xi(this.afterUpdateNextTick))}}class ts{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:s}={}){this.stream=e,this.queue=new mi,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||Ss,this.map=r||n,this.pipeTo=null,this.afterRead=cs.bind(this),this.afterUpdateNextTick=us.bind(this)}get ended(){return 0!=(this.stream._duplexState&Oi)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new rs(this.stream,e,t),t&&this.stream.on("error",Es),_s(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",Es),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",is.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=134152127&(t._duplexState|_i),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=134152191&(t._duplexState|vi),this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=134209407),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if((16527&e._duplexState)===vi){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=Fi),0!=(e._duplexState&Si)&&e.emit("data",t),t}return null}drain(){const e=this.stream;for(;(16527&e._duplexState)===vi&&0!=(768&e._duplexState);){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=Fi),0!=(e._duplexState&Si)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&e._duplexState);)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=Ai,e.emit("readable")),0==(80&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=134217695}updateNonPrimary(){const e=this.stream;(1167&e._duplexState)===_i&&(e._duplexState=134216703&(e._duplexState|Oi),e.emit("end"),(e._duplexState&Ji)===Vi&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(e._duplexState&Gi)?1==(e._duplexState&Ki)&&(e._duplexState=(e._duplexState|Ui)&gi,e._open(hs.bind(this))):0==(e._duplexState&Yi)&&(e._duplexState|=Ui,e._destroy(os.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&ki)&&(this.stream._duplexState&=ji,!0)}updateCallback(){(32879&this.stream._duplexState)===yi?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&ki)&&(this.stream._duplexState|=ki,0==(32&this.stream._duplexState)&&xi(this.afterUpdateNextTick))}}class ns{constructor(e){this.data=null,this.afterTransform=fs.bind(e),this.afterFinal=null}}class rs{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(e._duplexState&Oi)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&Oi)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function is(){this.stream._duplexState|=512,this.updateCallback()}function ss(e){const t=this.stream;e&&t.destroy(e),0==(t._duplexState&Gi)&&(t._duplexState|=Mi,t.emit("finish")),(t._duplexState&Ji)===Vi&&(t._duplexState|=4),t._duplexState&=zi,0==(t._duplexState&Ci)?this.update():this.updateNextTick()}function os(e){const t=this.stream;e||this.error===pi||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function as(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=zi,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),(3276815&t._duplexState)===Ii&&(t._duplexState&=132120575,(t._duplexState&Ni)===Ni&&t.emit("drain")),this.updateCallback()}function cs(e){e&&this.stream.destroy(e),this.stream._duplexState&=134217711,this.updateCallback()}function us(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=ji,this.update())}function ls(){0==(this.stream._duplexState&Ci)&&(this.stream._duplexState&=$i,this.update())}function hs(e){const t=this.stream;e&&t.destroy(e),0==(4&t._duplexState)&&(0==(17423&t._duplexState)&&(t._duplexState|=yi),0==(71303183&t._duplexState)&&(t._duplexState|=Ti),t.emit("open")),t._duplexState&=qi,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function fs(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function ps(e){null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=Ei,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=Ni,this._writableState.updateNextTick())}class ds extends fi{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",As.bind(this))),this.on("newListener",ps)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(this._duplexState&Gi)}destroy(e){0==(this._duplexState&Gi)&&(e||(e=pi),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class xs extends ds{constructor(e){super(e),this._duplexState|=4194305,this._readableState=new ts(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=wi,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(e,t){let n;const r=new xs({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function i(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(_s(n=e)&&n.readable)return e;var n;if(e[Qi])return this._fromAsyncIterator(e[Qi](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let r=0;return new xs({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return 0!=(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(e._duplexState&wi)}[Qi](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&i(e.read())})),this.on("close",(function(){null!==n&&i(null)})),{[Qi](){return this},next:()=>new Promise((function(t,s){n=t,r=s;const o=e.read();null!==o?i(o):0!=(8&e._duplexState)&&i(null)})),return:()=>s(null),throw:e=>s(e)};function i(i){null!==r&&(t?r(t):null===i&&0==(e._duplexState&Oi)?r(pi):n({value:i,done:null===i}),r=n=null)}function s(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?r(t):n({value:void 0,done:!0})}))}))}}}class ms extends ds{constructor(e){super(e),this._duplexState|=16385,this._writableState=new es(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(73400334&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,n=function(e){return e._writev!==ms.prototype._writev&&e._writev!==bs.prototype._writev}(e)?Math.min(1,t.queue.length):t.queue.length,r=n+(e._duplexState&Bi?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class bs extends xs{constructor(e){super(e),this._duplexState=1,this._writableState=new es(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class gs extends bs{constructor(e){super(e),this._transformState=new ns(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(ys.bind(this))}}function ys(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function vs(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,o=null;for(let e=1;e<n.length;e++)s=n[e],_s(i)?i.pipe(s,c):(a(i,!0,e>1,c),i.pipe(s)),i=s;if(r){let e=!1;const t=_s(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(e=>{null===o&&(o=e)})),s.on("finish",(()=>{e=!0,t||r(o)})),t&&s.on("close",(()=>r(o||(e?null:di))))}return s;function a(e,t,n,r){e.on("error",r),e.on("close",(function(){if(t&&e._readableState&&!e._readableState.ended)return r(di);if(n&&e._writableState&&!e._writableState.ended)return r(di)}))}function c(e){if(e&&!o){o=e;for(const t of n)t.destroy(e)}}}function ws(e){return!!e._readableState||!!e._writableState}function _s(e){return"number"==typeof e._duplexState&&ws(e)}function Ss(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function Es(){}function As(){this.destroy(new Error("Stream aborted."))}var Os={pipeline:vs,pipelinePromise:function(...e){return new Promise(((t,n)=>vs(...e,(e=>{if(e)return n(e);t()}))))},isStream:ws,isStreamx:_s,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===pi?null:t},Stream:ds,Writable:ms,Readable:xs,Duplex:bs,Transform:gs,PassThrough:class extends gs{}},ks={exports:{}};function Fs(e){return e.length}var js={byteLength:Fs,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},write:function(e,t,n=0,r=Fs(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++)e[n+r]=t.charCodeAt(r);return i}};const Ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cs=new Uint8Array(256);for(let e=0;e<64;e++)Cs[Ls.charCodeAt(e)]=e;function Ts(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}Cs[45]=62,Cs[95]=63;var Ps={byteLength:Ts,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r+=3)n+=Ls[e[r]>>2]+Ls[(3&e[r])<<4|e[r+1]>>4]+Ls[(15&e[r+1])<<2|e[r+2]>>6]+Ls[63&e[r+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,n=0,r=Ts(t)){const i=Math.min(r,e.byteLength-n);for(let n=0,r=0;r<i;n+=4){const i=Cs[t.charCodeAt(n)],s=Cs[t.charCodeAt(n+1)],o=Cs[t.charCodeAt(n+2)],a=Cs[t.charCodeAt(n+3)];e[r++]=i<<2|s>>4,e[r++]=(15&s)<<4|o>>2,e[r++]=(3&o)<<6|63&a}return i}};function Is(e){return e.length>>>1}var Ms={byteLength:Is,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let n="",r=0;for(let i=t-t%4;r<i;r+=4)n+=e.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)n+=e.getUint8(r).toString(16).padStart(2,"0");return n},write:function(e,t,n=0,r=Is(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++){const i=Ns(t.charCodeAt(2*r)),s=Ns(t.charCodeAt(2*r+1));if(void 0===i||void 0===s)return e.subarray(0,r);e[n+r]=i<<4|s}return i}};function Ns(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}function Ds(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){t+=4,n++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let Bs,Rs;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;Bs=function(t){return e.decode(t)}}else Bs=function(e){const t=e.byteLength;let n="",r=0;for(;r<t;){let i=e[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let s=0,o=0;if(i<=223?(s=1,o=31&i):i<=239?(s=2,o=15&i):i<=244&&(s=3,o=7&i),t-r-s>0){let t=0;for(;t<s;)i=e[r+t+1],o=o<<6|63&i,t+=1}else o=65533,s=t-r;n+=String.fromCodePoint(o),r+=s+1}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;Rs=function(t,n,r=0,i=Ds(n)){const s=Math.min(i,t.byteLength-r);return e.encodeInto(n,t.subarray(r,r+s)),s}}else Rs=function(e,t,n=0,r=Ds(t)){const i=Math.min(r,e.byteLength-n);e=e.subarray(n,n+i);let s=0,o=0;for(;s<t.length;){const n=t.codePointAt(s);if(n<=127){e[o++]=n,s++;continue}let r=0,i=0;for(n<=2047?(r=6,i=192):n<=65535?(r=12,i=224):n<=2097151&&(r=18,i=240),e[o++]=i|n>>r,r-=6;r>=0;)e[o++]=128|n>>r&63,r-=6;s+=n>=65536?2:1}return i};var zs={byteLength:Ds,toString:Bs,write:Rs};function Ws(e){return 2*e.length}var $s={byteLength:Ws,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t-1;r+=2)n+=String.fromCharCode(e[r]+256*e[r+1]);return n},write:function(e,t,n=0,r=Ws(t)){const i=Math.min(r,e.byteLength-n);let s=i;for(let r=0;r<t.length&&!((s-=2)<0);++r){const i=t.charCodeAt(r),s=i>>8,o=i%256;e[n+2*r]=o,e[n+2*r+1]=s}return i}};!function(e,t){const n=js,r=Ps,i=Ms,s=zs,o=$s,a=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(e){switch(e){case"ascii":return n;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o;default:throw new Error(`Unknown encoding: ${e}`)}}function u(e){return e instanceof Uint8Array}function l(e,t,n){return"string"==typeof e?function(e,t){const n=c(t),r=new Uint8Array(n.byteLength(e));return n.write(r,e,0,r.byteLength),r}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function h(e,t,n,r,i){if(0===e.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(i)return-1;n=e.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t)t=l(t,r);else if("number"==typeof t)return t&=255,i?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(i){let r=-1;for(let i=n;i<e.byteLength;i++)if(e[i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<t.byteLength;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}}return-1}function f(e,t,n,r){return h(e,t,n,r,!0)}function p(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}e.exports=t={isBuffer:u,isEncoding:function(e){try{return c(e),!0}catch{return!1}},alloc:function(e,n,r){const i=new Uint8Array(e);return void 0!==n&&t.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return c(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4){if(e.getUint32(r,a)!==t.getUint32(r,a))break}for(;r<n;r++){const n=e.getUint8(r),i=t.getUint8(r);if(n<i)return-1;if(n>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const n=new Uint8Array(t);let r=0;for(const t of e){if(r+t.byteLength>n.byteLength){const e=t.subarray(0,n.byteLength-r);return n.set(e,r),n}n.set(t,r),r+=t.byteLength}return n},copy:function(e,t,n=0,r=0,i=e.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-n<i-r&&(i=t.length-n+r);const s=i-r;return e===t?t.copyWithin(n,r,i):t.set(e.subarray(r,i),n),s},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(e.getUint32(r,a)!==t.getUint32(r,a))return!1;for(;r<n;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0},fill:function(e,t,n,r,i){if("string"==typeof t?"string"==typeof n?(i=n,n=0,r=e.byteLength):"string"==typeof r&&(i=r,r=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=e.byteLength),r<=n)return e;if(t||(t=0),"number"==typeof t)for(let i=n;i<r;++i)e[i]=t;else{const s=(t=u(t)?t:l(t,i)).byteLength;for(let i=0;i<r-n;++i)e[i+n]=t[i%s]}return e},from:l,includes:function(e,t,n,r){return-1!==f(e,t,n,r)},indexOf:f,lastIndexOf:function(e,t,n,r){return h(e,t,n,r,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)p(e,n,n+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)p(e,n,n+3),p(e,n+1,n+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)p(e,n,n+7),p(e,n+1,n+6),p(e,n+2,n+5),p(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t,n=0,r=e.byteLength){const i=e.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(e=e.subarray(n,r)),c(t).toString(e))},write:function(e,t,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),c(i).write(e,t,n,r)},writeDoubleLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}}(ks,ks.exports);var Us=ks.exports,qs=Vr(Us);function Vs(e,t,n={}){return Ue((()=>Gs(e,t,n)))}function Gs(e,t,n={}){const{map:r,highWaterMark:i,size:s,offset:o,...a}=n;s&&(a.size=s,a.length=s),o&&(a.offset=o,a.start=o);let c=[];if(e.createReadStream)c.push(e.createReadStream(t,a));else if(e.get){const n=new Os.Readable;c.push(n),Promise.resolve(e.get(t,a)).then((e=>{if(gn(e)&&(e=qs.from(e)),e&&qs.isBuffer(e)){const t=e.length;a.start??=0,a.length&&!a.end?a.end=a.length+(a.start??0):a.end?a.end+=1:a.end=t,e=e.slice(a.start,a.end),n.push(qs.from(e))}n.push(null)})).catch((e=>n.destroy(e)))}if(i&&c.push(function(e){let t=qs.alloc(0);const n=function(n,r){const i=qs.concat([t,n]),s=i.length%e;let o,a=0;for(;(o=a+e)<=i.length;){const t=i.subarray(a,o);this.push(t),a+=e}t=s>0?i.subarray(i.length-s,i.length):null,r()};return new Os.Transform({transform:n,flush(e){t&&t.length&&this.push(t),e()}})}(i)),r&&c.push(new Os.Transform({async transform(e,t){const n=this;await Promise.resolve(r(e)).then((e=>{n.push(e),t(null)})).catch((e=>{t(e)}))}})),0===c.length)throw new Error("createReadStream failed to infer from source.");return 1===c.length?c[0]:Os.pipeline(...c)}const Hs="\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n".split("\n").map((e=>e.split(","))).filter((([e])=>""!==e)).map((([e,t,n,r])=>({name:e,mimeType:t,extension:n,description:r})));var Js=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};Js.now||Js.mozNow||Js.msNow||Js.oNow||Js.webkitNow;const Ys=Zs(!1),Ks=Zs(!0);Ys.win32=Ks,Ks.posix=Ys;var Xs=Ys;function Zs(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}Xs.posix=Xs;const{concatIfEmpty:Qs}=fn,eo={defer:Ue,firstValueFrom:Ie,of:je,concatIfEmpty:Qs,catchError:it,filter:et,map:Me};function to(e,t,n={}){return Vs(e,t,{wait:!1,...n,start:0,end:99}).pipe(eo.map((e=>e.length>30?qr(e):[no(t)??null])),eo.filter((e=>e.length)),eo.map((([e])=>e)),eo.concatIfEmpty(eo.defer((()=>eo.of(no(t))))),eo.catchError((e=>eo.of(null))))}function no(e){const t=Xs.extname(e)?.toLowerCase();return Hs.find((({extension:e})=>e===t))?.mimeType}const ro={map:Me,firstValueFrom:Ie};function io(e,t,n){return to(e,t,n).pipe(ro.map(so))}function so(e){return e?Hs.find((({mimeType:t})=>t===e))?.name:null}function oo(e,t){for(var n=0,r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var ao=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,co=function(e){return ao.exec(e).slice(1)};function uo(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){const r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=oo(yo(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function lo(e){const t=ho(e),n="/"===vo(e,-1);return(e=oo(yo(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function ho(e){return"/"===e.charAt(0)}function fo(){return lo(yo(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function po(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=uo(e).substr(1),t=uo(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}let c=[];for(a=o;a<r.length;a++)c.push("..");return(c=c.concat(i.slice(o))).join("/")}function xo(e){const t=co(e),n=t[0];let r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function mo(e,t){let n=co(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function bo(e){return co(e)[3]}const go={extname:bo,basename:mo,dirname:xo,sep:"/",delimiter:":",relative:po,join:fo,isAbsolute:ho,normalize:lo,resolve:uo};function yo(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var vo="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};!function(e){e&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(Object.freeze({__proto__:null,resolve:uo,normalize:lo,isAbsolute:ho,join:fo,relative:po,sep:"/",delimiter:":",dirname:xo,basename:mo,extname:bo,default:go}));var wo=_o;function _o(e,t,n){e instanceof RegExp&&(e=So(e,n)),t instanceof RegExp&&(t=So(t,n));var r=Eo(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function So(e,t){var n=t.match(e);return n?n[0]:null}function Eo(e,t,n){var r,i,s,o,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],s=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<s&&(s=i,o=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[s,o])}return a}_o.range=Eo;var Ao=wo,Oo=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return Ro(function(e){return e.split("\\\\").join(ko).split("\\{").join(Fo).split("\\}").join(jo).split("\\,").join(Lo).split("\\.").join(Co)}(e),!0).map(Po)},ko="\0SLASH"+Math.random()+"\0",Fo="\0OPEN"+Math.random()+"\0",jo="\0CLOSE"+Math.random()+"\0",Lo="\0COMMA"+Math.random()+"\0",Co="\0PERIOD"+Math.random()+"\0";function To(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Po(e){return e.split(ko).join("\\").split(Fo).join("{").split(jo).join("}").split(Lo).join(",").split(Co).join(".")}function Io(e){if(!e)return[""];var t=[],n=Ao("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=Io(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function Mo(e){return"{"+e+"}"}function No(e){return/^-?0\d/.test(e)}function Do(e,t){return e<=t}function Bo(e,t){return e>=t}function Ro(e,t){var n=[],r=Ao("{","}",e);if(!r)return[e];var i=r.pre,s=r.post.length?Ro(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var c,u,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=l||h,p=r.body.indexOf(",")>=0;if(!f&&!p)return r.post.match(/,.*\}/)?Ro(e=r.pre+"{"+r.body+jo+r.post):[e];if(f)c=r.body.split(/\.\./);else if(1===(c=Io(r.body)).length&&1===(c=Ro(c[0],!1).map(Mo)).length)return s.map((function(e){return r.pre+c[0]+e}));if(f){var d=To(c[0]),x=To(c[1]),m=Math.max(c[0].length,c[1].length),b=3==c.length?Math.abs(To(c[2])):1,g=Do;x<d&&(b*=-1,g=Bo);var y=c.some(No);u=[];for(var v=d;g(v,x);v+=b){var w;if(h)"\\"===(w=String.fromCharCode(v))&&(w="");else if(w=String(v),y){var _=m-w.length;if(_>0){var S=new Array(_+1).join("0");w=v<0?"-"+S+w.slice(1):S+w}}u.push(w)}}else{u=[];for(var E=0;E<c.length;E++)u.push.apply(u,Ro(c[E],!1))}for(E=0;E<u.length;E++)for(o=0;o<s.length;o++){a=i+u[E]+s[o];(!t||f||a)&&n.push(a)}}return n}var zo=Vr(Oo);const Wo=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},$o={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Uo=e=>e.replace(/[[\]\\-]/g,"\\$&"),qo=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Vo=e=>e.join(""),Go=(e,t)=>{const n=t;if("["!==e.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,o=!1,a=!1,c=!1,u=!1,l=n,h="";e:for(;s<e.length;){const t=e.charAt(s);if("!"!==t&&"^"!==t||s!==n+1){if("]"===t&&o&&!c){l=s+1;break}if(o=!0,"\\"!==t||c){if("["===t&&!c)for(const[t,[o,c,u]]of Object.entries($o))if(e.startsWith(t,s)){if(h)return["$.",!1,e.length-n,!0];s+=t.length,u?i.push(o):r.push(o),a=a||c;continue e}c=!1,h?(t>h?r.push(Uo(h)+"-"+Uo(t)):t===h&&r.push(Uo(t)),h="",s++):e.startsWith("-]",s+1)?(r.push(Uo(t+"-")),s+=2):e.startsWith("-",s+1)?(h=t,s+=2):(r.push(Uo(t)),s++)}else c=!0,s++}else u=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!u){const e=2===r[0].length?r[0].slice(-1):r[0];return[qo(e),!1,l-n,!1]}const f="["+(u?"^":"")+Vo(r)+"]",p="["+(u?"":"^")+Vo(i)+"]";return[r.length&&i.length?"("+f+"|"+p+")":r.length?f:p,a,l-n,!0]},Ho=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Jo=new Set(["!","?","+","*","@"]),Yo=e=>Jo.has(e),Ko="(?!\\.)",Xo=new Set(["[","."]),Zo=new Set(["..","."]),Qo=new Set("().*{}+?[]^$\\!"),ea=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ta="[^/]",na=ta+"*?",ra=ta+"+?";class ia{type;#e;#t;#n=!1;#r=[];#i;#s;#o;#a=!1;#c;#u;#l=!1;constructor(e,t,n={}){this.type=e,e&&(this.#t=!0),this.#i=t,this.#e=this.#i?this.#i.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#o=this.#e===this?[]:this.#e.#o,"!"!==e||this.#e.#a||this.#o.push(this),this.#s=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#t)return this.#t;for(const e of this.#r)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return void 0!==this.#u?this.#u:this.type?this.#u=this.type+"("+this.#r.map((e=>String(e))).join("|")+")":this.#u=this.#r.map((e=>String(e))).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;let e;for(this.toString(),this.#a=!0;e=this.#o.pop();){if("!"!==e.type)continue;let t=e,n=t.#i;for(;n;){for(let r=t.#s+1;!n.type&&r<n.#r.length;r++)for(const t of e.#r){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#r[r])}t=n,n=t.#i}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof ia&&t.#i===this))throw new Error("invalid part: "+t);this.#r.push(t)}}toJSON(){const e=null===this.type?this.#r.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#r.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&"!"===this.#i?.type)&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#s)return!0;const e=this.#i;for(let t=0;t<this.#s;t++){const n=e.#r[t];if(!(n instanceof ia&&"!"===n.type))return!1}return!0}isEnd(){if(this.#e===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const e=this.#i?this.#i.#r.length:0;return this.#s===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new ia(this.type,e);for(const e of this.#r)t.copyIn(e);return t}static#f(e,t,n,r){let i=!1,s=!1,o=-1,a=!1;if(null===t.type){let c=n,u="";for(;c<e.length;){const n=e.charAt(c++);if(i||"\\"===n)i=!i,u+=n;else if(s)c===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||c===o+2&&a||(s=!1),u+=n;else if("["!==n)if(r.noext||!Yo(n)||"("!==e.charAt(c))u+=n;else{t.push(u),u="";const i=new ia(n,t);c=ia.#f(e,i,c,r),t.push(i)}else s=!0,o=c,a=!1,u+=n}return t.push(u),c}let c=n+1,u=new ia(null,t);const l=[];let h="";for(;c<e.length;){const n=e.charAt(c++);if(i||"\\"===n)i=!i,h+=n;else if(s)c===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||c===o+2&&a||(s=!1),h+=n;else if("["!==n)if(Yo(n)&&"("===e.charAt(c)){u.push(h),h="";const t=new ia(n,u);u.push(t),c=ia.#f(e,t,c,r)}else if("|"!==n){if(")"===n)return""===h&&0===t.#r.length&&(t.#l=!0),u.push(h),h="",t.push(...l,u),c;h+=n}else u.push(h),h="",l.push(u),u=new ia(null,t);else s=!0,o=c,a=!1,h+=n}return t.type=null,t.#t=void 0,t.#r=[e.substring(n-1)],c}static fromGlob(e,t={}){const n=new ia(null,void 0,t);return ia.#f(e,n,0,t),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const e=this.toString(),[t,n,r,i]=this.toRegExpSource();if(!(r||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const s=(this.#c.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#c.dot;if(this.#e===this&&this.#h(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#r.map((t=>{const[r,i,s,o]="string"==typeof t?ia.#p(t,this.#t,n):t.toRegExpSource(e);return this.#t=this.#t||s,this.#n=this.#n||o,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#r[0]){if(!(1===this.#r.length&&Zo.has(this.#r[0]))){const n=Xo,s=t&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),o=!t&&!e&&n.has(r.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?Ko:""}}let s="";this.isEnd()&&this.#e.#a&&"!"===this.#i?.type&&(s="(?:$|\\/)");return[i+r+s,Ho(r),this.#t=!!this.#t,this.#n]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#d(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#r=[e],this.type=null,this.#t=void 0,[e,Ho(this.toString()),!1,!1]}let s=!n||e||t?"":this.#d(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";if("!"===this.type&&this.#l)o=(this.isStart()&&!t?Ko:"")+ra;else{o=r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":Ko)+na+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,Ho(i),this.#t=!!this.#t,this.#n]}#d(e){return this.#r.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,r,i,s]=t.toRegExpSource(e);return this.#n=this.#n||s,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#p(e,t,n=!1){let r=!1,i="",s=!1;for(let o=0;o<e.length;o++){const a=e.charAt(o);if(r)r=!1,i+=(Qo.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,r,a,c]=Go(e,o);if(a){i+=n,s=s||r,o+=a-1,t=t||c;continue}}"*"!==a?"?"!==a?i+=ea(a):(i+=ta,t=!0):(i+=n&&"*"===e?ra:na,t=!0)}else o===e.length-1?i+="\\\\":r=!0}return[i,Ho(e),!!t,s]}}const sa=(e,t,n={})=>(Wo(t),!(!n.nocomment&&"#"===t.charAt(0))&&new Ta(t,n).match(e)),oa=/^\*+([^+@!?\*\[\(]*)$/,aa=e=>t=>!t.startsWith(".")&&t.endsWith(e),ca=e=>t=>t.endsWith(e),ua=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),la=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),ha=/^\*+\.\*+$/,fa=e=>!e.startsWith(".")&&e.includes("."),pa=e=>"."!==e&&".."!==e&&e.includes("."),da=/^\.\*+$/,xa=e=>"."!==e&&".."!==e&&e.startsWith("."),ma=/^\*+$/,ba=e=>0!==e.length&&!e.startsWith("."),ga=e=>0!==e.length&&"."!==e&&".."!==e,ya=/^\?+([^+@!?\*\[\(]*)?$/,va=([e,t=""])=>{const n=Ea([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},wa=([e,t=""])=>{const n=Aa([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},_a=([e,t=""])=>{const n=Aa([e]);return t?e=>n(e)&&e.endsWith(t):n},Sa=([e,t=""])=>{const n=Ea([e]);return t?e=>n(e)&&e.endsWith(t):n},Ea=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},Aa=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},Oa="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",ka="win32"===Oa?{sep:"\\"}.sep:{sep:"/"}.sep;sa.sep=ka;const Fa=Symbol("globstar **");sa.GLOBSTAR=Fa;sa.filter=(e,t={})=>n=>sa(n,e,t);const ja=(e,t={})=>Object.assign({},e,t);sa.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return sa;const t=sa;return Object.assign(((n,r,i={})=>t(n,r,ja(e,i))),{Minimatch:class extends t.Minimatch{constructor(t,n={}){super(t,ja(e,n))}static defaults(n){return t.defaults(ja(e,n)).Minimatch}},AST:class extends t.AST{constructor(t,n,r={}){super(t,n,ja(e,r))}static fromGlob(n,r={}){return t.AST.fromGlob(n,ja(e,r))}},unescape:(n,r={})=>t.unescape(n,ja(e,r)),escape:(n,r={})=>t.escape(n,ja(e,r)),filter:(n,r={})=>t.filter(n,ja(e,r)),defaults:n=>t.defaults(ja(e,n)),makeRe:(n,r={})=>t.makeRe(n,ja(e,r)),braceExpand:(n,r={})=>t.braceExpand(n,ja(e,r)),match:(n,r,i={})=>t.match(n,r,ja(e,i)),sep:t.sep,GLOBSTAR:Fa})};const La=(e,t={})=>(Wo(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:zo(e));sa.braceExpand=La;sa.makeRe=(e,t={})=>new Ta(e,t).makeRe();sa.match=(e,t,n={})=>{const r=new Ta(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};const Ca=/[?*]|[+@!]\(.*?\)|\[|\]/;class Ta{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){Wo(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||Oa,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&Ca.test(e[2])||Ca.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[]),0===e.length?[""]:e)))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const r=e[n];1===n&&""===r&&""===e[0]||("."!==r&&""!==r||(t=!0,e.splice(n,1),n--))}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let s=n[r+1];const o=n[r+2],a=n[r+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,n.splice(r,1);const c=n.slice(0);c[r]="**",e.push(c),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const r=n[e];1===e&&""===r&&""===n[0]||("."!==r&&""!==r||(t=!0,n.splice(e,1),e--))}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const e=n[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...e),0===n.length&&n.push(""),i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);r&&(e[t]=r,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let r=0,i=0,s=[],o="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])s.push("b"===o?t[i]:e[r]),r++,i++;else if(n&&"**"===e[r]&&t[i]===e[r+1])s.push(e[r]),r++;else if(n&&"**"===t[i]&&e[r]===t[i+1])s.push(t[i]),i++;else if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i]){if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===o)return!1;o="b",s.push(t[i]),r++,i++}else{if("b"===o)return!1;o="a",s.push(e[r]),r++,i++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){const r=this.options;if(this.isWindows){const n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=r?3:n?0:void 0,o=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[n,r]=[e[s],t[o]];n.toLowerCase()===r.toLowerCase()&&(t[o]=n,o>s?t=t.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=t[o],l=e[s];if(this.debug(t,u,l),!1===u)return!1;if(u===Fa){this.debug("GLOBSTAR",[t,u,l]);var h=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,f,p),this.matchOne(e.slice(h),t.slice(f),n))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}let i;if("string"==typeof u?(i=l===u,this.debug("string match",u,l,i)):(i=u.test(l),this.debug("pattern match",u,l,i)),!i)return!1}if(s===a&&o===c)return!0;if(s===a)return n;if(o===c)return s===a-1&&""===e[s];throw new Error("wtf?")}braceExpand(){return La(this.pattern,this.options)}parse(e){Wo(e);const t=this.options;if("**"===e)return Fa;if(""===e)return"";let n,r=null;(n=e.match(ma))?r=t.dot?ga:ba:(n=e.match(oa))?r=(t.nocase?t.dot?la:ua:t.dot?ca:aa)(n[1]):(n=e.match(ya))?r=(t.nocase?t.dot?wa:va:t.dot?_a:Sa)(n):(n=e.match(ha))?r=t.dot?pa:fa:(n=e.match(da))&&(r=xa);const i=ia.fromGlob(e,this.options).toMMPattern();return r?Object.assign(i,{test:r}):i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(t.nocase?["i"]:[]);let i=e.map((e=>{const t=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))r.add(t);return"string"==typeof e?(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(e):e===Fa?Fa:e._src}));return t.forEach(((e,r)=>{const i=t[r+1],s=t[r-1];e===Fa&&s!==Fa&&(void 0===s?void 0!==i&&i!==Fa?t[r+1]="(?:\\/|"+n+"\\/)?"+i:t[r]=n:void 0===i?t[r-1]=s+"(?:\\/|"+n+")?":i!==Fa&&(t[r-1]=s+"(?:\\/|\\/"+n+"\\/)"+i,t[r+1]=Fa))})),t.filter((e=>e!==Fa)).join("/")})).join("|");const[s,o]=e.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let s=r[r.length-1];if(!s)for(let e=r.length-2;!s&&e>=0;e--)s=r[e];for(let e=0;e<i.length;e++){const o=i[e];let a=r;n.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return sa.defaults(e).Minimatch}}sa.AST=ia,sa.Minimatch=Ta,sa.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),sa.unescape=Ho;var Pa=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};Pa.now||Pa.mozNow||Pa.msNow||Pa.oNow||Pa.webkitNow;const Ia=Da(!1),Ma=Da(!0);Ia.win32=Ma,Ma.posix=Ia;var Na=Ia;function Da(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}Na.posix=Na;const{dirname:Ba,isAbsolute:Ra,root:za,basename:Wa,extname:$a,resolve:Ua,join:qa,normalize:Va}=Na;var Ga=Gr(Object.freeze({__proto__:null,basename:Wa,default:Na,dirname:Ba,extname:$a,isAbsolute:Ra,join:qa,normalize:Va,posix:Na,resolve:Ua,root:za,win32:Na}));var Ha=Gr(Object.freeze({__proto__:null,platform:function(){return"browser"}}));Ga.posix.dirname,Ha.platform();var Ja=Object.freeze({__proto__:null,default:function(e,t){for(var n=[],r=0;r<Math.min(e.length,t.length)&&e[r]===t[r];r++)n.push(e[r]);return n}}),Ya=Gr(Ja),Ka=function(e){const t=Ya,n=Ga;return e.map(n.dirname).map((e=>e.split(n.sep))).reduce(t).concat([""]).join(n.sep)};var Xa=Vr(Ka);const Za={map:yn,isString:gn,isEmpty:function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length}},Qa={from:Fe,map:Me,startWith:Pt,toArray:ct,traverse:function({concurrency:e=1,factory:t,operator:n=E,notifier:r}){return new A((i=>{let s,o;if(r)s=new Bt(r),o=E;else{const e=new I;s=new Bt(e),o=t=>(e.next(),t)}const a=new I;a.subscribe(i),i.add(s.connect()),je(void 0).pipe(function(e,t=1/0,n){return t=(t||0)<1?1/0:t,F(((r,i)=>Be(r,i,e,t,void 0,!0,n)))}((e=>s.pipe(Re((r=>t(e,r).pipe(Re((({markers:e,values:t})=>$e(Fe(t).pipe(n,Dt((e=>a.next(e))),dt()),Fe(e))))))),o)),e)).subscribe(new $t(i,{complete:()=>a.complete(),error:e=>a.error(e),next:h}))}))}};const ec={firstValueFrom:Ie,identity:E,concatMap:ut,defaultIfEmpty:ft,filter:et,map:Me,reduce:ot,take:pt,toArray:ct};function tc(e,t,n,r={}){!n||gn(n)||arguments[3]||(r=n,n=null),t=bn(t);const{cwd:i=n||Xa(t),maxLevel:s=Number.POSITIVE_INFINITY,minLevel:o=0,count:a=Number.POSITIVE_INFINITY,filter:c}=r;return r.cwd=i,function(e,t="/",n={}){!Za.isString(t)&&Za.isEmpty(n)&&(n=t,t="/");const{cwd:r}=n;let i=!0;return Qa.traverse({factory:(n=t||r)=>ic(e,{cwd:n,recursive:!1}).pipe(Qa.toArray(),Qa.map((e=>{const t=Xs.dirname(n)||"/";try{return{markers:t&&"."!==n&&i?[t]:[],values:Za.map(e,(e=>Xs.resolve(n,e)))}}finally{i=!("/"===t)}})))}).pipe(Qa.startWith("/"))}(e,i,r).pipe(ec.filter((e=>{return n=t=>sa(e,jr(t)||Fr(t)?Xs.resolve(i,t):"/**/"+t,{matchBase:!0}),!!t.find(n);var n})),c?ec.filter(c):ec.identity,ec.take(a),ec.map((e=>[e,Xs.dirname(e).split("/").length-1])),ec.reduce(((e,[t,n])=>{if(n>=o&&n<s){for(let t=0;t<=n;t++)e[t]||=[];e[n].push(t)}return e}),[]))}function nc(e,t={}){return function(e,t,n,r={}){return tc(e,t,n,r).pipe(ec.concatMap((e=>e.flat())),ec.toArray(),ec.defaultIfEmpty(null))}(e,"node_modules",void 0,t)}const rc={defer:Ue,firstValueFrom:Ie,from:Fe,filter:et,map:Me,mergeMap:Re,toArray:ct,of:je,concatMap:ut};function ic(e,t={}){gn(t)&&(t={cwd:t});let n,{cwd:r="/",list:i=!1,recursive:s=i,trimPath:o=!0}=t;if(e.list||e.readdir){const s=(i?e.list:e.readdir)?.bind(e);i&&!e.list&&e.readdir?(t.recursive=!0,n=rc.from(e.readdir(r,t)).pipe(rc.mergeMap((n=>function(e,t,n={}){const{cwd:r="/",entrySelector:i=wc}=n;Fr(t)||jr(t)?jr(t)||(t=Xs.resolve(t,r)):t=function(e,t="/"){return(t||"")+wn(e,t)}(t);return vc.from(i(e,t,n)).pipe(vc.filter((e=>!!e)),vc.mergeMap((n=>{return(r=e,i=t,Ut({isFolder:Pr(r,i),isFile:Cr(r,i),type:to(r,i),typeName:io(r,i),fullPath:je(i)})).pipe(vc.map((e=>({key:t,...n,...e}))));var r,i})))}(e,n,t))))):n=rc.defer((()=>s(r,t))).pipe(rc.concatMap((e=>Array.isArray(e)?e:rc.of(e))))}else if(function(e){return e.sub&&e.batch&&e.createHistoryStream}(e)){const{range:a,limit:c,reverse:u}=t,l=e.snapshot();n=rc.from(l.createReadStream(a,{limit:c,reverse:u})).pipe(rc.map((e=>i?e:e.key)),rc.filter((e=>{let t=i?e.key:e;if(t=o?Sn(t,"./"):t,vn(t,r?r+"/":"")){const e=r?.length||0;return!!s||t.slice(e>0?e+1:0).split("/").length<=1}return!1})))}return n}const sc=()=>et((e=>null!=e));function oc(e,t={}){let{host:n,version:r="",path:i="",type:s="",mapPath:o}=t;if(vn(Sn(e,"/."),"node_modules")){const t=Sn(e,"/.").split("/");t.shift(),e=t.join("/")}null===r&&(r="");const a=r;let c="",u="";var l,h,f;let p,d;if(s&&(vn(e,`/${s}/`)&&(e=e.slice(`/${s}/`.length)),vn(e,`${s}/`)&&(e=e.slice(`${s}/`.length)),h="/+esm",(l=e)&&l.endsWith(h,f)&&(e=e.slice(0,-5))),vn(e,"@")?([,e,r=r]=e.split("@",3),[r=r,...p]=r.split("/"),[u,e,...d]=e.split("/")):([e,r=r]=e.split("@",2),[r=r,...p]=r.split("/"),[e,...d]=e.split("/")),!Sn(e,"./"))return null;p.length>0&&d.length,i?c=i:p.length>0?c=p.join("/"):d.length>0&&(c=d.join("/")),r=a||r;const x=`${u?"@"+u+"/":""}${e}${r?"@"+r:""}`,m=""+(c?"/"+wn(c,"/"):"");let b=[`${x}${m}`];if(m){Xs.extname(m)||function(e,t){if(!Array.isArray(e))throw new Error("Native each supports only array.");e.forEach(t)}([".js",".cjs",".mjs",".json","/"],(e=>{let t=`${x}${m}${e}`;b.push(t)}))}return n&&(b=yn(b,(e=>`${n}${s?"/"+s:""}/${e}`))),o&&(b=b.map(o)),{nodeModulesPath:`node_modules/${x}`,type:s,path:`/${x}${m}`,pathName:m,namespace:u,scope:u,version:r,module:`${x}`,name:e,paths:b}}const ac=e=>null!==e&&"object"==typeof e,cc=(e,t)=>Object.assign(new Error(`[${e}]: ${t}`),{code:e}),uc="ERR_INVALID_PACKAGE_CONFIG",lc="ERR_INVALID_PACKAGE_TARGET",hc=/^\d+$/,fc=/^(\.{1,2}|node_modules)$/i,pc=/\/|\\/;var dc=(e=>(e.Export="exports",e.Import="imports",e))(dc||{});const xc=(e,t,n,r,i)=>{if(null==t)return[];if("string"==typeof t){const[n,...r]=t.split(pc);if(".."===n||r.some((e=>fc.test(e))))throw cc(lc,`Invalid "${e}" target "${t}" defined in the package config`);return[i?t.replace(/\*/g,i):t]}if(Array.isArray(t))return t.flatMap((t=>xc(e,t,n,r,i)));if(ac(t)){for(const s of Object.keys(t)){if(hc.test(s))throw cc(uc,"Cannot contain numeric property keys");if("default"===s||r.includes(s))return xc(e,t[s],n,r,i)}return[]}throw cc(lc,`Invalid "${e}" target "${t}"`)},mc="*",bc=(e,t)=>{const n=e.indexOf(mc),r=t.indexOf(mc);return n===r?t.length>e.length:r>n};const gc=/^\w+:/,yc=(e,t,n)=>{if(!e)throw new Error('"exports" is required');t=""===t?".":`./${t}`,("string"==typeof e||Array.isArray(e)||ac(e)&&(e=>Object.keys(e).reduce(((e,t)=>{const n=""===t||"."!==t[0];if(void 0===e||e===n)return n;throw cc(uc,'"exports" cannot contain some keys starting with "." and some not')}),void 0))(e))&&(e={".":e});const[r,i]=function(e,t){if(!t.includes(mc)&&e.hasOwnProperty(t))return[t];let n,r;for(const i of Object.keys(e))if(i.includes(mc)){const[e,s,o]=i.split(mc);if(void 0===o&&t.startsWith(e)&&t.endsWith(s)){const o=t.slice(e.length,-s.length||void 0);o&&(!n||bc(n,i))&&(n=i,r=o)}}return[n,r]}(e,t),s=xc(dc.Export,e[r],t,n,i);if(0===s.length)throw cc("ERR_PACKAGE_PATH_NOT_EXPORTED","."===t?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(const e of s)if(!e.startsWith("./")&&!gc.test(e))throw cc(lc,`Invalid "exports" target "${e}" defined in the package config`);return s},vc={firstValueFrom:Ie,from:Fe,defaultIfEmpty:ft,filter:et,map:Me,mergeMap:Re,take:pt};async function wc(e,t,n){const r=e.get?.bind(e),i=e.entry?.bind(e);let s={};if(r||i){const e=await(i||r)(t,n);return e?(i?(s=e,s.size=e?.value?.blob?.byteLength||0):(s.value={},s.value.blob={},s.value.blob.byteLength=qs.from(e)?.byteLength||0,s.value.blob.byteOffset=0,s.value.executable=!1,s.value.metadata=null,s.size=s.value.blob.byteLength||0),s):{}}return s}function _c(e,t={}){return gn(t)&&(t={cwd:t}),ic(e,{...t,list:!0})}async function Sc(e,t){return Ie(_c(e,t).pipe(ut((e=>Array.isArray(e)?e:je(e))),ct()))}const Ec=Us;var Ac=Oc;function Oc(e,t){if("object"==typeof e&&e)return function(e){return!!(e.encode&&e.decode&&e.preencode)}(e)?function(e){return{name:"compact-encoding",encode:function(t){const n={start:0,end:0,buffer:null,cache:null};return e.preencode(n,t),n.buffer=Ec.allocUnsafe(n.end),e.encode(n,t),n.buffer},decode:function(t){return e.decode({start:0,end:t.byteLength,buffer:t,cache:null})}}}(e):e;switch(e){case"ndjson":return Oc.ndjson;case"json":return Oc.json;case"ascii":return Oc.ascii;case"utf-8":case"utf8":return Oc.utf8;case"hex":return Oc.hex;case"base64":return Oc.base64;case"ucs-2":case"ucs2":return Oc.ucs2;case"utf16-le":case"utf16le":return Oc.utf16le}return void 0!==t?t:Oc.binary}function kc(e){return{name:e?"ndjson":"json",encode:e?function(e){return Ec.from(JSON.stringify(e)+"\n")}:function(e){return Ec.from(JSON.stringify(e))},decode:function(e){return JSON.parse(Ec.toString(e))}}}function Fc(e){return{name:e,encode:function(t){return"string"!=typeof t&&(t=t.toString()),Ec.from(t,e)},decode:function(t){return Ec.toString(t,e)}}}Oc.ascii=Fc("ascii"),Oc.utf8=Fc("utf-8"),Oc.hex=Fc("hex"),Oc.base64=Fc("base64"),Oc.ucs2=Fc("ucs2"),Oc.utf16le=Fc("utf16le"),Oc.ndjson=kc(!0),Oc.json=kc(!1),Oc.binary={name:"binary",encode:function(e){return"string"==typeof e?Ec.from(e,"utf-8"):Ec.toBuffer(e)},decode:function(e){return Ec.toBuffer(e)}};var jc=Vr(Ac);function Lc(e,t,n={}){"string"==typeof n&&(n={encoding:n});const{getter:r=((e,t,n)=>e.get(t,n)),encoding:i=jc("binary"),...s}=n;return Ue((()=>Promise.resolve(r(e,t,s)))).pipe(Me((e=>e&&(qs.isBuffer(e)?e:jc(i).encode(e)))))}function Cc(e,t,n,r={}){"string"==typeof r&&(r={encoding:r});const{putter:i=((e,t,n,r={})=>e.put(t,n,r)),encoding:s="binary",sourceEncoding:o="binary",...a}=r;return null===s||qs.isBuffer(n)||(n=jc(s).encode(n)),Ue((()=>Promise.resolve(i(e,t,n,a))))}function Tc(e,t,n={}){return Ie(function(e,t,n={}){"string"==typeof n&&(n={encoding:n});const{appender:r=((e,t,n,r)=>e.append(n,r)),encoding:i="binary",sourceEncoding:s="binary",...o}=n;return null===i||qs.isBuffer(t)||(t=jc(i).encode(t)),Ue((()=>Promise.resolve(r(e,t,o))))}(e,t,n).pipe(ft(null)))}function Pc(e,t={}){return Ie(function(e,t={}){"function"==typeof t&&(t={readier:t});const{readier:n=(e=>e?.ready?.()||Promise.resolve())}=t;return Ue((()=>Promise.resolve(n(e))))}(e,t).pipe(ft(null)))}const Ic=256<<17;function Mc(e,t){let n,r=!1;const i={};if(e&&("number"!=typeof(s=e)._duplexState||!function(e){return!!e._readableState||!!e._writableState}(s))){let t;({readable:e,writable:n,duplex:t}=e),!t||e||n||(e=t,n=t)}var s;if(!e&&!n)throw new Error("Invalid stream");let o,a;return e&&(o=new ReadableStream({start:function(t){i.data=n,i.end=n,i.end=s,i.close=s,i.error=s;for(let t in i)e.on(t,i[t]);function n(n){r||(t.enqueue("string"==typeof n?qs.from(n):n),e.pause())}function s(n){if(!r){r=!0;for(let t in i)e.off(t,i[t]);n?t.error(n):t.close()}}e.pause()},pull:function(){r||e.resume()},cancel:function(){r=!0;for(let t in i)e.off(t,i[t]);e.push(null),e.pause(),e.destroy?e.destroy():e.close&&e.close()},type:t?"bytes":void 0}),!n)?o:n&&(a=new WritableStream({async write(e){n.write("string"==typeof e?qs.from(e):e)||await function(e,t=!1){if(e.destroyed)return Promise.resolve(!1);const n=e._writableState,r=(t?Math.min(1,n.queue.length):n.queue.length)+(e._duplexState&Ic?1:0);return 0===r?Promise.resolve(!0):(null===n.drains&&(n.drains=[]),new Promise((e=>{n.drains.push({writes:r,resolve:e})})))}(n,!1)}}),!e)?a:{readable:o,writable:a}}const{takeSync:Nc,concatTap:Dc}=fn,Bc={ReplaySubject:D,concatAll:We,ignoreElements:dt,map:Me,takeWhile:Nt,toArray:ct};let Rc,zc=new Bc.ReplaySubject,Wc=!1;function $c(e,t={}){let n,r,i=new Promise(((e,t)=>{n=e,r=t})),s=[],o={method:e.method??"GET",body:e.body??null,mode:e.mode??"cors",credentials:e.credentials??"same-origin",redirect:e.redirect??"follow",priority:e.priority??"auto",...t,headers:{...e.headers||{},...t}};"string"==typeof e&&(o.url=e);const{response$:a,...c}=o;return zc.pipe(Nc(),Bc.toArray(),Bc.map((e=>e.reverse())),Bc.concatAll(),Dc((async e=>{e(c,{request:c,async next(){let e,t,n=new Promise(((n,r)=>{e=n,t=r}));return s.unshift([e,t]),n},async end(){if(c.ended)return;c.ended=!0;const e=new Request(c.url,c);n(await Rc(e))},respond(e,t={}){c.ended||(c.ended=!0,t.status||=200,("undefined"!=typeof window&&e._readableState||e._writableState)&&(e=Mc(e)),console.log("Constructing response object from",{req:c,options:t}),n(e instanceof Response?e:new Response(e,{...c,...t})))},error:e=>(c.ended=!0,c.error=e,r(e))})})),Bc.takeWhile((()=>!c.ended)),Bc.ignoreElements()).subscribe((async()=>{for await(const[e,t]of s)c.error?t(c.error):e(c);c.ended||(c.ended=!0,n(Rc(e,t)))})),i}function Uc(e,t,n={}){!function(){if(!Wc){if("undefined"==typeof Request||"undefined"==typeof fetch)throw new Error("Fetch not supported.");Rc=fetch,fetch=$c,Wc=!0}}(),n.protocol&&(n.protocol=_n(n.protocol||":",":")+":");const{protocol:r,mapper:i=(async e=>e)}=n,s=pn(t);zc.next((async(t,n)=>{const{pathname:o,protocol:a}=kr(t.url);if(r&&r!==a)return;let c=s(o);if(!c)return;let{path:u,index:l,params:h}=c;h.path&&(u="/"+bn(h.path).join("/"),delete h.path);const f=await Promise.resolve(i({path:u,index:l,params:h}));if(null!=f){({path:u}=f);try{n.respond(Gs(e,u))}catch(e){n.next()}}}))}function qc(e){zc.next(e)}var Vc={},Gc={};const Hc=Gc.LE=255===new Uint8Array(new Uint16Array([255]).buffer)[0];Gc.BE=!Hc;var Jc={exports:{}};!function(e,t){const n=Us,{BE:r}=Gc;t=e.exports={preencode(e,t){e.end+=t.byteLength},encode(e,t){e.buffer.set(t,e.start),e.start+=t.byteLength},decode(e){const t=e.buffer.subarray(e.start,e.end);return e.start=e.end,t}};const i=t.buffer={preencode(e,t){t?o.preencode(e,t):e.end++},encode(e,t){t?o.encode(e,t):e.buffer[e.start++]=0},decode(e){const t=e.buffer.subarray(e.start);return 0===t.byteLength?null:(e.start=e.end,t)}};function s(e,t){const n=e.BYTES_PER_ELEMENT;return{preencode(e,t){e.end+=t.byteLength},encode(e,n){const i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);r&&t&&t(i),e.buffer.set(i,e.start),e.start+=n.byteLength},decode(i){let s=i.buffer.subarray(i.start);return s.byteOffset%n!=0&&(s=new Uint8Array(s)),r&&t&&t(s),i.start=i.end,new e(s.buffer,s.byteOffset,s.byteLength/n)}}}t.binary={...i,preencode(e,t){"string"==typeof t?c.preencode(e,t):i.preencode(e,t)},encode(e,t){"string"==typeof t?c.encode(e,t):i.encode(e,t)}};const o=t.uint8array=s(Uint8Array);function a(e){return{preencode(t,r){t.end+=n.byteLength(r,e)},encode(t,r){t.start+=n.write(t.buffer,r,t.start,e)},decode(t){const r=n.toString(t.buffer,e,t.start);return t.start=t.end,r}}}t.uint16array=s(Uint16Array,n.swap16),t.uint32array=s(Uint32Array,n.swap32),t.int8array=s(Int8Array),t.int16array=s(Int16Array,n.swap16),t.int32array=s(Int32Array,n.swap32),t.float32array=s(Float32Array,n.swap32),t.float64array=s(Float64Array,n.swap64);const c=t.string=t.utf8=a("utf-8");t.ascii=a("ascii"),t.hex=a("hex"),t.base64=a("base64"),t.ucs2=t.utf16le=a("utf16le"),t.array=function(e){return{preencode(t,n){for(const r of n)e.preencode(t,r)},encode(t,n){for(const r of n)e.encode(t,r)},decode(t){const n=[];for(;t.start<t.end;)n.push(e.decode(t));return n}}},t.json={preencode(e,t){c.preencode(e,JSON.stringify(t))},encode(e,t){c.encode(e,JSON.stringify(t))},decode:e=>JSON.parse(c.decode(e))},t.ndjson={preencode(e,t){c.preencode(e,JSON.stringify(t)+"\n")},encode(e,t){c.encode(e,JSON.stringify(t)+"\n")},decode:e=>JSON.parse(c.decode(e))}}(Jc,Jc.exports);var Yc=Jc.exports,Kc={preencode:function e(t,n){if(n<251)t.end++;else if(n<256)t.end+=2;else if(n<65536)t.end+=3;else if(n<16777216)t.end+=4;else if(n<4294967296)t.end+=5;else{t.end++;const r=Math.floor(Math.log(n)/Math.log(2))-32;e(t,r),t.end+=6}},encode:function e(t,n){const r=251,i=n-r;if(n<r)t.buffer[t.start++]=n;else if(n<256)t.buffer[t.start++]=r,t.buffer[t.start++]=i;else if(n<65536)t.buffer[t.start++]=252,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else if(n<16777216)t.buffer[t.start++]=253,t.buffer[t.start++]=i>>16,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else if(n<4294967296)t.buffer[t.start++]=254,t.buffer[t.start++]=i>>24,t.buffer[t.start++]=i>>16&255,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else{const n=Math.floor(Math.log(i)/Math.log(2))-32;t.buffer[t.start++]=255,e(t,n);const r=i/Math.pow(2,n-11);for(let e=5;e>=0;e--)t.buffer[t.start++]=r/Math.pow(2,8*e)&255}},decode:function e(t){const n=251;if(t.end-t.start<1)throw new Error("Out of bounds");const r=t.buffer[t.start++];if(r<n)return r;if(t.end-t.start<r-n+1)throw new Error("Out of bounds.");if(r<252)return t.buffer[t.start++]+n;if(r<253)return(t.buffer[t.start++]<<8)+t.buffer[t.start++]+n;if(r<254)return(t.buffer[t.start++]<<16)+(t.buffer[t.start++]<<8)+t.buffer[t.start++]+n;if(r<255)return 16777216*t.buffer[t.start++]+(t.buffer[t.start++]<<16)+(t.buffer[t.start++]<<8)+t.buffer[t.start++]+n;const i=e(t);if(t.end-t.start<6)throw new Error("Out of bounds");let s=0;for(let e=5;e>=0;e--)s+=t.buffer[t.start++]*Math.pow(2,8*e);return s*Math.pow(2,i-11)+n}};!function(e){const t=Us,{BE:n}=Gc;e.state=function(e=0,t=0,n=null){return{start:e,end:t,buffer:n,cache:null}};const r=e.raw=Yc,i=e.uint={preencode(e,t){e.end+=t<=252?1:t<=65535?3:t<=4294967295?5:9},encode(e,t){t<=252?s.encode(e,t):t<=65535?(e.buffer[e.start++]=253,o.encode(e,t)):t<=4294967295?(e.buffer[e.start++]=254,c.encode(e,t)):(e.buffer[e.start++]=255,f.encode(e,t))},decode(e){const t=s.decode(e);return t<=252?t:253===t?o.decode(e):254===t?c.decode(e):f.decode(e)}},s=e.uint8={preencode(e,t){e.end+=1},encode(e,t){e.buffer[e.start++]=t},decode(e){if(e.start>=e.end)throw new Error("Out of bounds");return e.buffer[e.start++]}},o=e.uint16={preencode(e,t){e.end+=2},encode(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8},decode(e){if(e.end-e.start<2)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]}},a=e.uint24={preencode(e,t){e.end+=3},encode(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8,e.buffer[e.start++]=t>>>16},decode(e){if(e.end-e.start<3)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]+65536*e.buffer[e.start++]}},c=e.uint32={preencode(e,t){e.end+=4},encode(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8,e.buffer[e.start++]=t>>>16,e.buffer[e.start++]=t>>>24},decode(e){if(e.end-e.start<4)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]+65536*e.buffer[e.start++]+16777216*e.buffer[e.start++]}},u=e.uint40={preencode(e,t){e.end+=5},encode(e,t){const n=Math.floor(t/256);s.encode(e,t),c.encode(e,n)},decode(e){if(e.end-e.start<5)throw new Error("Out of bounds");return s.decode(e)+256*c.decode(e)}},l=e.uint48={preencode(e,t){e.end+=6},encode(e,t){const n=Math.floor(t/65536);o.encode(e,t),c.encode(e,n)},decode(e){if(e.end-e.start<6)throw new Error("Out of bounds");return o.decode(e)+65536*c.decode(e)}},h=e.uint56={preencode(e,t){e.end+=7},encode(e,t){const n=Math.floor(t/16777216);a.encode(e,t),c.encode(e,n)},decode(e){if(e.end-e.start<7)throw new Error("Out of bounds");return a.decode(e)+16777216*c.decode(e)}},f=e.uint64={preencode(e,t){e.end+=8},encode(e,t){const n=Math.floor(t/4294967296);c.encode(e,t),c.encode(e,n)},decode(e){if(e.end-e.start<8)throw new Error("Out of bounds");return c.decode(e)+4294967296*c.decode(e)}};e.int=E(i),e.int8=E(s),e.int16=E(o),e.int24=E(a),e.int32=E(c),e.int40=E(u),e.int48=E(l),e.int56=E(h),e.int64=E(f),e.lexint=Kc,e.float32={preencode(e,t){e.end+=4},encode(e,t){new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,4).setFloat32(0,t,!0),e.start+=4},decode(e){if(e.end-e.start<4)throw new Error("Out of bounds");const t=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,4).getFloat32(0,!0);return e.start+=4,t}},e.float64={preencode(e,t){e.end+=8},encode(e,t){new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,8).setFloat64(0,t,!0),e.start+=8},decode(e){if(e.end-e.start<8)throw new Error("Out of bounds");const t=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,8).getFloat64(0,!0);return e.start+=8,t}};const p=e.buffer={preencode(e,t){t?x.preencode(e,t):e.end++},encode(e,t){t?x.encode(e,t):e.buffer[e.start++]=0},decode(e){const t=i.decode(e);if(0===t)return null;if(e.end-e.start<t)throw new Error("Out of bounds");return e.buffer.subarray(e.start,e.start+=t)}};function d(e,t){const r=e.BYTES_PER_ELEMENT;return{preencode(e,t){i.preencode(e,t.length),e.end+=t.byteLength},encode(e,r){i.encode(e,r.length);const s=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);n&&t&&t(s),e.buffer.set(s,e.start),e.start+=r.byteLength},decode(s){const o=i.decode(s);let a=s.buffer.subarray(s.start,s.start+=o*r);if(a.byteLength!==o*r)throw new Error("Out of bounds");return a.byteOffset%r!=0&&(a=new Uint8Array(a)),n&&t&&t(a),new e(a.buffer,a.byteOffset,a.byteLength/r)}}}e.binary={...p,preencode(e,t){"string"==typeof t?b.preencode(e,t):p.preencode(e,t)},encode(e,t){"string"==typeof t?b.encode(e,t):p.encode(e,t)}};const x=e.uint8array=d(Uint8Array);function m(e){return{preencode(n,r){const s=t.byteLength(r,e);i.preencode(n,s),n.end+=s},encode(n,r){const s=t.byteLength(r,e);i.encode(n,s),t.write(n.buffer,r,n.start,e),n.start+=s},decode(n){const r=i.decode(n);if(n.end-n.start<r)throw new Error("Out of bounds");return t.toString(n.buffer,e,n.start,n.start+=r)},fixed:n=>({preencode(e){e.end+=n},encode(r,i){t.write(r.buffer,i,r.start,n,e),r.start+=n},decode(r){if(r.end-r.start<n)throw new Error("Out of bounds");return t.toString(r.buffer,e,r.start,r.start+=n)}})}}e.uint16array=d(Uint16Array,t.swap16),e.uint32array=d(Uint32Array,t.swap32),e.int8array=d(Int8Array),e.int16array=d(Int16Array,t.swap16),e.int32array=d(Int32Array,t.swap32),e.float32array=d(Float32Array,t.swap32),e.float64array=d(Float64Array,t.swap64);const b=e.string=e.utf8=m("utf-8");e.ascii=m("ascii"),e.hex=m("hex"),e.base64=m("base64"),e.ucs2=e.utf16le=m("utf16le"),e.bool={preencode(e,t){e.end++},encode(e,t){e.buffer[e.start++]=t?1:0},decode(e){if(e.start>=e.end)throw Error("Out of bounds");return 1===e.buffer[e.start++]}};const g=e.fixed=function(e){return{preencode(t,n){t.end+=e},encode(t,n){t.buffer.set(n,t.start),t.start+=e},decode(t){if(t.end-t.start<e)throw new Error("Out of bounds");return t.buffer.subarray(t.start,t.start+=e)}}};e.fixed32=g(32),e.fixed64=g(64),e.array=function(e){return{preencode(t,n){i.preencode(t,n.length);for(let r=0;r<n.length;r++)e.preencode(t,n[r])},encode(t,n){i.encode(t,n.length);for(let r=0;r<n.length;r++)e.encode(t,n[r])},decode(t){const n=i.decode(t);if(n>1048576)throw new Error("Array is too big");const r=new Array(n);for(let i=0;i<n;i++)r[i]=e.decode(t);return r}}},e.frame=function(t){const n=e.state();return{preencode(e,n){const r=e.end;t.preencode(e,n),i.preencode(e,e.end-r)},encode(e,r){n.end=0,t.preencode(n,r),i.encode(e,n.end),t.encode(e,r)},decode(e){const n=e.end,r=i.decode(e);e.end=e.start+r;const s=t.decode(e);return e.start=e.end,e.end=n,s}}},e.json={preencode(e,t){b.preencode(e,JSON.stringify(t))},encode(e,t){b.encode(e,JSON.stringify(t))},decode:e=>JSON.parse(b.decode(e))},e.ndjson={preencode(e,t){b.preencode(e,JSON.stringify(t)+"\n")},encode(e,t){b.encode(e,JSON.stringify(t)+"\n")},decode:e=>JSON.parse(b.decode(e))},e.none={preencode(e,t){},encode(e,t){},decode:e=>null};const y={preencode(e,t){i.preencode(e,t.length);for(let n=0;n<t.length;n++)_.preencode(e,t[n])},encode(e,t){i.encode(e,t.length);for(let n=0;n<t.length;n++)_.encode(e,t[n])},decode(e){const t=[];let n=i.decode(e);for(;n-- >0;)t.push(_.decode(e));return t}},v={preencode(e,t){const n=Object.keys(t);i.preencode(e,n.length);for(const r of n)b.preencode(e,r),_.preencode(e,t[r])},encode(e,t){const n=Object.keys(t);i.encode(e,n.length);for(const r of n)b.encode(e,r),_.encode(e,t[r])},decode(e){let t=i.decode(e);const n={};for(;t-- >0;){n[b.decode(e)]=_.decode(e)}return n}},w=[e.none,e.bool,e.string,e.buffer,e.uint,e.int,e.float64,y,v],_=e.any={preencode(e,t){const n=S(t);i.preencode(e,n),w[n].preencode(e,t)},encode(e,t){const n=S(t);i.encode(e,n),w[n].encode(e,t)},decode(e){const t=i.decode(e);if(t>=w.length)throw new Error("Unknown type: "+t);return w[t].decode(e)}};function S(e){if(null==e)return 0;if("boolean"==typeof e)return 1;if("string"==typeof e)return 2;if(t.isBuffer(e))return 3;if("number"==typeof e)return Number.isInteger(e)?e>=0?4:5:6;if(Array.isArray(e))return 7;if("object"==typeof e)return 8;throw new Error("Unsupported type for "+e)}function E(e){return{preencode(t,n){e.preencode(t,A(n))},encode(t,n){e.encode(t,A(n))},decode:t=>function(e){return 0===e?e:0==(1&e)?e/2:-(e+1)/2}(e.decode(t))}}function A(e){return e<0?2*-e-1:0===e?0:2*e}e.from=function(e){return"string"==typeof e?function(e){switch(e){case"ascii":return r.ascii;case"utf-8":case"utf8":return r.utf8;case"hex":return r.hex;case"base64":return r.base64;case"utf16-le":case"utf16le":case"ucs-2":case"ucs2":return r.ucs2;case"ndjson":return r.ndjson;case"json":return r.json;default:return r.binary}}(e):e.preencode?e:e.encodingLength?function(e){return{preencode(t,n){t.end+=e.encodingLength(n)},encode(t,n){e.encode(n,t.buffer,t.start),t.start+=e.encode.bytes},decode(t){const n=e.decode(t.buffer,t.start,t.end);return t.start+=e.decode.bytes,n}}}(e):function(e){let t=null,n=null;return{preencode(r,i){t=i,n=e.encode(i),r.end+=n.byteLength},encode(i,s){r.encode(i,s===t?n:e.encode(s)),t=n=null},decode:t=>e.decode(r.decode(t))}}(e)},e.encode=function(n,r){const i=e.state();return n.preencode(i,r),i.buffer=t.allocUnsafe(i.end),n.encode(i,r),i.buffer},e.decode=function(t,n){return t.decode(e.state(0,n.byteLength,n))}}(Vc);var Xc=Vr(Vc),Zc=function(e){if(function(e){return!!e&&(e instanceof TypeError||e instanceof SyntaxError||e instanceof ReferenceError||e instanceof EvalError||e instanceof RangeError||e instanceof URIError||"ERR_ASSERTION"===e.code)}(e))throw function(e){queueMicrotask((()=>{throw e}))}(e),e};const Qc=Us,eu=Vc,tu=li,nu=Zc;class ru{constructor(e,t,n,r,i,s,o,a,c,u,l,h){this.userData=n,this.protocol=r,this.aliases=i,this.id=s,this.handshake=null,this.messages=[],this.opened=!1,this.closed=!1,this.destroyed=!1,this.onopen=c,this.onclose=u,this.ondestroy=l,this.ondrain=h,this._handshake=o,this._mux=e,this._info=t,this._localId=0,this._remoteId=0,this._active=0,this._extensions=null,this._decBound=this._dec.bind(this),this._decAndDestroyBound=this._decAndDestroy.bind(this);for(const e of a)this.addMessage(e)}get drained(){return this._mux.drained}open(e){const t=this._mux._free.length>0?this._mux._free.pop():this._mux._local.push(null)-1;this._info.opened++,this._localId=t+1,this._mux._local[t]=this,0===this._remoteId&&this._info.outgoing.push(this._localId);const n={buffer:null,start:2,end:2};eu.uint.preencode(n,this._localId),eu.string.preencode(n,this.protocol),eu.buffer.preencode(n,this.id),this._handshake&&this._handshake.preencode(n,e),n.buffer=this._mux._alloc(n.end),n.buffer[0]=0,n.buffer[1]=1,eu.uint.encode(n,this._localId),eu.string.encode(n,this.protocol),eu.buffer.encode(n,this.id),this._handshake&&this._handshake.encode(n,e),this._mux._write0(n.buffer)}_dec(){0==--this._active&&!0===this.closed&&this._destroy()}_decAndDestroy(e){this._dec(),this._mux._safeDestroy(e)}_fullyOpenSoon(){this._mux._remote[this._remoteId-1].session=this,tu(this._fullyOpen.bind(this))}_fullyOpen(){if(!0===this.opened||!0===this.closed)return;const e=this._mux._remote[this._remoteId-1];this.opened=!0,this.handshake=this._handshake?this._handshake.decode(e.state):null,this._track(this.onopen(this.handshake,this)),e.session=this,e.state=null,null!==e.pending&&this._drain(e)}_drain(e){for(let t=0;t<e.pending.length;t++){const n=e.pending[t];this._mux._buffered-=au(n.state),this._recv(n.type,n.state)}e.pending=null,this._mux._resumeMaybe()}_track(e){!0===function(e){return!(!e||"function"!=typeof e.then)}(e)&&(this._active++,e.then(this._decBound,this._decAndDestroyBound))}_close(e){!0!==this.closed&&(this.closed=!0,this._info.opened--,this._remoteId>0&&(this._mux._remote[this._remoteId-1]=null,this._remoteId=0,this._mux._free.push(this._localId-1)),this._mux._local[this._localId-1]=null,this._localId=0,this._mux._gc(this._info),this._track(this.onclose(e,this)),0===this._active&&this._destroy())}_destroy(){!0!==this.destroyed&&(this.destroyed=!0,this._track(this.ondestroy(this)))}_recv(e,t){e<this.messages.length&&this.messages[e].recv(t,this)}cork(){this._mux.cork()}uncork(){this._mux.uncork()}close(){if(!0===this.closed)return;const e={buffer:null,start:2,end:2};eu.uint.preencode(e,this._localId),e.buffer=this._mux._alloc(e.end),e.buffer[0]=0,e.buffer[1]=3,eu.uint.encode(e,this._localId),this._close(!1),this._mux._write0(e.buffer)}addMessage(e){if(!e)return this._skipMessage();const t=this.messages.length,n=e.encoding||eu.raw,r=e.onmessage||su,i=this,s=function(e,t){const n={buffer:null,start:0,end:0};return e.preencode(n,t),n.end}(eu.uint,t),o={type:t,encoding:n,onmessage:r,recv(e,t){t._track(o.onmessage(n.decode(e),t))},send(e,r=i){if(!0===r.closed)return!1;const o=r._mux,a={buffer:null,start:0,end:s};return null!==o._batch?(n.preencode(a,e),a.buffer=o._alloc(a.end),eu.uint.encode(a,t),n.encode(a,e),o._pushBatch(r._localId,a.buffer),!0):(eu.uint.preencode(a,r._localId),n.preencode(a,e),a.buffer=o._alloc(a.end),eu.uint.encode(a,r._localId),eu.uint.encode(a,t),n.encode(a,e),o.drained=o.stream.write(a.buffer),o.drained)}};return this.messages.push(o),o}_skipMessage(){const e={type:this.messages.length,encoding:eu.raw,onmessage:su,recv(e,t){},send(e,t){}};return this.messages.push(e),e}}var iu=class{constructor(e,{alloc:t}={}){null===e.userData&&(e.userData=this),this.isProtomux=!0,this.stream=e,this.corked=0,this.drained=!0,this._alloc=t||("function"==typeof e.alloc?e.alloc.bind(e):Qc.allocUnsafe),this._safeDestroyBound=this._safeDestroy.bind(this),this._remoteBacklog=0,this._buffered=0,this._paused=!1,this._remote=[],this._local=[],this._free=[],this._batch=null,this._batchState=null,this._infos=new Map,this._notify=new Map,this.stream.on("data",this._ondata.bind(this)),this.stream.on("drain",this._ondrain.bind(this)),this.stream.on("end",this._onend.bind(this)),this.stream.on("error",su),this.stream.on("close",this._shutdown.bind(this))}static from(e,t){return e.userData&&e.userData.isProtomux?e.userData:e.isProtomux?e:new this(e,t)}static isProtomux(e){return"object"==typeof e&&!0===e.isProtomux}*[Symbol.iterator](){for(const e of this._local)null!==e&&(yield e)}cork(){1==++this.corked&&(this._batch=[],this._batchState={buffer:null,start:0,end:1})}uncork(){0==--this.corked&&(this._sendBatch(this._batch,this._batchState),this._batch=null,this._batchState=null)}pair({protocol:e,id:t=null},n){this._notify.set(ou(e,t),n)}unpair({protocol:e,id:t=null}){this._notify.delete(ou(e,t))}opened({protocol:e,id:t=null}){const n=ou(e,t),r=this._infos.get(n);return!!r&&r.opened>0}createChannel({userData:e=null,protocol:t,aliases:n=[],id:r=null,unique:i=!0,handshake:s=null,messages:o=[],onopen:a=su,onclose:c=su,ondestroy:u=su,ondrain:l=su}){if(this.stream.destroyed)return null;const h=this._get(t,r,n);if(i&&h.opened>0)return null;if(0===h.incoming.length)return new ru(this,h,e,t,n,r,s,o,a,c,u,l);this._remoteBacklog--;const f=h.incoming.shift();if(null===this._remote[f-1])return null;const p=new ru(this,h,e,t,n,r,s,o,a,c,u,l);return p._remoteId=f,p._fullyOpenSoon(),p}_pushBatch(e,t){this._batchState.end>=8388608&&(this._sendBatch(this._batch,this._batchState),this._batch=[],this._batchState={buffer:null,start:0,end:1}),0!==this._batch.length&&this._batch[this._batch.length-1].localId===e||(this._batchState.end++,eu.uint.preencode(this._batchState,e)),eu.buffer.preencode(this._batchState,t),this._batch.push({localId:e,buffer:t})}_sendBatch(e,t){if(0===e.length)return;let n=e[0].localId;t.buffer=this._alloc(t.end),t.buffer[t.start++]=0,t.buffer[t.start++]=0,eu.uint.encode(t,n);for(let r=0;r<e.length;r++){const i=e[r];n!==i.localId&&(t.buffer[t.start++]=0,eu.uint.encode(t,n=i.localId)),eu.buffer.encode(t,i.buffer)}this.drained=this.stream.write(t.buffer)}_get(e,t,n=[]){const r=ou(e,t);let i=this._infos.get(r);if(i)return i;i={key:r,protocol:e,aliases:[],id:t,pairing:0,opened:0,incoming:[],outgoing:[]},this._infos.set(r,i);for(const e of n){const n=ou(e,t);i.aliases.push(n),this._infos.set(n,i)}return i}_gc(e){if(0===e.opened&&0===e.outgoing.length&&0===e.incoming.length){this._infos.delete(e.key);for(const t of e.aliases)this._infos.delete(t)}}_ondata(e){if(0!==e.byteLength)try{const t={buffer:e,start:0,end:e.byteLength};this._decode(eu.uint.decode(t),t)}catch(e){this._safeDestroy(e)}}_ondrain(){this.drained=!0;for(const e of this._local)null!==e&&e._track(e.ondrain(e))}_onend(){this.stream.end()}_decode(e,t){const n=eu.uint.decode(t);if(0===e)return void this._oncontrolsession(n,t);const r=e<=this._remote.length?this._remote[e-1]:null;null!==r&&(null===r.pending?r.session._recv(n,t):this._bufferMessage(r,n,t))}_oncontrolsession(e,t){switch(e){case 0:this._onbatch(t);break;case 1:this._onopensession(t);break;case 2:this._onrejectsession(t);break;case 3:this._onclosesession(t)}}_bufferMessage(e,t,{buffer:n,start:r,end:i}){const s={buffer:n,start:r,end:i};e.pending.push({type:t,state:s}),this._buffered+=au(s),this._pauseMaybe()}_pauseMaybe(){!0===this._paused||this._buffered<=32768||(this._paused=!0,this.stream.pause())}_resumeMaybe(){!1===this._paused||this._buffered>32768||(this._paused=!1,this.stream.resume())}_onbatch(e){const t=e.end;let n=eu.uint.decode(e);for(;e.end>e.start;){const r=eu.uint.decode(e);0!==r?(e.end=e.start+r,this._decode(n,e),e.start=e.end,e.end=t):n=eu.uint.decode(e)}}_onopensession(e){const t=eu.uint.decode(e),n=eu.string.decode(e),r=eu.buffer.decode(e);if(0===t)return void this._rejectSession(0);const i=t-1,s=this._get(n,r);if(this._remote.length===i&&this._remote.push(null),i>=this._remote.length||null!==this._remote[i])throw new Error("Invalid open message");if(s.outgoing.length>0){const n=s.outgoing.shift(),r=this._local[n-1];return null===r?void this._free.push(n-1):(this._remote[i]={state:e,pending:null,session:null},r._remoteId=t,void r._fullyOpen())}const o={buffer:e.buffer,start:e.start,end:e.end};if(this._remote[i]={state:o,pending:[],session:null},++this._remoteBacklog>Infinity)throw new Error("Remote exceeded backlog");s.pairing++,s.incoming.push(t),this._requestSession(n,r,s).catch(this._safeDestroyBound)}_onrejectsession(e){const t=eu.uint.decode(e);for(const e of this._infos.values()){const n=e.outgoing.indexOf(t);if(-1===n)continue;e.outgoing.splice(n,1);const r=this._local[t-1];return this._free.push(t-1),null!==r&&r._close(!0),void this._gc(e)}throw new Error("Invalid reject message")}_onclosesession(e){const t=eu.uint.decode(e);if(0===t)return;const n=t-1,r=n<this._remote.length?this._remote[n]:null;null!==r&&null!==r.session&&r.session._close(!0)}async _requestSession(e,t,n){const r=this._notify.get(ou(e,t))||this._notify.get(ou(e,null));if(r&&await r(t),!(--n.pairing>0)){for(;n.incoming.length>0;)this._rejectSession(n,n.incoming.shift());this._gc(n)}}_rejectSession(e,t){if(t>0){const e=this._remote[t-1];if(null!==e.pending)for(let t=0;t<e.pending.length;t++)this._buffered-=au(e.pending[t].state);this._remote[t-1]=null,this._resumeMaybe()}const n={buffer:null,start:2,end:2};eu.uint.preencode(n,t),n.buffer=this._alloc(n.end),n.buffer[0]=0,n.buffer[1]=2,eu.uint.encode(n,t),this._write0(n.buffer)}_write0(e){null===this._batch?this.drained=this.stream.write(e):this._pushBatch(0,e.subarray(1))}destroy(e){this.stream.destroy(e)}_safeDestroy(e){nu(e),this.stream.destroy(e)}_shutdown(){for(const e of this._local)null!==e&&e._close(!0)}};function su(){}function ou(e,t){return e+"##"+(t?Qc.toString(t,"hex"):"")}function au(e){return e.end-e.start+512}const cu=Vc;const uu=Us;function lu(e){return Math.ceil(e/8)}function hu(e,t){const n=8*e.BYTES_PER_ELEMENT,r=t&n-1;return 0!=(e[(t-r)/n]&1<<r)}function fu(e,t,n=!0){const r=8*e.BYTES_PER_ELEMENT,i=t&r-1,s=(t-i)/r,o=1<<i;if(n){if(0!=(e[s]&o))return!1}else if(0==(e[s]&o))return!1;return e[s]^=o,!0}function pu(e,t,n,r=!0){const i=8*e.BYTES_PER_ELEMENT;let s=n-t,o=t&i-1,a=(t-o)/i,c=!1;for(;s>0;){const t=2**Math.min(s,i-o)-1<<o;r?(e[a]&t)!==t&&(e[a]|=t,c=!0):0!=(e[a]&t)&&(e[a]&=~t,c=!0),s-=i-o,o=0,a++}return c}function du(e){const t=uu.alloc(lu(e.length));for(let n=0;n<e.length;n++)fu(t,n,e[n]);return t}var xu={byteLength:lu,get:hu,set:fu,setRange:pu,fill:function(e,t,n=0,r=8*e.byteLength){const i=8*e.BYTES_PER_ELEMENT;let s,o;{const o=n&i-1;if(s=(n-o)/i,0!==o){const a=2**Math.min(i-o,r-n)-1<<o;t?e[s]|=a:e[s]&=~a,s++}}{const n=r&i-1;if(o=(r-n)/i,0!==n&&o>=s){const r=2**n-1;t?e[o]|=r:e[o]&=~r}}return e.fill(t?2**i-1:0,s,o)},toggle:function(e,t){const n=8*e.BYTES_PER_ELEMENT,r=t&n-1,i=(t-r)/n,s=1<<r;return e[i]^=s,0!=(e[i]&s)},remove:function(e,t){return fu(e,t,!1)},removeRange:function(e,t,n){return pu(e,t,n,!1)},indexOf:function(e,t,n=0){for(let r=n,i=8*e.byteLength;r<i;r++)if(hu(e,r)===t)return r;return-1},lastIndexOf:function(e,t,n=8*e.byteLength-1){for(let r=n;r>=0;r--)if(hu(e,r)===t)return r;return-1},of:function(...e){return du(e)},from:du,iterator:function*(e){for(let t=0,n=8*e.byteLength;t<n;t++)yield hu(e,t)}},mu=class e extends Error{constructor(t,n,r=e){super(`${n}: ${t}`),this.code=n,Error.captureStackTrace&&Error.captureStackTrace(this,r)}get name(){return"RPCError"}static DUPLICATE_CHANNEL(t="duplicate channel"){return new e(t,"DUPLICATE_CHANNEL",e.DUPLICATE_CHANNEL)}static CHANNEL_CLOSED(t="channel closed"){return new e(t,"CHANNEL_CLOSED",e.CHANNEL_CLOSED)}static CHANNEL_DESTROYED(t="channel destroyed"){return new e(t,"CHANNEL_DESTROYED",e.CHANNEL_DESTROYED)}static REQUEST_ERROR(t){return new e(t,"REQUEST_ERROR",e.REQUEST_ERROR)}static TIMEOUT_EXCEEDED(t){return new e(t,"TIMEOUT_EXCEEDED",e.TIMEOUT_EXCEEDED)}};const bu=ui,gu=iu,yu=Vc,vu=function(e){if(e>64)throw new RangeError("Bitfield cannot be larger than 64 bits");let t;return t=e<8?1:e<=16?2:e<=32?4:8,{preencode(e){e.end++,1===t||(2===t?cu.uint16.preencode(e):4===t?cu.uint32.preencode(e):cu.uint64.preencode(e))},encode(e,n){1===t||(2===t?cu.uint8.encode(e,253):4===t?cu.uint8.encode(e,254):cu.uint8.encode(e,255)),"number"==typeof n?1===t?cu.uint8.encode(e,n):2===t?cu.uint16.encode(e,n):4===t?cu.uint32.encode(e,n):cu.uint64.encode(e,n):(e.buffer.set(n,e.start),n.byteLength<t&&e.buffer.fill(0,e.start+n.byteLength,e.start+t),e.start+=t)},decode(t){const n=t.buffer[t.start];let r;if(r=n<=252?1:253===n?2:254===n?4:8,r>1&&t.start++,t.end-t.start<r)throw new Error("Out of bounds");const i=t.buffer.subarray(t.start,t.start+=r);return e<=8?i.subarray(0,1):i}}},wu=xu,_u=Zc,Su=mu;var Eu=class extends bu{constructor(e,t={}){super();const{id:n,protocol:r="protomux-rpc",valueEncoding:i=yu.buffer,handshake:s,handshakeEncoding:o}=t;if(this._mux=gu.from(e),this._defaultValueEncoding=i,this._id=1,this._ending=null,this._destroyed=!1,this._error=null,this._responding=0,this._requests=new Map,this._responders=new Map,this._channel=this._mux.createChannel({protocol:r,id:n,handshake:s?o||yu.raw:null,onopen:this._onopen.bind(this),onclose:this._onclose.bind(this),ondestroy:this._ondestroy.bind(this)}),null===this._channel)throw Su.DUPLICATE_CHANNEL();this._request=this._channel.addMessage({encoding:Au,onmessage:this._onrequest.bind(this)}),this._response=this._channel.addMessage({encoding:ku,onmessage:this._onresponse.bind(this)}),this._channel.open(s)}_onopen(e){this.emit("open",e)}_onclose(){this._ending=Promise.resolve();const e=this._error||Su.CHANNEL_CLOSED();for(const t of this._requests.values())t.reject(e);this._requests.clear(),this._responders.clear(),this.emit("close")}_ondestroy(){this._destroyed=!0,this.emit("destroy")}async _onrequest({id:e,method:t,value:n}){let r=null;const i=this._responders.get(t);if(void 0===i)r=`unknown method '${t}'`;else{const{valueEncoding:t=this._defaultValueEncoding,requestEncoding:s=t,responseEncoding:o=t}=i.options;s&&(n=yu.decode(s,n)),this._responding++;try{n=await i.handler(n)}catch(e){_u(e),r=e.message}this._responding--,!r&&o&&e&&(n=yu.encode(o,n))}e&&this._response.send({id:e,error:r,value:n}),this._endMaybe()}_onresponse({id:e,error:t,value:n}){if(0===e)return;const r=this._requests.get(e);if(void 0!==r){if(this._requests.delete(e),r.timeout&&clearTimeout(r.timeout),t)r.reject(Su.REQUEST_ERROR(t));else{const{valueEncoding:e=this._defaultValueEncoding,responseEncoding:t=e}=r.options;t&&(n=yu.decode(t,n)),r.resolve(n)}this._endMaybe()}}_ontimeout(e,t){const n=this._requests.get(e);void 0!==n&&(this._requests.delete(e),n.reject(Su.TIMEOUT_EXCEEDED(`timeout of ${t}ms exceeded`)),this._endMaybe())}get closed(){return this._channel.closed}get mux(){return this._mux}get stream(){return this._mux.stream}respond(e,t,n){return"function"==typeof t&&(n=t,t={}),this._responders.set(e,{options:t,handler:n}),this}unrespond(e){return this._responders.delete(e),this}async request(e,t,n={}){if(this.closed)throw Su.CHANNEL_CLOSED();const{valueEncoding:r=this._defaultValueEncoding,requestEncoding:i=r,timeout:s=-1}=n;i&&(t=yu.encode(i,t));const o=this._id++;return this._request.send({id:o,method:e,value:t}),new Promise(((e,t)=>this._requests.set(o,{options:n,resolve:e,reject:t,timeout:s>0&&setTimeout(this._ontimeout.bind(this,o,s),s)})))}event(e,t,n={}){if(this.closed)throw Su.CHANNEL_CLOSED();const{valueEncoding:r=this._defaultValueEncoding,requestEncoding:i=r}=n;i&&(t=yu.encode(i,t)),this._request.send({id:0,method:e,value:t})}cork(){this._channel.cork()}uncork(){this._channel.uncork()}async end(){return this._ending||(this._ending=bu.once(this,"close"),this._endMaybe()),this._ending}_endMaybe(){this._ending&&0===this._responding&&0===this._requests.size&&this._channel.close()}destroy(e){this._destroyed||(this._destroyed=!0,this._error=e||Su.CHANNEL_DESTROYED(),this._channel.close())}};const Au={preencode(e,t){yu.uint.preencode(e,t.id),yu.string.preencode(e,t.method),yu.raw.preencode(e,t.value)},encode(e,t){yu.uint.encode(e,t.id),yu.string.encode(e,t.method),yu.raw.encode(e,t.value)},decode:e=>({id:yu.uint.decode(e),method:yu.string.decode(e),value:yu.raw.decode(e)})},Ou=vu(1),ku={preencode(e,t){Ou.preencode(e),yu.uint.preencode(e,t.id),t.error?yu.string.preencode(e,t.error):yu.raw.preencode(e,t.value)},encode(e,t){Ou.encode(e,wu.of(t.error)),yu.uint.encode(e,t.id),t.error?yu.string.encode(e,t.error):yu.raw.encode(e,t.value)},decode(e){const[t]=wu.iterator(Ou.decode(e));return{id:yu.uint.decode(e),error:t?yu.string.decode(e):null,value:t?null:yu.raw.decode(e)}}};var Fu=Vr(Eu),ju=function(e,t){return ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ju(e,t)};function Lu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ju(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Cu=function(){return Cu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Cu.apply(this,arguments)};function Tu(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function Pu(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var Iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t}(function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"message",{enumerable:!1,value:t}),Object.defineProperty(n,"name",{enumerable:!1,value:n.constructor.name}),"captureStackTrace"in Error?Error.captureStackTrace(n,n.constructor):Object.defineProperty(n,"stack",{enumerable:!1,value:Error(t).stack,writable:!0,configurable:!0}),n}return Lu(t,e),t}(Error)),Mu=function(e){function t(t,n,r,i){return e.call(this,"".concat(t,": expected ").concat(n," to be ").concat(r,", but got ").concat(i,"."))||this}return Lu(t,e),t.assert=function(e,n,r,i,s){if(!e)throw new t(n,r,i,s);return e},t}(Iu),Nu=function(e){function t(t,n,r){var i=t.toString(),s=n.map((function(e){return e.name.toString()}));s.push(i);var o=s.join(" -> "),a="Could not resolve '".concat(i,"'.");return r&&(a+=" ".concat(r)),a+="\n\n",a+="Resolution path: ".concat(o),e.call(this,a)||this}return Lu(t,e),t}(Iu),Du=function(e){function t(t,n){var r=t.toString(),i="Could not register '".concat(r,"'.");return n&&(i+=" ".concat(n)),e.call(this,i)||this}return Lu(t,e),t}(Iu),Bu={PROXY:"PROXY",CLASSIC:"CLASSIC"},Ru={SINGLETON:"SINGLETON",TRANSIENT:"TRANSIENT",SCOPED:"SCOPED"};function zu(e){var t=e.length,n=0,r="EOF",i="",s=0,o=0,a=0;return{next:function(e){return void 0===e&&(e=0),s=e,c(),i?{value:i,type:r}:{type:r}},done:function(){return"EOF"===r}};function c(){for(i="",r="EOF";;){if(n>=t)return r="EOF";var c=e.charAt(n);if(Wu(c))n++;else switch(c){case"(":return n++,o++,r=c;case")":return n++,a++,r=c;case"*":case",":return n++,r=c;case"=":return n++,0==(1&s)&&l((function(e){var t=o===a+1;return!((","!==e||!t)&&("("===e?(o++,1):")"!==e||(a++,!t)))})),r=c;case"/":n++;var h=e.charAt(n);"/"===h&&(l((function(e){return"\n"===e}),!0),n++),"*"===h&&(l((function(t){var r=e.charAt(n+1);return"*"===t&&"/"===r}),!0),n++);continue;default:if(Vu(c))return u(),r;n++}}}function u(){for(var t,s=e.charAt(n),o=++n;t=e.charAt(n),qu.test(t);)n++;return i=""+s+e.substring(o,n),"ident"!==(r="function"===i||"class"===i?i:"ident")&&(i=""),i}function l(t,r){for(void 0===r&&(r=!1);n<e.length;){var i=e.charAt(n);if(t(i))return;if(!r){if(Wu(i)){n++;continue}if($u(i)){h();continue}}n++}}function h(){var t=e.charAt(n);for(n++;n<e.length;){var r=e.charAt(n),i=e.charAt(n-1);if(r===t&&"\\"!==i)return void n++;"`"===t&&"$"===e.charAt(n+1)&&"{"===e.charAt(n+2)&&(n+=2,l((function(e){return"}"===e}))),n++}}}function Wu(e){switch(e){case"\r":case"\n":case" ":return!0}return!1}function $u(e){switch(e){case"'":case'"':case"`":return!0}return!1}var Uu=/^[_$a-zA-Z\xA0-\uFFFF]$/,qu=/^[._$a-zA-Z0-9\xA0-\uFFFF]$/;function Vu(e){return Uu.test(e)}function Gu(e){return"function"==typeof e}var Hu=Symbol("Awilix Resolver Config");function Ju(e){return{resolve:function(){return e},isLeakSafe:!0}}function Yu(e,t){if(!Gu(e))throw new Mu("asFunction","fn","function",e);t=tl({lifetime:Ru.TRANSIENT},t,e[Hu]);var n=rl(e);return Qu(Zu(Cu({resolve:n},t)))}function Ku(e,t){if(!Gu(e))throw new Mu("asClass","Type","class",e);t=tl({lifetime:Ru.TRANSIENT},t,e[Hu]);var n=rl((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Reflect.construct(e,t)}),e);return Qu(Zu(Cu(Cu({},t),{resolve:n})))}function Xu(e){return{resolve:function(t){return t.resolve(e)},isLeakSafe:!0}}function Zu(e){function t(e){return Zu(Cu(Cu({},this),{lifetime:e}))}function n(e){return Zu(Cu(Cu({},this),{injectionMode:e}))}return nl(e,{setLifetime:t,inject:function(e){return Zu(Cu(Cu({},this),{injector:e}))},transient:el(t,Ru.TRANSIENT),scoped:el(t,Ru.SCOPED),singleton:el(t,Ru.SINGLETON),setInjectionMode:n,proxy:el(n,Bu.PROXY),classic:el(n,Bu.CLASSIC)})}function Qu(e){return nl(e,{disposer:function(e){return Qu(Cu(Cu({},this),{dispose:e}))}})}function el(e,t){return function(){return e.call(this,t)}}function tl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object.assign.apply(Object,Pu([{},e],t,!1))}function nl(e,t){return Cu(Cu({},e),t)}function rl(e,t){t||(t=e);var n=il(t);return function(t){if((this.injectionMode||t.options.injectionMode||Bu.PROXY)!==Bu.CLASSIC){var r=this.injector?function(e,t){var n,r=t(e),i=(n=Pu(Pu([],Reflect.ownKeys(e.cradle),!0),Reflect.ownKeys(r),!0),Array.from(new Set(n)));return new Proxy({},{get:function(t,n){return n===Symbol.iterator?function(){var t,n,i,s,o,a,c,u;return Tu(this,(function(l){switch(l.label){case 0:for(i in t=e.cradle,n=[],t)n.push(i);s=0,l.label=1;case 1:return s<n.length?(i=n[s])in t?[4,i]:[3,3]:[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:for(c in a=[],o=r)a.push(c);u=0,l.label=5;case 5:return u<a.length?(c=a[u])in o?[4,c]:[3,7]:[3,8];case 6:l.sent(),l.label=7;case 7:return u++,[3,5];case 8:return[2]}}))}:n in r?r[n]:e.resolve(n)},ownKeys:function(){return i},getOwnPropertyDescriptor:function(e,t){if(i.indexOf(t)>-1)return{enumerable:!0,configurable:!0}}})}(t,this.injector):t.cradle;return e(r)}if(n.length>0){var i=this.injector?function(e,t){return function(n,r){return n in t?t[n]:e.resolve(n,r)}}(t,this.injector(t)):t.resolve,s=n.map((function(e){return i(e.name,{allowUnregistered:e.optional})}));return e.apply(void 0,s)}return e()}}function il(e){var t=function(e){var t=zu(e),n=t.next,r=t.done,i=[],s=null;for(h();!r();)switch(s.type){case"class":if(u(),!l())return null;h();break;case"function":"ident"!==(o=h()).type&&"*"!==o.type||h();break;case"(":c();break;case")":return i;case"ident":var o,a={name:s.value,optional:!1};if("async"===s.value&&(o=h())&&"="!==o.type)break;return i.push(a),i;default:throw f()}return i;function c(){for(var e={name:"",optional:!1};!r();)switch(h(),s.type){case"ident":e.name=s.value;break;case"=":e.optional=!0;break;case",":i.push(e),e={name:"",optional:!1};break;case")":return void(e.name&&i.push(e));default:throw f()}}function u(){for(;!l()&&!r();)h(1)}function l(){return"ident"===s.type&&"constructor"===s.value}function h(e){return void 0===e&&(e=0),s=n(e)}function f(){return new SyntaxError("Parsing parameter list, did not expect ".concat(s.type," token").concat(s.value?" (".concat(s.value,")"):""))}}(e.toString());if(!t){var n=Object.getPrototypeOf(e);return"function"==typeof n&&n!==Function.prototype?il(n):[]}return t}var sl=Symbol("familyTree"),ol=Symbol("rollUpRegistrations"),al="AwilixContainerCradle";function cl(e){return void 0===e&&(e={}),ul(e)}function ul(e,t,n){var r;e=Cu({injectionMode:Bu.PROXY,strict:!1},e);var i=null!=n?n:[],s={},o=new Proxy({},{get:function(e,t){return x(t)},set:function(e,t){throw new Error('Attempted setting property "'.concat(t,'" on container cradle - this is not allowed.'))},ownKeys:function(){return Array.from(o)},getOwnPropertyDescriptor:function(e,t){var n=h();if(Object.getOwnPropertyDescriptor(n,t))return{enumerable:!0,configurable:!0}}}),a=((r={options:e,cradle:o,inspect:function(){return"[AwilixContainer (".concat(t?"scoped, ":"","registrations: ").concat(Object.keys(a.registrations).length,")]")},cache:new Map,loadModules:function(){throw new Error("loadModules is not supported in the browser.")},createScope:function(){return ul(e,a,i)},register:function(n,r){for(var i=function(e,t){var n,r=e;return"string"==typeof r||"symbol"==typeof r?((n={})[e]=t,n):r}(n,r),o=0,c=Pu(Pu([],Object.keys(i),!0),Object.getOwnPropertySymbols(i),!0);o<c.length;o++){var u=c[o],l=i[u];if(e.strict&&l.lifetime===Ru.SINGLETON&&t)throw new Du(u,"Cannot register a singleton on a scoped container.");s[u]=l}return a},build:function(e,t){if(e&&e.resolve)return e.resolve(a);var n="build",r="targetOrResolver";return Mu.assert(e,n,r,"a registration, function or class",e),Mu.assert("function"==typeof e,n,r,"a function or class",e),(function(e){if("function"!=typeof e)return!1;var t=zu(e.toString()),n=t.next();if("class"===n.type)return!0;var r=t.next();return!("function"!==n.type||!r.value||r.value[0]!==r.value[0].toUpperCase())}(e)?Ku(e,t):Yu(e,t)).resolve(a)},resolve:x,hasRegistration:function(e){return!!d(e)},dispose:function(){var e=Array.from(a.cache.entries());return a.cache.clear(),Promise.all(e.map((function(e){var t=e[1],n=t.resolver,r=t.value,i=n;return i.dispose?Promise.resolve().then((function(){return i.dispose(r)})):Promise.resolve()}))).then((function(){}))},getRegistration:d})[ol]=h,Object.defineProperty(r,"registrations",{get:function(){return h()},enumerable:!1,configurable:!0}),r),c=t?[a].concat(t[sl]):[a];a[sl]=c;var u,l=(u=c)[u.length-1];return a;function h(){return Cu(Cu({},t&&t[ol]()),s)}function f(){var e,t,n,r,i;return Tu(this,(function(s){switch(s.label){case 0:for(r in e=h(),n=[],t=e)n.push(r);i=0,s.label=1;case 1:return i<n.length?(r=n[i])in t?[4,r]:[3,3]:[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}function p(){return Object.prototype.toString.call(o)}function d(e){return s[e]||(t?t.getRegistration(e):null)}function x(t,n){n=n||{};try{var r=d(t);if(i.some((function(e){return e.name===t})))throw new Nu(t,i,"Cyclic dependencies detected.");if("toJSON"===t)return p;if("constructor"===t)return cl;if(!r){switch(t){case"inspect":case"toString":return p;case Symbol.toStringTag:return al;case"then":return;case Symbol.iterator:return f}if(n.allowUnregistered)return;throw new Nu(t,i)}var s=r.lifetime||Ru.TRANSIENT;if(e.strict&&!r.isLeakSafe){var o=i.findIndex((function(e){var t,n,r=e.lifetime;return n=s,(t=r)===Ru.SINGLETON&&n!==Ru.SINGLETON||t===Ru.SCOPED&&n===Ru.TRANSIENT}));if(o>-1)throw new Nu(t,i,"Dependency '".concat(t.toString(),"' has a shorter lifetime than its ancestor: '").concat(i[o].name.toString(),"'"))}i.push({name:t,lifetime:s});var c=void 0,u=void 0;switch(s){case Ru.TRANSIENT:u=r.resolve(a);break;case Ru.SINGLETON:(c=l.cache.get(t))?u=c.value:(u=r.resolve(e.strict?l:a),l.cache.set(t,{resolver:r,value:u}));break;case Ru.SCOPED:if(void 0!==(c=a.cache.get(t))){u=c.value;break}u=r.resolve(a),a.cache.set(t,{resolver:r,value:u});break;default:throw new Nu(t,i,'Unknown lifetime "'.concat(r.lifetime,'"'))}return i.pop(),u}catch(e){throw i.length=0,e}}}var ll="object"==typeof global&&global&&global.Object===Object&&global,hl="object"==typeof self&&self&&self.Object===Object&&self,fl=ll||hl||Function("return this")(),pl=fl.Symbol;var dl=Array.isArray,xl=Object.prototype,ml=xl.hasOwnProperty,bl=xl.toString,gl=pl?pl.toStringTag:void 0;var yl=Object.prototype.toString;var vl="[object Null]",wl="[object Undefined]",_l=pl?pl.toStringTag:void 0;function Sl(e){return null==e?void 0===e?wl:vl:_l&&_l in Object(e)?function(e){var t=ml.call(e,gl),n=e[gl];try{e[gl]=void 0;var r=!0}catch(e){}var i=bl.call(e);return r&&(t?e[gl]=n:delete e[gl]),i}(e):function(e){return yl.call(e)}(e)}function El(e){return null!=e&&"object"==typeof e}var Al="[object Symbol]";function Ol(e){return"symbol"==typeof e||El(e)&&Sl(e)==Al}var kl=1/0,Fl=pl?pl.prototype:void 0,jl=Fl?Fl.toString:void 0;function Ll(e){if("string"==typeof e)return e;if(dl(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(e,Ll)+"";if(Ol(e))return jl?jl.call(e):"";var t=e+"";return"0"==t&&1/e==-kl?"-0":t}function Cl(e){return null==e?"":Ll(e)}var Tl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pl=/^\w*$/;function Il(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Ml="[object AsyncFunction]",Nl="[object Function]",Dl="[object GeneratorFunction]",Bl="[object Proxy]";function Rl(e){if(!Il(e))return!1;var t=Sl(e);return t==Nl||t==Dl||t==Ml||t==Bl}var zl,Wl=fl["__core-js_shared__"],$l=(zl=/[^.]+$/.exec(Wl&&Wl.keys&&Wl.keys.IE_PROTO||""))?"Symbol(src)_1."+zl:"";var Ul=Function.prototype.toString;function ql(e){if(null!=e){try{return Ul.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Vl=/^\[object .+?Constructor\]$/,Gl=Function.prototype,Hl=Object.prototype,Jl=Gl.toString,Yl=Hl.hasOwnProperty,Kl=RegExp("^"+Jl.call(Yl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xl(e){return!(!Il(e)||(t=e,$l&&$l in t))&&(Rl(e)?Kl:Vl).test(ql(e));var t}function Zl(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Xl(n)?n:void 0}var Ql=Zl(Object,"create");var eh=Object.prototype.hasOwnProperty;var th=Object.prototype.hasOwnProperty;function nh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rh(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}nh.prototype.clear=function(){this.__data__=Ql?Ql(null):{},this.size=0},nh.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nh.prototype.get=function(e){var t=this.__data__;if(Ql){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return eh.call(t,e)?t[e]:void 0},nh.prototype.has=function(e){var t=this.__data__;return Ql?void 0!==t[e]:th.call(t,e)},nh.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ql&&void 0===t?"__lodash_hash_undefined__":t,this};var ih=Array.prototype.splice;function sh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sh.prototype.clear=function(){this.__data__=[],this.size=0},sh.prototype.delete=function(e){var t=this.__data__,n=rh(t,e);return!(n<0)&&(n==t.length-1?t.pop():ih.call(t,n,1),--this.size,!0)},sh.prototype.get=function(e){var t=this.__data__,n=rh(t,e);return n<0?void 0:t[n][1]},sh.prototype.has=function(e){return rh(this.__data__,e)>-1},sh.prototype.set=function(e,t){var n=this.__data__,r=rh(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var oh=Zl(fl,"Map");function ah(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ch(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ch.prototype.clear=function(){this.size=0,this.__data__={hash:new nh,map:new(oh||sh),string:new nh}},ch.prototype.delete=function(e){var t=ah(this,e).delete(e);return this.size-=t?1:0,t},ch.prototype.get=function(e){return ah(this,e).get(e)},ch.prototype.has=function(e){return ah(this,e).has(e)},ch.prototype.set=function(e,t){var n=ah(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var uh="Expected a function";function lh(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(uh);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(lh.Cache||ch),n}lh.Cache=ch;var hh,fh,ph,dh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xh=/\\(\\)?/g,mh=(hh=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dh,(function(e,n,r,i){t.push(r?i.replace(xh,"$1"):n||e)})),t},fh=lh(hh,(function(e){return 500===ph.size&&ph.clear(),e})),ph=fh.cache,fh);function bh(e,t){return dl(e)?e:function(e,t){if(dl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ol(e))||Pl.test(e)||!Tl.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:mh(Cl(e))}var gh=1/0;function yh(e){if("string"==typeof e||Ol(e))return e;var t=e+"";return"0"==t&&1/e==-gh?"-0":t}function vh(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=bh(t,e)).length;null!=e&&n<r;)e=e[yh(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r}const wh=()=>et((e=>null!=e));function _h(e,t={}){gn(t)&&(t={cwd:t});const{getter:n=((e,n)=>e.get(n,t))}=t;return function(e,t={}){return tc(e,"package.json",t).pipe(Me((e=>e.flat()||void 0)))}(e,t).pipe(We(),ut((t=>n(e,t))),Me((e=>e&&function(e){return jc("json").decode(e)}(e)||null)),wh(),ft(null))}var Sh=0;const Eh={isArray:function(e){return Array.isArray(e)},isObject:function(e){return"object"==typeof e},isString:gn,map:yn,reduce:function(e,t){return e.reduce(t)},trimStart:wn,uniqueId:function(e){var t=++Sh;return Cl(e)+t}},Ah={EMPTY:te,defer:Ue,firstValueFrom:Ie,from:Fe,identity:E,of:je,catchError:it,concat:$e,concatAll:We,concatMap:ut,defaultIfEmpty:ft,isEmpty:Ot,map:Me,merge:function(...e){const t=se(e),n=oe(e,1/0);return e=Qe(e),F(((r,i)=>{ze(n)(Fe([r,...e],t)).subscribe(i)}))},mergeMap:Re,publish:Lt,take:pt,toArray:ct,filter:et},{concatIfEmpty:Oh}=fn,kh=()=>Ah.filter((e=>null!=e));function Fh(e,t,n="/",r={}){const{tryExtensions:i=["",".js",".json",".mjs","/package.json"],getter:s,encoding:o,...a}=r,c=r.state.keyValueMode?t:Xs.resolve(Xs.dirname(n),t),u="bare"===r.state.type?[c]:Eh.reduce(i,((e,t)=>[...e,c+t]),[]);return i.includes("")&&u.unshift(t),Ah.concat(u).pipe(Ah.concatMap((t=>Ah.defer((()=>s(e,r.state.id=t,a))))),kh(),Ah.map(o.decode),Oh(Ah.defer((()=>function(e,t,n){const{exportConditions:r=["browser","import","es2015","default"],state:i}=n;if("bare"!==i.type)return jh(e,t,n);return _h(e,{...n,cwd:t}).pipe(kh(),Ah.toArray(),Ah.map((e=>e.reverse())),Ah.concatAll(),Ah.concatMap((s=>{if(!s||n.state.pkg)return Ah.EMPTY;const o=oc(i.entryId);if(!o)return Ah.EMPTY;let a,c;s.main||="index.js";const{name:u,pathName:l}=o,[h]=t.replace(u,"|").split("|");try{[a]=yc(s.exports,Eh.trimStart(l,"./"),r),c=Xs.join(...[h,u,a].filter((e=>!!e)))}catch(e){try{a=l||s?.[["module","browser","main"].find((e=>s[e]))],Eh.isObject(a)&&([a]=yc(a,s.main||l||"",r)),c=Xs.join(...[h,u,l||a].filter((e=>!!e)))}catch(e){c=s.main||"./index.js"}}return n.state.pkg=s,n.state.resolvedTo=c,Fh(e,c,void 0,n)})),Oh(Ah.defer((()=>jh(e,t,n)))))}(e,c,{tryExtensions:i,getter:s,...r})))),Ah.catchError((e=>Ah.EMPTY)))}function jh(e,t,n={}){const{tryExtensions:r,tryIndex:i=["/index"],getter:s,encoding:o}=n;if(t.endsWith("index"))return Ah.of(null);const a=Eh.map(i,(e=>Eh.map(r,(n=>Xs.resolve(t+e+n))))).flat();return Ah.concat(a).pipe(Ah.concatMap((t=>s(e,n.state.id=t,n))),kh(),Ah.map(o.decode))}function Lh(e,t,n="/",r={}){if(n&&!Eh.isString(n)&&(r=n,n=null),Eh.isArray(e))return Ah.from(e).pipe(Ah.concatMap((e=>Lh(e,t,n,r))));jr(n)||(n=void 0),Fr(t)||(n=void 0),jr(t)&&(n=void 0);const i=e;let{keyValueMode:s=!1,encoding:o=(s?Ch():jc("utf8")),getter:a=(async(e,t,n={})=>await e.get(t,n)),state:c={},detailed:u=!1}=r;r.state={...r.state||=c,entryId:t,entryFrom:n,keyValueMode:s,debugId:Eh.uniqueId("resolve$")};let l=[];return Fr(t)||jr(t)||(r.state.type="bare"),s&&"bare"===r.state.type&&(r.state.type="absolute"),Fr(t)&&jr(n)&&(t=Xs.resolve(Xs.dirname(n),t)),"bare"===r.state.type?l.push(Ah.defer((()=>function(e,t,n={}){return nc(e,n).pipe(ut((e=>Fe(yn(bn(t),(t=>{if(t.indexOf("/")>-1){const[e,n]=t.split("/");(t=e).startsWith("@")&&(t+="/"+n)}return yn(e.flat(),(e=>Xs.join(e,t)))}))))),et((e=>!!e&&!!e.length)),We(),ut((t=>ic(e,{cwd:t}).pipe(Et((e=>"package.json"===e)),Me((e=>e&&t||null)),sc()))))}(i,r.state.id=t))).pipe(kh(),Ah.concatMap((e=>Fh(i,e,void 0,{...r,encoding:o,getter:a}))),Ah.defaultIfEmpty(null))):(r.state.type||=jr(t)?"absolute":"relative",l.push(Ah.defer((()=>Fh(i,r.state.id=t,n,{...r,encoding:o,getter:a}))))),Ah.concat(...l).pipe(u?Ah.map((e=>({success:!!e,code:e,...r.state}))):Ah.identity)}function Ch(){return{encode:e=>e,decode:e=>e}}function Th(e,t={}){const{keyValueMode:n=!0}=t;return{async resolveId(t,r){if(t.indexOf("\0")>-1)return null;const{success:i,id:s}=await async function(e,t,n,r={}){return Ah.firstValueFrom(Lh(e,t,n,r).pipe(Ah.take(1),Ah.defaultIfEmpty(r.detailed?{}:null)))}({get:async t=>vh(e,t)},t,r,{detailed:!0,keyValueMode:n});return i?s:void 0},load(t){if(e[t])return e[t]}}}!function(){try{var e=Zl(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function Ph(e){return El(e)&&"[object Arguments]"==Sl(e)}var Ih=Object.prototype;Ih.hasOwnProperty,Ih.propertyIsEnumerable;Ph(function(){return arguments}());var Mh="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nh=Mh&&"object"==typeof module&&module&&!module.nodeType&&module,Dh=Nh&&Nh.exports===Mh?fl.Buffer:void 0;Dh&&Dh.isBuffer;var Bh="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rh=Bh&&"object"==typeof module&&module&&!module.nodeType&&module,zh=Rh&&Rh.exports===Bh&&ll.process,Wh=function(){try{var e=Rh&&Rh.require&&Rh.require("util").types;return e||zh&&zh.binding&&zh.binding("util")}catch(e){}}();Wh&&Wh.isTypedArray,fl.Uint8Array;var $h=pl?pl.prototype:void 0;$h&&$h.valueOf;var Uh=Zl(fl,"DataView"),qh=Zl(fl,"Promise"),Vh=Zl(fl,"Set"),Gh=Zl(fl,"WeakMap"),Hh="[object Map]",Jh="[object Promise]",Yh="[object Set]",Kh="[object WeakMap]",Xh="[object DataView]",Zh=ql(Uh),Qh=ql(oh),ef=ql(qh),tf=ql(Vh),nf=ql(Gh),rf=Sl;async function sf(e,t={}){try{return await import(function(e,t={}){const{mimeType:n="text/javascript",encodingString:r="base64",charset:i="utf-8"}=t;let s="";return null!==i&&(s+=`charset=${i};`),`data:${n};${s}${r},${qs.toString(qs.from(e),r)}`}(e,t))}catch(e){if("ERR_INVALID_URL"===e.code)throw new TypeError("Could not import code. If the code has any 'require' or 'import' statements, the import will not work without a bundler.")}}(Uh&&rf(new Uh(new ArrayBuffer(1)))!=Xh||oh&&rf(new oh)!=Hh||qh&&rf(qh.resolve())!=Jh||Vh&&rf(new Vh)!=Yh||Gh&&rf(new Gh)!=Kh)&&(rf=function(e){var t=Sl(e),n="[object Object]"==t?e.constructor:void 0,r=n?ql(n):"";if(r)switch(r){case Zh:return Xh;case Qh:return Hh;case ef:return Jh;case tf:return Yh;case nf:return Kh}return t});const{concatIfEmpty:of}=fn,af={from:Fe,defer:Ue,filter:et,map:Me,catchError:it,concatIfEmpty:of,defaultIfEmpty:ft,concatMap:ut,race:tt,EMPTY:te};const cf={EMPTY:te,firstValueFrom:Ie,from:Fe,defer:Ue,of:je,catchError:it,defaultIfEmpty:ft,map:Me,switchMap:It,filterNil:()=>cf.filter((e=>null!=e)),filter:et,importCode$:function(e,t={}){return Ue((()=>sf(e,t)))},raceUrls$:function(e,t={}){let{method:n="get",mustHaveDataToWin:r="get"===n.toLowerCase(),mustHaveSuccessCodeToWin:i=!0,mustHaveConditionToWin:s=(()=>!0),successCodes:o=[200],...a}=t;return n=n.toUpperCase(),af.race(...yn(e,(e=>af.defer((()=>fetch(e,{...a,method:n}))).pipe(af.filter((e=>!!e.ok&&(!(i&&!o.includes(e.status))&&(!!s(e)&&e)))),af.concatMap((e=>"head"===n?af.of(e.headers):af.from(e.text()).pipe(af.map((t=>(console.log(),e.data=t,e)))))),af.map((e=>{if("head"===n)return e;const t=qs.from(e.data);let r;try{r=jc("json").decode(t)}catch(e){r=jc("utf8").decode(t)}return e.data=r,e})),af.concatIfEmpty((()=>af.EMPTY)),af.catchError((e=>af.EMPTY))))))},retry:function(e=1/0){let t;t=e&&"object"==typeof e?e:{count:e};const{count:n=1/0,delay:r,resetOnSuccess:i=!1}=t;return n<=0?E:F(((e,t)=>{let s,o=0;const a=()=>{let c=!1;s=e.subscribe(j(t,(e=>{i&&(o=0),t.next(e)}),void 0,(e=>{if(o++<n){const n=()=>{s?(s.unsubscribe(),s=null,a()):c=!0};if(null!=r){const i="number"==typeof r?Ye(r):we(r(e,o)),s=j(t,(()=>{s.unsubscribe(),n()}),(()=>{t.complete()}));i.subscribe(s)}else n()}else t.error(e)}))),c&&(s.unsubscribe(),s=null,a())};a()}))},toArray:ct,tap:Dt},uf="https://cdn.jsdelivr.net";function lf(e,t={}){return cf.firstValueFrom(function(e,t={}){t.host||=uf,t.type||="npm",t.mapPath||=e=>`${_n(e,"/")}/+esm`;const n=oc(e,t);return cf.raceUrls$(n.paths,{method:"HEAD"}).pipe(cf.map((e=>!!e.headers.get("Content-Type")?.startsWith("application/javascript"))))}(e,t).pipe(cf.defaultIfEmpty(!1)))}function hf(e){return function(e,t={}){t.host||=uf,t.type||="npm",t.mapPath||=e=>`${_n(e,"/")}/+esm`;const n=oc(e,t);return n?cf.raceUrls$(n.paths):cf.of(null)}(e)}function ff(e={}){return{async resolveId(e,t){if(e.indexOf("\0")>-1)return null;const n=["gh","npm","wp"].find((t=>e.startsWith(`/${t}/`)));n&&(e=e.slice(n.length+2)),e.endsWith("/+esm")&&(e=e.slice(0,e.length-5));try{const t=function(e){let t,n,r,i,s,o;const a=e.startsWith("\0");if(a||1!==e.split(" ").length)s=e;else try{t=new URL(e),r=t.pathname,t=t.href}catch(s){t=!1,!e.startsWith("/")&&!e.startsWith(".")||e.startsWith("/npm")||e.startsWith("/gh")?(i=oc(e),i.name.indexOf(".")>-1?(n=r="./"+i.name,i=null):r=i?.path):r=n=e}return n&&n.endsWith(".svelte")&&(o=!0),{url:t,module:i,virtual:s,code:s,path:n,pathname:r,hash:a,svelte:o}}(e);if((t.module||t.url)&&await lf(e))return e}catch(e){}},async load(e){try{if(e?.indexOf("\0")>-1)return null;const t=await function(e){return cf.firstValueFrom(hf(e).pipe(cf.defaultIfEmpty(null)))}(e);if(t&&t.data)return t.data}catch(e){}}}}const pf=ui,df=li,xf=Af(new Error("Not readable")),mf=Af(new Error("Not writable")),bf=Af(new Error("Not deletable")),gf=Af(new Error("Not statable")),yf=Af(null),vf=Af(null),wf=Af(null);var _f=class e extends pf{constructor(t){super(),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.suspended=!1,this.closed=!1,this.unlinked=!1,this.writing=!1,t&&(t.open&&(this._open=t.open),t.read&&(this._read=t.read),t.write&&(this._write=t.write),t.del&&(this._del=t.del),t.truncate&&(this._truncate=t.truncate),t.stat&&(this._stat=t.stat),t.suspend&&(this._suspend=t.suspend),t.close&&(this._close=t.close),t.unlink&&(this._unlink=t.unlink)),this.readable=this._read!==e.prototype._read,this.writable=this._write!==e.prototype._write,this.deletable=this._del!==e.prototype._del,this.truncatable=this._truncate!==e.prototype._truncate||this.deletable,this.statable=this._stat!==e.prototype._stat}read(e,t,n){this.run(new Sf(this,0,e,t,null,n),!1)}_read(e){return xf(e)}write(e,t,n){n||(n=Ff),this.run(new Sf(this,1,e,t.length,t,n),!0)}_write(e){return mf(e)}del(e,t,n){n||(n=Ff),this.run(new Sf(this,2,e,t,null,n),!0)}_del(e){return bf(e)}truncate(e,t){t||(t=Ff),this.run(new Sf(this,3,e,0,null,t),!0)}_truncate(e){e.size=1/0,this._del(e)}stat(e){this.run(new Sf(this,4,0,0,null,e),!1)}_stat(e){return gf(e)}open(e){if(e||(e=Ff),this.opened&&!this._needsOpen)return kf(e);this._needsOpen=!1,Ef(this,new Sf(this,5,0,0,null,e))}_open(e){return yf(e)}suspend(e){if(e||(e=Ff),this.closed||this.suspended)return kf(e);this._needsOpen=!0,Ef(this,new Sf(this,6,0,0,null,e))}_suspend(e){this._close(e)}close(e){if(e||(e=Ff),this.closed)return kf(e);Ef(this,new Sf(this,7,0,0,null,e))}_close(e){return vf(e)}unlink(e){e||(e=Ff),this.closed||this.close(Ff),Ef(this,new Sf(this,8,0,0,null,e))}_unlink(e){return wf(e)}run(e,t){t&&!this.writing&&(this.writing=!0,this._needsOpen=!0),this._needsOpen&&this.open(Ff),this._queued.length?this._queued.push(e):e._run()}};let Sf=class{constructor(e,t,n,r,i,s){this.type=t,this.offset=n,this.size=r,this.data=i,this.storage=e,this._sync=!1,this._callback=s,this._openError=null}_maybeOpenError(e){if(5!==this.type)return;const t=this.storage._queued;for(let n=1;n<t.length;n++){const r=t[n];if(5===r.type)break;r._openError=e}}_unqueue(e){const t=this.storage,n=t._queued;if(e)this._maybeOpenError(e);else if(this.type>4)switch(this.type){case 5:t.suspended&&(t.suspended=!1,t.emit("unsuspend")),t.opened||(t.opened=!0,t.emit("open"));break;case 6:t.suspended||(t.suspended=!0,t.emit("suspend"));break;case 7:t.closed||(t.closed=!0,t.emit("close"));break;case 8:t.unlinked||(t.unlinked=!0,t.emit("unlink"))}n.length&&n[0]===this&&n.shift(),--t._pending||function(e){const t=e._queued;for(;t.length>0;){const n=t[0].type>4;if(n&&e._pending||t[0]._run(),n)return;t.shift()}}(t)}callback(e,t){if(this._sync)return Of(this,e,t);this._unqueue(e),this._callback(e,t)}_openAndNotClosed(){const e=this.storage;return!(!e.opened||e.closed||e.suspended)||(!e.opened||e.suspended?Of(this,this._openError||new Error("Not opened")):e.closed&&Of(this,new Error("Closed")),!1)}_open(){const e=this.storage;return e.opened&&!e.suspended?Of(this,null):e.closed?Of(this,new Error("Closed")):void e._open(this)}_run(){const e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._openAndNotClosed()&&e._read(this);break;case 1:this._openAndNotClosed()&&e._write(this);break;case 2:this._openAndNotClosed()&&e._del(this);break;case 3:this._openAndNotClosed()&&e._truncate(this);break;case 4:this._openAndNotClosed()&&e._stat(this);break;case 5:this._open();break;case 6:e.closed||!e.opened||e.suspended?Of(this,null):e._suspend(this);break;case 7:e.closed||!e.opened||e.suspended?Of(this,null):e._close(this);break;case 8:e.unlinked?Of(this,null):e._unlink(this)}this._sync=!1}};function Ef(e,t){e._queued.push(t),e._pending||t._run()}function Af(e){return function(t){Of(t,e)}}function Of(e,t,n){df((()=>e.callback(t,n)))}function kf(e){df((()=>e(null)))}function Ff(){}var jf=Vr(_f);function Lf(e){return null!=e&&"string"==typeof e.valueOf()}function Cf(e,t,n){return e&&e.startsWith(t,n)}function Tf(e,t,n=!0){const r=Array.isArray(t)?t:t.split("");if(r.indexOf(e[0])>-1){const t=Array.isArray(e)?e:e.split("");for(;r.indexOf(t[0])>-1;)t.shift();return n?t.join(""):t}return e}function Pf(e,t){return function(e,t){return Tf((Array.isArray(e)?e:e.split("")).reverse(),t,!1).reverse().join("")}(Tf(e,t),t)}function If(e){return Cf(e,"../")||Cf(e,"./")}function Mf(e){return Cf(e,"/")}function Nf(e="/"){return"/"===e||""===e}function Df(e){return"function"==typeof e}function Bf(e){const t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Rf=Bf((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function zf(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Wf{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const e of t)e.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(Df(n))try{n()}catch(t){e=t instanceof Rf?t.errors:[t]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const t of r)try{qf(t)}catch(t){e=null!=e?e:[],t instanceof Rf?e=[...e,...t.errors]:e.push(t)}}if(e)throw new Rf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qf(e);else{if(e instanceof Wf){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&zf(t,e)}remove(e){const{_finalizers:t}=this;t&&zf(t,e),e instanceof Wf&&e._removeParent(this)}}Wf.EMPTY=(()=>{const e=new Wf;return e.closed=!0,e})();const $f=Wf.EMPTY;function Uf(e){return e instanceof Wf||e&&"closed"in e&&Df(e.remove)&&Df(e.add)&&Df(e.unsubscribe)}function qf(e){Df(e)?e():e.unsubscribe()}const Vf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gf={setTimeout(e,t,...n){const{delegate:r}=Gf;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Gf;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Hf(e){Gf.setTimeout((()=>{const{onUnhandledError:t}=Vf;if(!t)throw e;t(e)}))}function Jf(){}const Yf=Kf("C",void 0,void 0);function Kf(e,t,n){return{kind:e,value:t,error:n}}function Xf(e){e()}class Zf extends Wf{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uf(e)&&e.add(this)):this.destination=sp}static create(e,t,n){return new np(e,t,n)}next(e){this.isStopped?ip(function(e){return Kf("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ip(Kf("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ip(Yf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qf=Function.prototype.bind;function ep(e,t){return Qf.call(e,t)}class tp{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){rp(e)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){rp(e)}else rp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){rp(e)}}}class np extends Zf{constructor(e,t,n){let r;if(super(),Df(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0};else{let t;this&&Vf.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ep(e.next,t),error:e.error&&ep(e.error,t),complete:e.complete&&ep(e.complete,t)}):r=e}this.destination=new tp(r)}}function rp(e){Hf(e)}function ip(e,t){const{onStoppedNotification:n}=Vf;n&&Gf.setTimeout((()=>n(e,t)))}const sp={closed:!0,next:Jf,error:function(e){throw e},complete:Jf},op="function"==typeof Symbol&&Symbol.observable||"@@observable";function ap(e){return e}class cp{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new cp;return t.source=this,t.operator=e,t}subscribe(e,t,n){const r=(i=e)&&i instanceof Zf||function(e){return e&&Df(e.next)&&Df(e.error)&&Df(e.complete)}(i)&&Uf(i)?e:new np(e,t,n);var i;return Xf((()=>{const{operator:e,source:t}=this;r.add(e?e.call(r,t):t?this._subscribe(r):this._trySubscribe(r))})),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=up(t))(((t,n)=>{const r=new np({next:t=>{try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});this.subscribe(r)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[op](){return this}pipe(...e){return(0===(t=e).length?ap:1===t.length?t[0]:function(e){return t.reduce(((e,t)=>t(e)),e)})(this);var t}toPromise(e){return new(e=up(e))(((e,t)=>{let n;this.subscribe((e=>n=e),(e=>t(e)),(()=>e(n)))}))}}function up(e){var t;return null!==(t=null!=e?e:Vf.Promise)&&void 0!==t?t:Promise}function lp(e){return Df(null==e?void 0:e.lift)}function hp(e){return t=>{if(lp(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function fp(e,t,n,r,i){return new pp(e,t,n,r,i)}cp.create=e=>new cp(e);class pp extends Zf{constructor(e,t,n,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(n){try{t(n)}catch(t){e.error(t)}}:super._next,this._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}class dp extends cp{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Wf;const t=this.getSubject();e.add(this.source.subscribe(fp(t,void 0,(()=>{this._teardown(),t.complete()}),(e=>{this._teardown(),t.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=Wf.EMPTY)}return e}refCount(){return hp(((e,t)=>{let n=null;e._refCount++;const r=fp(t,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}const xp={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=xp;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t((t=>{n=void 0,e(t)}));return new Wf((()=>null==n?void 0:n(i)))},requestAnimationFrame(...e){const{delegate:t}=xp;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=xp;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0},mp=Bf((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class bp extends cp{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new gp(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new mp}next(e){Xf((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}}))}error(e){Xf((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){Xf((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:r}=this;return t||n?$f:(this.currentObservers=null,r.push(e),new Wf((()=>{this.currentObservers=null,zf(r,e)})))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new cp;return e.source=this,e}}bp.create=(e,t)=>new gp(e,t);class gp extends bp{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:$f}}const yp={now:()=>(yp.delegate||Date).now(),delegate:void 0};class vp extends bp{constructor(e=1/0,t=1/0,n=yp){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(n.push(e),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let t=0;t<i.length&&!e.closed;t+=n?1:2)e.next(i[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}class wp extends Wf{constructor(e,t){super()}schedule(e,t=0){return this}}const _p={setInterval(e,t,...n){const{delegate:r}=_p;return(null==r?void 0:r.setInterval)?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=_p;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};class Sp extends wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return _p.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&_p.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,zf(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let Ep,Ap=1;const Op={};function kp(e){return e in Op&&(delete Op[e],!0)}const Fp={setImmediate(e){const t=Ap++;return Op[t]=!0,Ep||(Ep=Promise.resolve()),Ep.then((()=>kp(t)&&e())),t},clearImmediate(e){kp(e)}},{setImmediate:jp,clearImmediate:Lp}=Fp,Cp={setImmediate(...e){const{delegate:t}=Cp;return((null==t?void 0:t.setImmediate)||jp)(...e)},clearImmediate(e){const{delegate:t}=Cp;return((null==t?void 0:t.clearImmediate)||Lp)(e)},delegate:void 0};class Tp{constructor(e,t=Tp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}Tp.now=yp.now;class Pp extends Tp{constructor(e,t=Tp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Ip=new class extends Pp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends Sp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=Cp.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(Cp.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),Mp=new Pp(Sp),Np=Mp;new class extends Pp{}(class extends Sp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}}),new class extends Pp{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends Sp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=xp.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(xp.cancelAnimationFrame(t),e._scheduled=void 0)}}),class extends Pp{constructor(e=Dp,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,r;for(;(r=e[0])&&r.delay<=t&&(e.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=e.shift();)r.unsubscribe();throw n}}}.frameTimeFactor=10;class Dp extends Sp{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(Number.isFinite(t)){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new Dp(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}return Wf.EMPTY}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:r}=e;return r.push(this),r.sort(Dp.sortActions),1}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}const Bp=new cp((e=>e.complete()));function Rp(e){return e&&Df(e.schedule)}function zp(e){return e[e.length-1]}function Wp(e){return Df(zp(e))?e.pop():void 0}function $p(e){return Rp(zp(e))?e.pop():void 0}function Up(e){return this instanceof Up?(this.v=e,this):new Up(e)}function qp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const Vp=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Gp(e){return Df(null==e?void 0:e.then)}function Hp(e){return Df(e[op])}function Jp(e){return Symbol.asyncIterator&&Df(null==e?void 0:e[Symbol.asyncIterator])}function Yp(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kp="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Xp(e){return Df(null==e?void 0:e[Kp])}function Zp(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof Up?Promise.resolve(e.value.v).then(c,u):l(s[0][2],e)}(i[e](t))}catch(e){l(s[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield Up(t.read());if(n)return yield Up(void 0);yield yield Up(e)}}finally{t.releaseLock()}}))}function Qp(e){return Df(null==e?void 0:e.getReader)}function ed(e){if(e instanceof cp)return e;if(null!=e){if(Hp(e))return i=e,new cp((e=>{const t=i[op]();if(Df(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Vp(e))return r=e,new cp((e=>{for(let t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Gp(e))return n=e,new cp((e=>{n.then((t=>{e.closed||(e.next(t),e.complete())}),(t=>e.error(t))).then(null,Hf)}));if(Jp(e))return td(e);if(Xp(e))return t=e,new cp((e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()}));if(Qp(e))return td(Zp(e))}var t,n,r,i;throw Yp(e)}function td(e){return new cp((t=>{(function(e,t){var n,r,i,s;return function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{for(n=qp(e);!(r=yield n.next()).done;){const e=r.value;if(t.next(e),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function nd(e,t,n,r=0,i=!1){const s=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!i)return s}function rd(e,t=0){return hp(((n,r)=>{n.subscribe(fp(r,(n=>nd(r,e,(()=>r.next(n)),t)),(()=>nd(r,e,(()=>r.complete()),t)),(n=>nd(r,e,(()=>r.error(n)),t))))}))}function id(e,t=0){return hp(((n,r)=>{r.add(e.schedule((()=>n.subscribe(r)),t))}))}function sd(e,t){if(!e)throw new Error("Iterable cannot be null");return new cp((n=>{nd(n,t,(()=>{const r=e[Symbol.asyncIterator]();nd(n,t,(()=>{r.next().then((e=>{e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function od(e,t){return t?function(e,t){if(null!=e){if(Hp(e))return function(e,t){return ed(e).pipe(id(t),rd(t))}(e,t);if(Vp(e))return function(e,t){return new cp((n=>{let r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Gp(e))return function(e,t){return ed(e).pipe(id(t),rd(t))}(e,t);if(Jp(e))return sd(e,t);if(Xp(e))return function(e,t){return new cp((n=>{let r;return nd(n,t,(()=>{r=e[Kp](),nd(n,t,(()=>{let e,t;try{({value:e,done:t}=r.next())}catch(e){return void n.error(e)}t?n.complete():n.next(e)}),0,!0)})),()=>Df(null==r?void 0:r.return)&&r.return()}))}(e,t);if(Qp(e))return function(e,t){return sd(Zp(e),t)}(e,t)}throw Yp(e)}(e,t):ed(e)}function ad(...e){return od(e,$p(e))}var cd;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(cd||(cd={}));class ud{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){return ld(this,e)}do(e,t,n){const{kind:r,value:i,error:s}=this;return"N"===r?null==e?void 0:e(i):"E"===r?null==t?void 0:t(s):null==n?void 0:n()}accept(e,t,n){var r;return Df(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)}toObservable(){const{kind:e,value:t,error:n}=this,r="N"===e?ad(t):"E"===e?function(e,t){const n=Df(e)?e:()=>e,r=e=>e.error(n());return new cp(r)}((()=>n)):"C"===e?Bp:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new ud("N",e)}static createError(e){return new ud("E",void 0,e)}static createComplete(){return ud.completeNotification}}function ld(e,t){var n,r,i;const{kind:s,value:o,error:a}=e;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=t.next)||void 0===n||n.call(t,o):"E"===s?null===(r=t.error)||void 0===r||r.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}ud.completeNotification=new ud("C");const hd=Bf((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function fd(e,t){const n="object"==typeof t;return new Promise(((r,i)=>{const s=new np({next:e=>{r(e),s.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new hd)}});e.subscribe(s)}))}function pd(e,t){return hp(((n,r)=>{let i=0;n.subscribe(fp(r,(n=>{r.next(e.call(t,n,i++))})))}))}function dd(e,t,n=1/0){return Df(t)?dd(((n,r)=>pd(((e,i)=>t(n,e,r,i)))(ed(e(n,r)))),n):("number"==typeof t&&(n=t),hp(((t,r)=>function(e,t,n,r,i,s,o,a){const c=[];let u=0,l=0,h=!1;const f=()=>{!h||c.length||u||t.complete()},p=e=>u<r?d(e):c.push(e),d=e=>{u++;let i=!1;ed(n(e,l++)).subscribe(fp(t,(e=>{t.next(e)}),(()=>{i=!0}),void 0,(()=>{if(i)try{for(u--;c.length&&u<r;){const e=c.shift();d(e)}f()}catch(e){t.error(e)}})))};return e.subscribe(fp(t,p,(()=>{h=!0,f()}))),()=>{}}(t,r,e,n))))}function xd(e=1/0){return dd(ap,e)}function md(){return xd(1)}function bd(...e){return md()(od(e,$p(e)))}function gd(e){return new cp((t=>{ed(e()).subscribe(t)}))}function yd(e=0,t,n=Np){let r=-1;return null!=t&&(Rp(t)?n=t:r=t),new cp((t=>{let i=(s=e)instanceof Date&&!isNaN(s)?+e-n.now():e;var s;i<0&&(i=0);let o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function vd(...e){const t=$p(e),n=function(e,t){return"number"==typeof zp(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?ed(r[0]):xd(n)(od(r,t)):Bp}Bf((e=>function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"})),Bf((e=>function(t){e(this),this.name="NotFoundError",this.message=t})),Bf((e=>function(t){e(this),this.name="SequenceError",this.message=t})),Bf((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));const wd=new cp(Jf),{isArray:_d}=Array;function Sd(e){return 1===e.length&&_d(e[0])?e[0]:e}function Ed(e,t){return hp(((n,r)=>{let i=0;n.subscribe(fp(r,(n=>e.call(t,n,i++)&&r.next(n))))}))}function Ad(e,t){return new cp((n=>{const r=e(),i=t(r);return(i?ed(i):Bp).subscribe(n),()=>{r&&r.unsubscribe()}}))}function Od(...e){const t=Wp(e),n=Sd(e);return n.length?new cp((e=>{let r=n.map((()=>[])),i=n.map((()=>!1));e.add((()=>{r=i=null}));for(let s=0;!e.closed&&s<n.length;s++)ed(n[s]).subscribe(fp(e,(n=>{if(r[s].push(n),r.every((e=>e.length))){const n=r.map((e=>e.shift()));e.next(t?t(...n):n),r.some(((e,t)=>!e.length&&i[t]))&&e.complete()}}),(()=>{i[s]=!0,!r[s].length&&e.complete()})));return()=>{r=i=null}})):Bp}function kd(e){return hp(((t,n)=>{let r,i=null,s=!1;i=t.subscribe(fp(n,void 0,void 0,(o=>{r=ed(e(o,kd(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):s=!0}))),s&&(i.unsubscribe(),i=null,r.subscribe(n))}))}function Fd(e,t,n,r,i){return(s,o)=>{let a=n,c=t,u=0;s.subscribe(fp(o,(t=>{const n=u++;c=a?e(c,t,n):(a=!0,t),r&&o.next(c)}),i&&(()=>{a&&o.next(c),o.complete()})))}}const jd=(e,t)=>(e.push(t),e);function Ld(){return hp(((e,t)=>{(function(e,t){return hp(Fd(e,t,arguments.length>=2,!1,!0))})(jd,[])(e).subscribe(t)}))}function Cd(e,t){return Df(t)?dd(e,t,1):dd(e,1)}const Td={connector:()=>new bp};function Pd(e,t=Td){const{connector:n}=t;return hp(((t,r)=>{const i=n();var s;ed(e((s=i,new cp((e=>s.subscribe(e)))))).subscribe(r),r.add(t.subscribe(i))}))}function Id(e){return hp(((t,n)=>{let r=!1;t.subscribe(fp(n,(e=>{r=!0,n.next(e)}),(()=>{r||n.next(e),n.complete()})))}))}function Md(e){return e<=0?()=>Bp:hp(((t,n)=>{let r=0;t.subscribe(fp(n,(t=>{++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Nd(){return hp(((e,t)=>{e.subscribe(fp(t,Jf))}))}function Dd(e){return pd((()=>e))}function Bd(e,t){return t?n=>bd(t.pipe(Md(1),Nd()),n.pipe(Bd(e))):dd(((t,n)=>ed(e(t,n)).pipe(Md(1),Dd(t))))}function Rd(e,t=Mp){const n=yd(e,t);return Bd((()=>n))}function zd(e,t=ap){return e=null!=e?e:Wd,hp(((n,r)=>{let i,s=!0;n.subscribe(fp(r,(n=>{const o=t(n);!s&&e(i,o)||(s=!1,i=o,r.next(n))})))}))}function Wd(e,t){return e===t}function $d(e=Ud){return hp(((t,n)=>{let r=!1;t.subscribe(fp(n,(e=>{r=!0,n.next(e)}),(()=>r?n.complete():n.error(e()))))}))}function Ud(){return new hd}function qd(e,t){return t?n=>n.pipe(qd(((n,r)=>ed(e(n,r)).pipe(pd(((e,i)=>t(n,e,r,i))))))):hp(((t,n)=>{let r=0,i=null,s=!1;t.subscribe(fp(n,(t=>{i||(i=fp(n,void 0,(()=>{i=null,s&&n.complete()})),ed(e(t,r++)).subscribe(i))}),(()=>{s=!0,!i&&n.complete()})))}))}function Vd(e){return hp(((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}}))}function Gd(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ed(((t,n)=>e(t,n,r))):ap,Md(1),n?Id(t):$d((()=>new hd)))}function Hd(e){return e<=0?()=>Bp:hp(((t,n)=>{let r=[];t.subscribe(fp(n,(t=>{r.push(t),e<r.length&&r.shift()}),(()=>{for(const e of r)n.next(e);n.complete()}),void 0,(()=>{r=null})))}))}function Jd(){return hp(((e,t)=>{e.subscribe(fp(t,(e=>{t.next(ud.createNext(e))}),(()=>{t.next(ud.createComplete()),t.complete()}),(e=>{t.next(ud.createError(e)),t.complete()})))}))}function Yd(e,t){const n=Df(e)?e:()=>e;return Df(t)?Pd(t,{connector:n}):e=>new dp(e,n)}function Kd(e){return e?t=>Pd(e)(t):e=>Yd(new bp)(e)}function Xd(e,t,n,r){n&&!Df(n)&&(r=n);const i=Df(n)?n:void 0;return n=>Yd(new vp(e,t,r),i)(n)}function Zd(e,t){return hp(Fd(e,t,arguments.length>=2,!0))}function Qd(...e){const t=$p(e);return hp(((n,r)=>{(t?bd(e,n,t):bd(e,n)).subscribe(r)}))}function ex(e,t){return hp(((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(fp(r,(n=>{null==i||i.unsubscribe();let o=0;const c=s++;ed(e(n,c)).subscribe(i=fp(r,(e=>r.next(t?t(n,e,c,o++):e)),(()=>{i=null,a()})))}),(()=>{o=!0,a()})))}))}function tx(e){return hp(((t,n)=>{ed(e).subscribe(fp(n,(()=>n.complete()),Jf)),!n.closed&&t.subscribe(n)}))}function nx(e,t,n){const r=Df(e)||t||n?{next:e,error:t,complete:n}:e;return r?hp(((e,t)=>{var n;null===(n=r.subscribe)||void 0===n||n.call(r);let i=!0;e.subscribe(fp(t,(e=>{var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(()=>{var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(e=>{var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(()=>{var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):ap}function rx(e,t){if(Nf(t))return ad(!1);const n=(e.exists||e.entry).bind(e);return gd((()=>Promise.resolve(n(t)))).pipe(pd((e=>!!e)),kd((e=>ad(!1))))}const ix={catchError:kd,first:Gd,map:pd,switchMap:ex,firstValueFrom:fd,of:ad};function sx(e,t){return Nf(t)?ix.of(!0):rx(e,t).pipe(ix.switchMap((n=>n?ix.of(!1):Ly(e,{cwd:t}).pipe(ix.first(),ix.map((()=>!0))))),ix.catchError((()=>ix.of(!1))))}const ox=Zf.prototype._complete,ax=Zf.prototype._error,cx=Zf.prototype._next;class ux extends Zf{constructor(e,t){super(e);const{complete:n,error:r,next:i}=t;this._complete=n?()=>{try{n()}catch(t){e.error(t)}this.unsubscribe()}:ox,this._error=r?t=>{try{r(t)}catch(t){e.error(t)}this.unsubscribe()}:ax,this._next=i?t=>{try{i(t)}catch(t){e.error(t)}}:cx}}function lx(...e){let t=e[0],n=e[1];if(0===t.length)return ad(n?n([]):[]);const r=t.slice();return n&&r.push(((...e)=>n(e))),Od.apply(null,r)}function hx(e,t,n=(()=>new bp)){return r=>r.lift(new fx(e,t,n))}class fx{constructor(e,t,n){this.count=e,this.hashSelector=t,this.subjectSelector=n}call(e,t){return t.subscribe(new px(e,this.count,this.hashSelector,this.subjectSelector))}}class px extends Zf{constructor(e,t,n,r){super(e),this.count=t,this.hashSelector=n,this.subjectSelector=r,this.index=0;const i=this.buckets=new Array(t);for(let e=0;e<t;++e)i[e]=r();e.next(i.map((e=>e.asObservable())))}_next(e){const{buckets:t,closed:n,count:r,hashSelector:i}=this;if(n)return;let s;try{const t=i(e,this.index++);s=Math.abs(Math.floor(t))%r}catch(e){return void this.error(e)}t[s].next(e)}_error(e){const{buckets:t,closed:n,destination:r}=this;n||(t.forEach((t=>t.error(e))),r.error(e))}_complete(){const{buckets:e,closed:t,destination:n}=this;t||(e.forEach((e=>e.complete())),n.complete())}}function dx(e){return t=>t.pipe(Kd((t=>vd(t,t.pipe(hp(((e,t)=>{e.subscribe(fp(t,(()=>{t.next(!1),t.complete()}),(()=>{t.next(!0),t.complete()})))})),dd((t=>t?e:Bp)))))))}function xx(...e){let t=e[e.length-1];return function(e){return Boolean(e&&"function"==typeof e.schedule)}(t)?e.pop():t=null,n=>bd(n,od(e,t))}function mx(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(Kd((e=>bd(e.pipe(Md(n)),e.pipe(t)))))}const bx=dx,gx=dx;class yx{constructor(e){this.callback=e}call(e,t){return t.subscribe(new vx(e,this.callback))}}class vx extends Zf{constructor(e,t){super(e),this.callback=t,this.kind="U",this.subscription=void 0}complete(){this.kind="C",this.defer((()=>super.complete()))}error(e){this.kind="E",this.defer((()=>super.error(e)))}unsubscribe(){this.defer((()=>super.unsubscribe()))}defer(e){if(this.subscription)return void this.subscription.add(e);const t=new Wf;this.subscription=t,t.add(e),od(this.callback(this.kind)).pipe(Vd((()=>t.unsubscribe()))).subscribe()}}class wx{constructor(e){this.callback=e}call(e,t){const n=t.subscribe(e);return n.add(this.callback),n}}function _x(e){return t=>gd((()=>{let n="U";return t.pipe(nx({complete:()=>n="C",error:()=>n="E"}),Vd((()=>e(n))))}))}function Sx(e){return t=>t.lift(new Ax(e))}const Ex=Sx;class Ax{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ox(e,this.callback))}}class Ox extends Zf{constructor(e,t){super(e),this.add(new Wf((()=>t(this.notification))))}complete(){this.notification=new ud("C"),super.complete()}error(e){this.notification=new ud("E",void 0,e),super.error(e)}}function kx(e,t=Ip){return n=>{const r=n;let i=null,s=null;const o=new bp,a=o.pipe(Zd(((e,t)=>e+t),0),ex((n=>0===n?yd(e,t).pipe(nx((()=>{i&&(i.unsubscribe(),i=null),s&&(s.unsubscribe(),s=null)}))):!i&&n>0?yd(0,t).pipe(nx((()=>{i||(i=r.connect())}))):wd)));return Ad((()=>(s||(s=a.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)})),(()=>n))}}const Fx=kx;class jx{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Lx(e,this.scheduler,this.delay))}}class Lx extends Zf{constructor(e,t,n){super(e),this.scheduler=t,this.delay=n}unsubscribe(){const{delay:e,scheduler:t}=this;t.schedule((()=>super.unsubscribe()),e)}}var Cx=Object.freeze({__proto__:null,auditMap:function(e){return t=>{let n,r=!1;return t.pipe(dd(((t,i)=>r?(n=[t,i],Bp):(r=!0,od(e(t,i)).pipe(bd(gd((()=>{if(!n)return Bp;const t=e(...n);return n=void 0,od(t)}))),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ed(((t,n)=>e(t,n,r))):ap,Hd(1),n?Id(t):$d((()=>new hd)))}(),nx({complete:()=>r=!1}))))))}},bucketBy:hx,bufferRecent:function(e){return e<1?e=>e.pipe(Dd([])):1===e?e=>e.pipe(pd((e=>[e]))):t=>t.pipe(Zd(((t,n)=>[...t.slice(1-e),n]),[]))},concatIfEmpty:dx,concatTap:function(e){return t=>t.pipe(Cd((t=>od(e(t)).pipe(Nd(),xx(t)))))},concatMapEager:function(e,t){return n=>gd((()=>{let r=0;const i=new Map;return n.pipe(dd(((t,n)=>od(e(t,n)).pipe(Jd(),pd((e=>({index:n,notification:e}))))),t),dd((({index:e,notification:t})=>{let n=i.get(e);switch(n||(n={complete:!1,index:e,values:[]},i.set(e,n)),t.kind){case"N":n.values.push(t.value);break;case"C":n.complete=!0;break;case"E":return t.toObservable()}return n.index!==r?Bp:function(){const e=[];let t=i.get(r);for(;t&&(e.push(...t.values),t.values.length=0,t.complete);)i.delete(r),t=i.get(++r);return e}()})))}))},debounceAfter:function(e,t,n){return r=>r.pipe(Kd((r=>e.pipe(ex((()=>bd(ad(!0),ad(!1).pipe(Rd(t,n))))),Qd(!1),zd(),Kd((e=>e.pipe(Cd((t=>t?r.pipe(tx(e.pipe(Ed((e=>!e)))),Hd(1)):r.pipe(tx(e.pipe(Ed((e=>e))))))))))))))},debounceSync:function(){return e=>new cp((t=>{let n,r;e.subscribe(new ux(t,{complete:()=>{n&&t.next(r),t.complete()},error:e=>t.error(e),next:e=>{r=e,n||(n=Ip.schedule((()=>{t.next(r),n=void 0})),t.add(n))}}))}))},debounceTimeSubsequent:function(e,t,n){let r;return"number"==typeof t?r=t:(r=1,n=t),mx(r,function(e,t=Mp){return hp(((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const e=s;s=null,r.next(e)}};function c(){const n=o+e,s=t.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(fp(r,(n=>{s=n,o=t.now(),i||(i=t.schedule(c,e),r.add(i))}),(()=>{a(),r.complete()}),void 0,(()=>{s=i=null})))}))}(e,n))},defaultObservableIfEmpty:bx,switchIfEmpty:gx,deferFinalize:function(e){return t=>t.lift(new yx(e))},delayUntil:function(e){return t=>t.pipe(Kd((t=>{const n=new cp((n=>{let r=!0;const i=[],s=new Wf;return s.add(e.subscribe((()=>{i.forEach((e=>n.next(e))),n.complete()}),(e=>n.error(e)),(()=>{r=!1,i.length=0}))),s.add((()=>{i.length=0})),s.add(t.subscribe((e=>r&&i.push(e)),(e=>n.error(e)))),s}));return bd(n,t)})))},dispose:function(e){return t=>t.lift(new wx(e))},endWith:xx,equals:function(e){return t=>t.pipe(Ed((t=>e===t)))},exhaustTap:function(e){return t=>t.pipe(Xd(1,void 0,(t=>t.pipe(qd((n=>bd(t,wd).pipe(tx(od(e(n)).pipe(Nd(),xx(null))),Ld(),xd())))))))},finalizeWithKind:_x,guard:function(e,t){return n=>n.pipe(pd((n=>{if(e(n))return n;const r=new Error(t||"Guard rejection.");throw r.value=n,r})))},hold:function(e){return t=>{return t.pipe((n=e,hp(((e,t)=>{let r=[];return e.subscribe(fp(t,(e=>r.push(e)),(()=>{t.next(r),t.complete()}))),ed(n).subscribe(fp(t,(()=>{const e=r;r=[],t.next(e)}),Jf)),()=>{r=null}}))),md());var n}},holdToggle:function(e,t){return n=>{return n.pipe((r=e,i=t,hp(((e,t)=>{const n=[];ed(r).subscribe(fp(t,(e=>{const r=[];n.push(r);const s=new Wf;s.add(ed(i(e)).subscribe(fp(t,(()=>{zf(n,r),t.next(r),s.unsubscribe()}),Jf)))}),Jf)),e.subscribe(fp(t,(e=>{for(const t of n)t.push(e)}),(()=>{for(;n.length>0;)t.next(n.shift());t.complete()})))}))),md());var r,i}},holdWhen:function(e){return t=>{return t.pipe((n=e,hp(((e,t)=>{let r=null,i=null;const s=()=>{null==i||i.unsubscribe();const e=r;r=[],e&&t.next(e),ed(n()).subscribe(i=fp(t,s,Jf))};s(),e.subscribe(fp(t,(e=>null==r?void 0:r.push(e)),(()=>{r&&t.next(r),t.complete()}),void 0,(()=>r=i=null)))}))),md());var n}},indexElements:function(e=((e,t)=>t)){return pd(e)},inexorably:Sx,finalize:Ex,initial:function(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(Kd((e=>{return vd(e.pipe(Md(n),t),e.pipe((r=n,Ed(((e,t)=>r<=t)))));var r})))},instanceOf:function(e){return Ed("function"==typeof e?t=>t instanceof e:t=>Object.keys(e).some((n=>t instanceof e[n])))},materializeTap:function(e){return t=>t.pipe(nx({complete:()=>e(new ud("C")),error:t=>e(new ud("E",void 0,t)),next:t=>e(new ud("N",t))}))},materializeTo:function(e){return t=>t.pipe(function(e,t,n=1/0){return Df(t)?dd((()=>e),t,n):("number"==typeof t&&(n=t),dd((()=>e),n))}(od(e).pipe(Jd())),hp(((e,t)=>{e.subscribe(fp(t,(e=>ld(e,t))))})))},mergeTap:function(e){return t=>t.pipe(dd((t=>od(e(t)).pipe(Nd(),xx(t)))))},multicastWithKind:function(e,t){return n=>{let r,i;return n.pipe(_x((e=>r=e)),Yd((()=>(i=e(r,i),r=void 0,i)),t))}},pairwiseStartWith:function(e){return t=>t.pipe(Qd(e),hp(((e,t)=>{let n,r=!1;e.subscribe(fp(t,(e=>{const i=n;n=e,r&&t.next([i,e]),r=!0})))})))},pause:function(e,t="resumed"){return n=>e.pipe(Qd(t),Xd(1,void 0,(e=>n.pipe(dd((t=>e.pipe(Ed((e=>"resumed"===e)),Gd(),pd((()=>t)))))))))},percolate:function e(...t){const[n,...r]=t;return 1===t.length&&Array.isArray(n)?e(...n):new cp((t=>od(n).subscribe({complete:()=>{t.complete()},next(e){t.next(e)},error:n=>{0===r.length?t.error(n):t.add(e(...r).subscribe(t))}})))},pluck:function(...e){return t=>function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return pd((n=>{let r=n;for(let n=0;n<t;n++){const t=null==r?void 0:r[e[n]];if(void 0===t)return;r=t}return r}))}(...e)(t)},prioritize:function(e){return t=>new cp((n=>{const r=Kd()(t),i=[],s=new Wf,o=Math.max(e.length,2);for(let e=0;e<o;++e){const e=new bp;i.push(e),s.add(r.subscribe(e))}const[a,c,...u]=i;return s.add(e(a,c,...u).subscribe(n)),s.add(r.connect()),s}))},rateLimit:function(e,...t){let n=1,r=Ip;1===t.length?"number"==typeof t[0]?n=t[0]:r=t[0]:2===t.length&&(n=t[0],r=t[1]);const i=n||1;return t=>t.pipe(Zd(((t,n)=>{const s=r.now(),o=s-e;if((t=t.filter((e=>e.until>o))).length>=i){const r=t[0],o=t[t.length-1],a=r.until+e*Math.floor(t.length/i);t.push({delay:o.until<s?a-s:a-o.until,until:a,value:n})}else t.push({delay:0,until:s,value:n});return t}),[]),pd((e=>e[e.length-1])),Cd((e=>{const t=ad(e.value);return e.delay?t.pipe(Rd(e.delay,r)):t})))},refCountDelay:kx,refCountAuditTime:Fx,refCountForever:function(){return e=>{const t=e;let n=null;return Ad((()=>(n||(n=t.connect()),{unsubscribe:()=>{}})),(()=>e))}},refCountOn:function(e){return t=>{const n=t;let r=0,i=null;return Ad((()=>(++r,e.schedule((()=>{!i&&r>0&&(i=n.connect())})),{unsubscribe:()=>{--r,e.schedule((()=>{i&&0===r&&(i.unsubscribe(),i=null)}))}})),(()=>t))}},reschedule:function(e=Ip){return Cd((t=>ad(t,e)))},skipSync:function(){return e=>new cp((t=>{let n=!1;const r=e.subscribe((e=>n&&t.next(e)),t.error.bind(t),t.complete.bind(t));return n=!0,r}))},splitBy:function(e,t=(()=>new bp)){return hx(2,((t,n)=>e(t,n)?0:1),t)},spread:function(...e){return t=>e.reduce(((e,t)=>e.pipe(t)),t)},startWithDeferred:function(e,t){return n=>bd(gd((()=>{const n=e();return t?ad(n,t):ad(n)})),n)},startWithTimeout:function(e,t,n){return 0!==t||n?r=>r.pipe(Kd((r=>function(...e){return 1===(e=Sd(e)).length?ed(e[0]):new cp(function(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(ed(e[r]).subscribe(fp(t,(e=>{if(n){for(let e=0;e<n.length;e++)e!==r&&n[e].unsubscribe();n=null}t.next(e)}))))}}(e))}(r,bd(yd(t,n).pipe(Dd(e)),r))))):t=>new cp((n=>{let r=!1;const i=t.subscribe((e=>{r=!0,n.next(e)}),n.error.bind(n),n.complete.bind(n));return r||n.next(e),i}))},subsequent:mx,switchMapUntil:function(e,t){return n=>n.pipe(Kd((n=>n.pipe(e,ex(((e,r)=>t(e,r).pipe(tx(n))))))))},switchTap:function(e){return t=>t.pipe(Kd((t=>t.pipe(Cd((n=>bd(od(e(n)).pipe(Nd(),tx(t)),ad(n))))))))},takeSync:function(){return e=>new cp((t=>{const n=e.subscribe(t);return t.complete(),n}))},takeWhileInclusive:function(e){return t=>t.pipe(Yd((()=>new vp(1)),(t=>bd(t.pipe(function(e,t=!1){return hp(((n,r)=>{let i=0;n.subscribe(fp(r,(n=>{const s=e(n,i++);(s||t)&&r.next(n),!s&&r.complete()})))}))}(e)),t.pipe(Md(1),Ed((t=>!e(t))))))))},tapSubscribe:function(e){const{ignore:t={},subscribe:n=Jf,unsubscribe:r=Jf}="function"==typeof e?{subscribe:e}:e;return e=>gd((()=>{let i=!1,s=!1;return n(),e.pipe(nx({complete:()=>i=!0,error:()=>s=!0}),Vd((()=>{i&&t.complete||s&&t.error||r()})))}))},tapWithIndex:function(e,t,n){return r=>gd((()=>{let i,s,o,a,c=-1;return e&&"function"!=typeof e?(i=e,s=e.next||Jf,o=e.error||Jf,a=e.complete||Jf):(i=void 0,s=e||Jf,o=t||Jf,a=n||Jf),r.pipe(nx((e=>s.call(i,[e,++c])),(e=>o.call(i,e)),(()=>a.call(i))))}))},throttleAfter:function(e,t,n){return r=>r.pipe(Kd((r=>e.pipe(ex((()=>bd(ad(!0),Rd(t,n)(ad(!1))))),Qd(!1),zd(),Kd((e=>e.pipe(Cd((t=>t?r.pipe(Md(1),tx(e.pipe(Ed((e=>!e))))):r.pipe(tx(e.pipe(Ed((e=>e))))))))))))))},withLatestFromWhen:function(...e){const t=e.pop(),n=e;return e=>new cp((r=>{const i=Kd()(e),s=n.map((e=>od(e).pipe(Kd()))),o=new Wf;return o.add(t().pipe(Qd(void 0),ex((()=>i.pipe(function(...e){const t=Wp(e);return hp(((n,r)=>{const i=e.length,s=new Array(i);let o=e.map((()=>!1)),a=!1;for(let t=0;t<i;t++)ed(e[t]).subscribe(fp(r,(e=>{s[t]=e,a||o[t]||(o[t]=!0,(a=o.every(ap))&&(o=null))}),Jf));n.subscribe(fp(r,(e=>{if(a){const n=[e,...s];r.next(t?t(...n):n)}})))}))}(...s))))).subscribe(r)),s.forEach((e=>o.add(e.connect()))),o.add(i.connect()),o}))},unsubscribeOn:function(e,t=0){return n=>n.lift(new jx(e,t))}});const Tx=Cx;var Px="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ix={},Mx={},Nx={};Object.defineProperty(Nx,"__esModule",{value:!0}),Nx.fromHex=Nx.toHex=void 0;const Dx=e=>new Number(e).toString(16).toLowerCase();Nx.toHex=e=>`0x${1===Dx(e).length?"0"+Dx(e):Dx(e)}`,Nx.fromHex=e=>new Number(e);var Bx={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=e=>({typename:e.typename,mime:e.info.mime,extension:e.info.extension}),n=e=>e[0],r=e=>e.slice(1,e.length);e.merge=(i,s)=>{if(0===i.bytes.length)return s;const o=n(i.bytes),a=r(i.bytes);if(((e,t)=>e&&0===t.length)(s.bytes[o],a)){const e=s.bytes[o];return s.bytes[o]={...e,matches:[...e.matches?e.matches:[],t(i)]},s}return s.bytes[o]?(s.bytes[o]=e.merge(e.createNode(i.typename,a,i.info),s.bytes[o]),s):(s.bytes[o]||(s.bytes[o]={...s.bytes[o],...e.createComplexNode(i.typename,a,i.info)}),s)},e.createNode=(e,t,n)=>({typename:e,bytes:t,info:n||{}}),e.createComplexNode=(i,s,o)=>{let a={bytes:{},matches:void 0};const c=n(s),u=r(s);return 0===s.length?{matches:[t({typename:i,info:o?{extension:o.extension,mime:o.mime}:{}})],bytes:{}}:(a.bytes[c]=e.createComplexNode(i,u,o),a)}}(Bx),Object.defineProperty(Mx,"__esModule",{value:!0});const Rx=Nx,zx=Bx;let Wx={noOffset:null,offset:{}};const $x=(e,t,n,r)=>{if(r){const i=Wx.offset[Rx.toHex(r)];if(i){const s=zx.merge(zx.createNode(e,t.map((e=>e.toLowerCase())),n),{...i});Wx.offset[Rx.toHex(r)]=s}else Wx.offset[Rx.toHex(r)]=zx.createComplexNode(e,t.map((e=>e.toLowerCase())),n)}else null===Wx.noOffset?Wx.noOffset=zx.createComplexNode(e,t.map((e=>e.toLowerCase())),n):Wx.noOffset=zx.merge(zx.createNode(e,t.map((e=>e.toLowerCase())),n),Wx.noOffset)};$x("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),$x("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),$x("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),$x("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),$x("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),$x("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),$x("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),$x("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),$x("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),$x("rpm",["0xed","0xab","0xee","0xdb"]),$x("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),$x("pic",["0x00"]),$x("pif",["0x00"]),$x("sea",["0x00"]),$x("ytr",["0x00"]),$x("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),$x("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),$x("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),$x("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),$x("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),$x("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),$x("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),$x("dba",["0xBE","0xBA","0xFE","0xCA"]),$x("dba2",["0x00","0x01","0x42","0x44"]),$x("tda",["0x00","0x01","0x44","0x54"]),$x("tda2",["0x00","0x01","0x00","0x00"]),$x("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),$x("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),$x("z",["0x1F","0x9D"]),$x("tar.z",["0x1F","0xA0"]),$x("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),$x("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),$x("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),$x("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),$x("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),$x("cin",["0x80","0x2A","0x5F","0xD7"]),$x("cin1",["0x52","0x4E","0x43","0x01"]),$x("cin2",["0x52","0x4E","0x43","0x02"]),$x("dpx",["0x53","0x44","0x50","0x58"]),$x("dpx2",["0x58","0x50","0x44","0x53"]),$x("exr",["0x76","0x2F","0x31","0x01"]),$x("bpg",["0x42","0x50","0x47","0xFB"]),$x("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),$x("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),$x("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),$x("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),$x("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),$x("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),$x("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),$x("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),$x("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),$x("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),$x("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),$x("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),$x("idx",["0x49","0x4E","0x44","0x58"]),$x("lz",["0x4C","0x5A","0x49","0x50"]),$x("exe",["0x4D","0x5A"]),$x("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),$x("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),$x("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),$x("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),$x("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),$x("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),$x("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),$x("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),$x("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),$x("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),$x("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),$x("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),$x("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),$x("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),$x("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),$x("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),$x("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),$x("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),$x("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),$x("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),$x("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),$x("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),$x("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),$x("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),$x("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),$x("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),$x("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),$x("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),$x("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),$x("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),$x("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),$x("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),$x("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),$x("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),$x("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),$x("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),$x("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),$x("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),$x("class",["0xCA","0xFE","0xBA","0xBE"]),$x("class",["0xEF","0xBB","0xBF"]),$x("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),$x("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),$x("class",["0xCE","0xFA","0xed","0xFE"]),$x("class",["0xCF","0xFA","0xed","0xFE"]),$x("class",["0xFF","0xFE"]),$x("class",["0xFF","0xFE"]),$x("class",["0xFF","0xFE","0x00","0x00"]),$x("ps",["0x25","0x21","0x50","0x53"]),$x("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),$x("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),$x("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),$x("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),$x("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),$x("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),$x("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),$x("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),$x("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),$x("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),$x("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),$x("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),$x("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),$x("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),$x("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),$x("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),$x("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),$x("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),$x("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),$x("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),$x("iso",["0x43","0x44","0x30","0x30","0x31"]),$x("flac",["0x66","0x4C","0x61","0x43"]),$x("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),$x("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),$x("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),$x("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),$x("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),$x("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),$x("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),$x("vmdk",["0x4B","0x44","0x4D"]),$x("crx",["0x43","0x72","0x32","0x34"]),$x("fh8",["0x41","0x47","0x44","0x33"]),$x("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),$x("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),$x("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),$x("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),$x("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),$x("xar",["0x78","0x61","0x72","0x21"]),$x("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),$x("nes",["0x4E","0x45","0x53","0x1A"]),$x("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),$x("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),$x("tox",["0x74","0x6F","0x78","0x33"]),$x("mlv",["0x4D","0x4C","0x56","0x49"]),$x("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),$x("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),$x("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),$x("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),$x("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),$x("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),$x("lz2",["0x04","0x22","0x4D","0x18"]),$x("cab",["0x4D","0x53","0x43","0x46"]),$x("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),$x("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),$x("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),$x("mk3d",["0x1A","0x45","0xDF","0xA3"]),$x("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),$x("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),$x("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),$x("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),$x("lep",["0xCF","0x84","0x01"]),$x("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),$x("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),$x("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),$x("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),$x("m2p",["0x00","0x00","0x01","0xBA"]),$x("vob",["0x00","0x00","0x01","0xBA"]),$x("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),$x("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),$x("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),$x("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),$x("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),$x("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),$x("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),$x("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),$x("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),$x("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),$x("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),$x("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),$x("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),$x("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),$x("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),$x("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),$x("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),$x("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),$x("Json",["0x7B"],{mime:"application/json",extension:".json"}),$x("Json",["0x5B"],{mime:"application/json",extension:".json"}),$x("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),$x("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),$x("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),$x("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),Mx.default=()=>Wx,function(e){var t=Px&&Px.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(Mx),r=Nx,i=n.default();e.filetypeinfo=e=>{let t=i;for(const n of Object.keys(t.offset)){const t=r.fromHex(n);if(t>=e.length)continue;const o=i.offset[n],a=s(t,e,o);if(a.length>0)return a}return null===t.noOffset?[]:s(0,e,t.noOffset)};const s=(e,t,n)=>{let i=n,s=[];for(;;){const n=r.toHex(t[e]);if(i=i.bytes["?"]&&!i.bytes[n]?i.bytes["?"]:i.bytes[n],!i)return s;i&&i.matches&&(s=i.matches.slice(0)),e+=1}};e.default=e.filetypeinfo,e.filetypename=t=>e.filetypeinfo(t).map((e=>e.typename)),e.filetypemime=t=>e.filetypeinfo(t).map((e=>e.mime?e.mime:null)).filter((e=>null!==e)),e.filetypeextension=t=>e.filetypeinfo(t).map((e=>e.extension?e.extension:null)).filter((e=>null!==e))}(Ix);var Ux=Ix.filetypemime;function qx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vx(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Gx,Hx={exports:{}},Jx="object"==typeof Reflect?Reflect:null,Yx=Jx&&"function"==typeof Jx.apply?Jx.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Gx=Jx&&"function"==typeof Jx.ownKeys?Jx.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Kx=Number.isNaN||function(e){return e!=e};function Xx(){Xx.init.call(this)}Hx.exports=Xx,Hx.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}am(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&am(e,"error",t,{once:!0})}(e,i)}))},Xx.EventEmitter=Xx,Xx.prototype._events=void 0,Xx.prototype._eventsCount=0,Xx.prototype._maxListeners=void 0;var Zx=10;function Qx(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function em(e){return void 0===e._maxListeners?Xx.defaultMaxListeners:e._maxListeners}function tm(e,t,n,r){var i,s,o,a;if(Qx(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=em(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function nm(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rm(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=nm.bind(r);return i.listener=n,r.wrapFn=i,i}function im(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):om(i,i.length)}function sm(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function om(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function am(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(Xx,"defaultMaxListeners",{enumerable:!0,get:function(){return Zx},set:function(e){if("number"!=typeof e||e<0||Kx(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Zx=e}}),Xx.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Xx.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Kx(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Xx.prototype.getMaxListeners=function(){return em(this)},Xx.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)Yx(a,this,t);else{var c=a.length,u=om(a,c);for(n=0;n<c;++n)Yx(u[n],this,t)}return!0},Xx.prototype.addListener=function(e,t){return tm(this,e,t,!1)},Xx.prototype.on=Xx.prototype.addListener,Xx.prototype.prependListener=function(e,t){return tm(this,e,t,!0)},Xx.prototype.once=function(e,t){return Qx(t),this.on(e,rm(this,e,t)),this},Xx.prototype.prependOnceListener=function(e,t){return Qx(t),this.prependListener(e,rm(this,e,t)),this},Xx.prototype.removeListener=function(e,t){var n,r,i,s,o;if(Qx(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},Xx.prototype.off=Xx.prototype.removeListener,Xx.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Xx.prototype.listeners=function(e){return im(this,e,!0)},Xx.prototype.rawListeners=function(e){return im(this,e,!1)},Xx.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):sm.call(e,t)},Xx.prototype.listenerCount=sm,Xx.prototype.eventNames=function(){return this._eventsCount>0?Gx(this._events):[]};var cm=Hx.exports,um="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);const lm=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}},{EventEmitter:hm}=cm,fm=new Error("Stream was destroyed"),pm=new Error("Premature close"),dm=um,xm=class{constructor(e){this.hwm=e||16,this.head=new lm(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new lm(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}},mm=134217727,bm=1^mm,gm=16384,ym=32768,vm=768^mm,wm=134184959,_m=2<<17,Sm=4<<17,Em=8<<17,Am=32<<17,Om=64<<17,km=128<<17,Fm=512<<17,jm=100532223,Lm=117440511,Cm=131088,Tm=4210688,Pm=4210702,Im=16809984,Mm=16809999,Nm=1179663,Dm=Symbol.asyncIterator||Symbol("asyncIterator");class Bm{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:s}={}){this.stream=e,this.queue=new xm,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||ab,this.map=r||n,this.afterWrite=Vm.bind(this),this.afterUpdateNextTick=Jm.bind(this)}get ended(){return 0!=(this.stream._duplexState&Am)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=Em,!0):(this.stream._duplexState|=3145728,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=133169151),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=133693439&(this.stream._duplexState|Fm)}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);1179648==(r._duplexState&Nm);)n.push(r._writableState.shift());if(0!=(15&r._duplexState))return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=_m;do{for(;(e._duplexState&Nm)===Em;){const t=this.shift();e._duplexState|=33685504,e._write(t,this.afterWrite)}0==(655360&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=133955583}updateNonPrimary(){const e=this.stream;if((72482831&e._duplexState)===Fm)return e._duplexState=67108863&(131072|e._duplexState),void e._final(Um.bind(this));4!=(14&e._duplexState)?1==(e._duplexState&Mm)&&(e._duplexState=(e._duplexState|Cm)&bm,e._open(Ym.bind(this))):0==(e._duplexState&Im)&&(e._duplexState|=Cm,e._destroy(qm.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&km)&&(this.stream._duplexState&=Lm,!0)}updateCallback(){(17563663&this.stream._duplexState)===Sm?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&km)&&(this.stream._duplexState|=km,0==(this.stream._duplexState&_m)&&dm(this.afterUpdateNextTick))}}class Rm{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:s}={}){this.stream=e,this.queue=new xm,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||ab,this.map=r||n,this.pipeTo=null,this.afterRead=Gm.bind(this),this.afterUpdateNextTick=Hm.bind(this)}get ended(){return 0!=(this.stream._duplexState&gm)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new Wm(this.stream,e,t),t&&this.stream.on("error",cb),ob(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",cb),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",$m.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=134152127&(1024|t._duplexState),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=134152191&(128|t._duplexState),this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=134209407),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if(128==(16527&e._duplexState)){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=vm),0!=(2048&e._duplexState)&&e.emit("data",t),t}return null}drain(){const e=this.stream;for(;128==(16527&e._duplexState)&&0!=(768&e._duplexState);){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=vm),0!=(2048&e._duplexState)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&e._duplexState);)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=8192,e.emit("readable")),0==(80&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=134217695}updateNonPrimary(){const e=this.stream;1024==(1167&e._duplexState)&&(e._duplexState=134216703&(e._duplexState|gm),e.emit("end"),(e._duplexState&Pm)===Tm&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(14&e._duplexState)?1==(e._duplexState&Mm)&&(e._duplexState=(e._duplexState|Cm)&bm,e._open(Ym.bind(this))):0==(e._duplexState&Im)&&(e._duplexState|=Cm,e._destroy(qm.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&ym)&&(this.stream._duplexState&=wm,!0)}updateCallback(){64==(32879&this.stream._duplexState)?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&ym)&&(this.stream._duplexState|=ym,0==(32&this.stream._duplexState)&&dm(this.afterUpdateNextTick))}}class zm{constructor(e){this.data=null,this.afterTransform=Km.bind(e),this.afterFinal=null}}class Wm{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(e._duplexState&gm)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&gm)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function $m(){this.stream._duplexState|=512,this.updateCallback()}function Um(e){const t=this.stream;e&&t.destroy(e),0==(14&t._duplexState)&&(t._duplexState|=Am,t.emit("finish")),(t._duplexState&Pm)===Tm&&(t._duplexState|=4),t._duplexState&=jm,0==(t._duplexState&_m)?this.update():this.updateNextTick()}function qm(e){const t=this.stream;e||this.error===fm||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function Vm(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=jm,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),2097152==(3276815&t._duplexState)&&(t._duplexState&=132120575,(t._duplexState&Om)===Om&&t.emit("drain")),this.updateCallback()}function Gm(e){e&&this.stream.destroy(e),this.stream._duplexState&=134217711,this.updateCallback()}function Hm(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=wm,this.update())}function Jm(){0==(this.stream._duplexState&_m)&&(this.stream._duplexState&=Lm,this.update())}function Ym(e){const t=this.stream;e&&t.destroy(e),0==(4&t._duplexState)&&(0==(17423&t._duplexState)&&(t._duplexState|=64),0==(71303183&t._duplexState)&&(t._duplexState|=Sm),t.emit("open")),t._duplexState&=134086639,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function Km(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function Xm(e){null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=4096,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=Om,this._writableState.updateNextTick())}class Zm extends hm{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",ub.bind(this))),this.on("newListener",Xm)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(14&this._duplexState)}destroy(e){0==(14&this._duplexState)&&(e||(e=fm),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class Qm extends Zm{constructor(e){super(e),this._duplexState|=4194305,this._readableState=new Rm(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=256,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(e,t){let n;const r=new Qm({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function i(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(ob(n=e)&&n.readable)return e;var n;if(e[Dm])return this._fromAsyncIterator(e[Dm](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let r=0;return new Qm({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return 0!=(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(256&e._duplexState)}[Dm](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&i(e.read())})),this.on("close",(function(){null!==n&&i(null)})),{[Dm](){return this},next:()=>new Promise((function(t,s){n=t,r=s;const o=e.read();null!==o?i(o):0!=(8&e._duplexState)&&i(null)})),return:()=>s(null),throw:e=>s(e)};function i(i){null!==r&&(t?r(t):null===i&&0==(e._duplexState&gm)?r(fm):n({value:i,done:null===i}),r=n=null)}function s(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?r(t):n({value:void 0,done:!0})}))}))}}}class eb extends Zm{constructor(e){super(e),this._duplexState|=16385,this._writableState=new Bm(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(73400334&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,n=function(e){return e._writev!==eb.prototype._writev&&e._writev!==tb.prototype._writev}(e)?Math.min(1,t.queue.length):t.queue.length,r=n+(33554432&e._duplexState?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class tb extends Qm{constructor(e){super(e),this._duplexState=1,this._writableState=new Bm(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class nb extends tb{constructor(e){super(e),this._transformState=new zm(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(rb.bind(this))}}function rb(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function ib(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,o=null;for(let e=1;e<n.length;e++)s=n[e],ob(i)?i.pipe(s,c):(a(i,!0,e>1,c),i.pipe(s)),i=s;if(r){let e=!1;const t=ob(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(e=>{null===o&&(o=e)})),s.on("finish",(()=>{e=!0,t||r(o)})),t&&s.on("close",(()=>r(o||(e?null:pm))))}return s;function a(e,t,n,r){e.on("error",r),e.on("close",(function(){return t&&e._readableState&&!e._readableState.ended||n&&e._writableState&&!e._writableState.ended?r(pm):void 0}))}function c(e){if(e&&!o){o=e;for(const t of n)t.destroy(e)}}}function sb(e){return!!e._readableState||!!e._writableState}function ob(e){return"number"==typeof e._duplexState&&sb(e)}function ab(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function cb(){}function ub(){this.destroy(new Error("Stream aborted."))}var lb={pipeline:ib,pipelinePromise:function(...e){return new Promise(((t,n)=>ib(...e,(e=>{if(e)return n(e);t()}))))},isStream:sb,isStreamx:ob,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===fm?null:t},Stream:Zm,Writable:eb,Readable:Qm,Duplex:tb,Transform:nb,PassThrough:class extends nb{}},hb={exports:{}};function fb(e){return e.length}var pb={byteLength:fb,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},write:function(e,t,n=0,r=fb(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++)e[n+r]=t.charCodeAt(r);return i}};const db="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xb=new Uint8Array(256);for(let e=0;e<64;e++)xb[db.charCodeAt(e)]=e;function mb(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}xb[45]=62,xb[95]=63;var bb={byteLength:mb,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r+=3)n+=db[e[r]>>2]+db[(3&e[r])<<4|e[r+1]>>4]+db[(15&e[r+1])<<2|e[r+2]>>6]+db[63&e[r+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,n=0,r=mb(t)){const i=Math.min(r,e.byteLength-n);for(let n=0,r=0;r<i;n+=4){const i=xb[t.charCodeAt(n)],s=xb[t.charCodeAt(n+1)],o=xb[t.charCodeAt(n+2)],a=xb[t.charCodeAt(n+3)];e[r++]=i<<2|s>>4,e[r++]=(15&s)<<4|o>>2,e[r++]=(3&o)<<6|63&a}return i}};function gb(e){return e.length>>>1}var yb={byteLength:gb,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let n="",r=0;for(let i=t-t%4;r<i;r+=4)n+=e.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)n+=e.getUint8(r).toString(16).padStart(2,"0");return n},write:function(e,t,n=0,r=gb(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++){const i=vb(t.charCodeAt(2*r)),s=vb(t.charCodeAt(2*r+1));if(void 0===i||void 0===s)return e.subarray(0,r);e[n+r]=i<<4|s}return i}};function vb(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}function wb(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){t+=4,n++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let _b,Sb;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;_b=function(t){return e.decode(t)}}else _b=function(e){const t=e.byteLength;let n="",r=0;for(;r<t;){let i=e[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let s=0,o=0;if(i<=223?(s=1,o=31&i):i<=239?(s=2,o=15&i):i<=244&&(s=3,o=7&i),t-r-s>0){let t=0;for(;t<s;)i=e[r+t+1],o=o<<6|63&i,t+=1}else o=65533,s=t-r;n+=String.fromCodePoint(o),r+=s+1}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;Sb=function(t,n,r=0,i=wb(n)){const s=Math.min(i,t.byteLength-r);return e.encodeInto(n,t.subarray(r,r+s)),s}}else Sb=function(e,t,n=0,r=wb(t)){const i=Math.min(r,e.byteLength-n);e=e.subarray(n,n+i);let s=0,o=0;for(;s<t.length;){const n=t.codePointAt(s);if(n<=127){e[o++]=n,s++;continue}let r=0,i=0;for(n<=2047?(r=6,i=192):n<=65535?(r=12,i=224):n<=2097151&&(r=18,i=240),e[o++]=i|n>>r,r-=6;r>=0;)e[o++]=128|n>>r&63,r-=6;s+=n>=65536?2:1}return i};var Eb={byteLength:wb,toString:_b,write:Sb};function Ab(e){return 2*e.length}var Ob={byteLength:Ab,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t-1;r+=2)n+=String.fromCharCode(e[r]+256*e[r+1]);return n},write:function(e,t,n=0,r=Ab(t)){const i=Math.min(r,e.byteLength-n);let s=i;for(let r=0;r<t.length&&!((s-=2)<0);++r){const i=t.charCodeAt(r),s=i>>8,o=i%256;e[n+2*r]=o,e[n+2*r+1]=s}return i}};!function(e,t){const n=pb,r=bb,i=yb,s=Eb,o=Ob,a=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(e){switch(e){case"ascii":return n;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o;default:throw new Error(`Unknown encoding: ${e}`)}}function u(e){return e instanceof Uint8Array}function l(e,t,n){return"string"==typeof e?function(e,t){const n=c(t),r=new Uint8Array(n.byteLength(e));return n.write(r,e,0,r.byteLength),r}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function h(e,t,n,r,i){if(0===e.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(i)return-1;n=e.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t)t=l(t,r);else if("number"==typeof t)return t&=255,i?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(i){let r=-1;for(let i=n;i<e.byteLength;i++)if(e[i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<t.byteLength;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}}return-1}function f(e,t,n,r){return h(e,t,n,r,!0)}function p(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}e.exports=t={isBuffer:u,isEncoding:function(e){try{return c(e),!0}catch{return!1}},alloc:function(e,n,r){const i=new Uint8Array(e);return void 0!==n&&t.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return c(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i&&e.getUint32(r,a)===t.getUint32(r,a);r+=4);for(;r<n;r++){const n=e.getUint8(r),i=t.getUint8(r);if(n<i)return-1;if(n>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const n=new Uint8Array(t);let r=0;for(const t of e){if(r+t.byteLength>n.byteLength){const e=t.subarray(0,n.byteLength-r);return n.set(e,r),n}n.set(t,r),r+=t.byteLength}return n},copy:function(e,t,n=0,r=0,i=e.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-n<i-r&&(i=t.length-n+r);const s=i-r;return e===t?t.copyWithin(n,r,i):t.set(e.subarray(r,i),n),s},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(e.getUint32(r,a)!==t.getUint32(r,a))return!1;for(;r<n;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0},fill:function(e,t,n,r,i){if("string"==typeof t?"string"==typeof n?(i=n,n=0,r=e.byteLength):"string"==typeof r&&(i=r,r=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=e.byteLength),r<=n)return e;if(t||(t=0),"number"==typeof t)for(let i=n;i<r;++i)e[i]=t;else{const s=(t=u(t)?t:l(t,i)).byteLength;for(let i=0;i<r-n;++i)e[i+n]=t[i%s]}return e},from:l,includes:function(e,t,n,r){return-1!==f(e,t,n,r)},indexOf:f,lastIndexOf:function(e,t,n,r){return h(e,t,n,r,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)p(e,n,n+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)p(e,n,n+3),p(e,n+1,n+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)p(e,n,n+7),p(e,n+1,n+6),p(e,n+2,n+5),p(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t,n=0,r=e.byteLength){const i=e.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(e=e.subarray(n,r)),c(t).toString(e))},write:function(e,t,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),c(i).write(e,t,n,r)},writeDoubleLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}}(hb,hb.exports);var kb=hb.exports,Fb=qx(kb);function jb(e,t,n={}){const{map:r,highWaterMark:i,size:s,offset:o,...a}=n;s&&(a.size=s,a.length=s),o&&(a.offset=o,a.start=o);let c=[];if(e.createReadStream)c.push(e.createReadStream(t,a));else if(e.get){const n=new lb.Readable;c.push(n),Promise.resolve(e.get(t,a)).then((e=>{if(Lf(e)&&(e=Fb.from(e)),e&&Fb.isBuffer(e)){const t=e.length;a.start??=0,a.length&&!a.end?a.end=a.length+(a.start??0):a.end?a.end+=1:a.end=t,e=e.slice(a.start,a.end),n.push(Fb.from(e))}n.push(null)})).catch((e=>n.destroy(e)))}if(i&&c.push(function(e){let t=Fb.alloc(0);return new lb.Transform({transform:function(n,r){const i=Fb.concat([t,n]),s=i.length%e;let o,a=0;for(;(o=a+e)<=i.length;){const t=i.subarray(a,o);this.push(t),a+=e}t=s>0?i.subarray(i.length-s,i.length):null,r()},flush(e){t&&t.length&&this.push(t),e()}})}(i)),r&&c.push(new lb.Transform({async transform(e,t){const n=this;await Promise.resolve(r(e)).then((e=>{n.push(e),t(null)})).catch((e=>{t(e)}))}})),0===c.length)throw new Error("createReadStream failed to infer from source.");return 1===c.length?c[0]:lb.pipeline(...c)}const Lb="\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n".split("\n").map((e=>e.split(","))).filter((([e])=>""!==e)).map((([e,t,n,r])=>({name:e,mimeType:t,extension:n,description:r})));var Cb=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};Cb.now||Cb.mozNow||Cb.msNow||Cb.oNow||Cb.webkitNow;const Tb=Mb(!1),Pb=Mb(!0);Tb.win32=Pb,Pb.posix=Tb;var Ib=Tb;function Mb(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}Ib.posix=Ib;const{concatIfEmpty:Nb}=Tx,Db={defer:gd,firstValueFrom:fd,of:ad,concatIfEmpty:Nb,catchError:kd,filter:Ed,map:pd};function Bb(e,t,n={}){return function(e,t,n={}){return gd((()=>jb(e,t,n)))}(e,t,{wait:!1,...n,start:0,end:99}).pipe(Db.map((e=>e.length>30?Ux(e):[Rb(t)??null])),Db.filter((e=>e.length)),Db.map((([e])=>e)),Db.concatIfEmpty(Db.defer((()=>Db.of(Rb(t))))),Db.catchError((e=>Db.of(null))))}function Rb(e){const t=Ib.extname(e)?.toLowerCase();return Lb.find((({extension:e})=>e===t))?.mimeType}const zb={map:pd,firstValueFrom:fd};function Wb(e,t,n){return Bb(e,t,n).pipe(zb.map($b))}function $b(e){return e?Lb.find((({mimeType:t})=>t===e))?.name:null}function Ub(e,t){return function(e){const t=Object.entries(e);return lx(t.map((([,e])=>function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.subscribe)}(e)?e:ad(e)))).pipe(pd((e=>e.reduce(((e,n,r)=>(e[t[r][0]]=n,e)),{}))))}({isFolder:sx(e,t),isFile:rx(e,t),type:Bb(e,t),typeName:Wb(e,t),fullPath:ad(t)})}function qb(e,t){for(var n=0,r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var Vb=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Gb=function(e){return Vb.exec(e).slice(1)};function Hb(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){const r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=qb(ng(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function Jb(e){const t=Yb(e),n="/"===rg(e,-1);return(e=qb(ng(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Yb(e){return"/"===e.charAt(0)}function Kb(){return Jb(ng(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function Xb(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Hb(e).substr(1),t=Hb(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}let c=[];for(a=o;a<r.length;a++)c.push("..");return(c=c.concat(i.slice(o))).join("/")}function Zb(e){const t=Gb(e),n=t[0];let r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function Qb(e,t){let n=Gb(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function eg(e){return Gb(e)[3]}const tg={extname:eg,basename:Qb,dirname:Zb,sep:"/",delimiter:":",relative:Xb,join:Kb,isAbsolute:Yb,normalize:Jb,resolve:Hb};function ng(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var rg="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};!function(e){e&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(Object.freeze({__proto__:null,resolve:Hb,normalize:Jb,isAbsolute:Yb,join:Kb,relative:Xb,sep:"/",delimiter:":",dirname:Zb,basename:Qb,extname:eg,default:tg}));var ig=sg;function sg(e,t,n){e instanceof RegExp&&(e=og(e,n)),t instanceof RegExp&&(t=og(t,n));var r=ag(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function og(e,t){var n=t.match(e);return n?n[0]:null}function ag(e,t,n){var r,i,s,o,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],s=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<s&&(s=i,o=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[s,o])}return a}sg.range=ag;var cg=ig,ug="\0SLASH"+Math.random()+"\0",lg="\0OPEN"+Math.random()+"\0",hg="\0CLOSE"+Math.random()+"\0",fg="\0COMMA"+Math.random()+"\0",pg="\0PERIOD"+Math.random()+"\0";function dg(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function xg(e){return e.split(ug).join("\\").split(lg).join("{").split(hg).join("}").split(fg).join(",").split(pg).join(".")}function mg(e){if(!e)return[""];var t=[],n=cg("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=mg(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function bg(e){return"{"+e+"}"}function gg(e){return/^-?0\d/.test(e)}function yg(e,t){return e<=t}function vg(e,t){return e>=t}function wg(e,t){var n=[],r=cg("{","}",e);if(!r)return[e];var i=r.pre,s=r.post.length?wg(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var c,u,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=l||h,p=r.body.indexOf(",")>=0;if(!f&&!p)return r.post.match(/,.*\}/)?wg(e=r.pre+"{"+r.body+hg+r.post):[e];if(f)c=r.body.split(/\.\./);else if(1===(c=mg(r.body)).length&&1===(c=wg(c[0],!1).map(bg)).length)return s.map((function(e){return r.pre+c[0]+e}));if(f){var d=dg(c[0]),x=dg(c[1]),m=Math.max(c[0].length,c[1].length),b=3==c.length?Math.abs(dg(c[2])):1,g=yg;x<d&&(b*=-1,g=vg);var y=c.some(gg);u=[];for(var v=d;g(v,x);v+=b){var w;if(h)"\\"===(w=String.fromCharCode(v))&&(w="");else if(w=String(v),y){var _=m-w.length;if(_>0){var S=new Array(_+1).join("0");w=v<0?"-"+S+w.slice(1):S+w}}u.push(w)}}else{u=[];for(var E=0;E<c.length;E++)u.push.apply(u,wg(c[E],!1))}for(E=0;E<u.length;E++)for(o=0;o<s.length;o++)a=i+u[E]+s[o],(!t||f||a)&&n.push(a)}return n}var _g=qx((function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),wg(function(e){return e.split("\\\\").join(ug).split("\\{").join(lg).split("\\}").join(hg).split("\\,").join(fg).split("\\.").join(pg)}(e),!0).map(xg)):[]}));const Sg=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},Eg={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ag=e=>e.replace(/[[\]\\-]/g,"\\$&"),Og=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),kg=e=>e.join(""),Fg=(e,t)=>{const n=t;if("["!==e.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,o=!1,a=!1,c=!1,u=!1,l=n,h="";e:for(;s<e.length;){const t=e.charAt(s);if("!"!==t&&"^"!==t||s!==n+1){if("]"===t&&o&&!c){l=s+1;break}if(o=!0,"\\"!==t||c){if("["===t&&!c)for(const[t,[o,c,u]]of Object.entries(Eg))if(e.startsWith(t,s)){if(h)return["$.",!1,e.length-n,!0];s+=t.length,u?i.push(o):r.push(o),a=a||c;continue e}c=!1,h?(t>h?r.push(Ag(h)+"-"+Ag(t)):t===h&&r.push(Ag(t)),h="",s++):e.startsWith("-]",s+1)?(r.push(Ag(t+"-")),s+=2):e.startsWith("-",s+1)?(h=t,s+=2):(r.push(Ag(t)),s++)}else c=!0,s++}else u=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!u){const e=2===r[0].length?r[0].slice(-1):r[0];return[Og(e),!1,l-n,!1]}const f="["+(u?"^":"")+kg(r)+"]",p="["+(u?"":"^")+kg(i)+"]";return[r.length&&i.length?"("+f+"|"+p+")":r.length?f:p,a,l-n,!0]},jg=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Lg=new Set(["!","?","+","*","@"]),Cg=e=>Lg.has(e),Tg="(?!\\.)",Pg=new Set(["[","."]),Ig=new Set(["..","."]),Mg=new Set("().*{}+?[]^$\\!"),Ng=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Dg="[^/]",Bg=Dg+"*?",Rg=Dg+"+?";class zg{type;#x;#m;#b=!1;#g=[];#y;#v;#w;#_=!1;#S;#E;#A=!1;constructor(e,t,n={}){this.type=e,e&&(this.#m=!0),this.#y=t,this.#x=this.#y?this.#y.#x:this,this.#S=this.#x===this?n:this.#x.#S,this.#w=this.#x===this?[]:this.#x.#w,"!"!==e||this.#x.#_||this.#w.push(this),this.#v=this.#y?this.#y.#g.length:0}get hasMagic(){if(void 0!==this.#m)return this.#m;for(const e of this.#g)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#m=!0;return this.#m}toString(){return void 0!==this.#E?this.#E:this.type?this.#E=this.type+"("+this.#g.map((e=>String(e))).join("|")+")":this.#E=this.#g.map((e=>String(e))).join("")}#O(){if(this!==this.#x)throw new Error("should only call on root");if(this.#_)return this;let e;for(this.toString(),this.#_=!0;e=this.#w.pop();){if("!"!==e.type)continue;let t=e,n=t.#y;for(;n;){for(let r=t.#v+1;!n.type&&r<n.#g.length;r++)for(const t of e.#g){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#g[r])}t=n,n=t.#y}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof zg&&t.#y===this))throw new Error("invalid part: "+t);this.#g.push(t)}}toJSON(){const e=null===this.type?this.#g.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#g.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#x||this.#x.#_&&"!"===this.#y?.type)&&e.push({}),e}isStart(){if(this.#x===this)return!0;if(!this.#y?.isStart())return!1;if(0===this.#v)return!0;const e=this.#y;for(let t=0;t<this.#v;t++){const n=e.#g[t];if(!(n instanceof zg&&"!"===n.type))return!1}return!0}isEnd(){if(this.#x===this)return!0;if("!"===this.#y?.type)return!0;if(!this.#y?.isEnd())return!1;if(!this.type)return this.#y?.isEnd();const e=this.#y?this.#y.#g.length:0;return this.#v===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new zg(this.type,e);for(const e of this.#g)t.copyIn(e);return t}static#k(e,t,n,r){let i=!1,s=!1,o=-1,a=!1;if(null===t.type){let c=n,u="";for(;c<e.length;){const n=e.charAt(c++);if(i||"\\"===n)i=!i,u+=n;else if(s)c===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||c===o+2&&a||(s=!1),u+=n;else if("["!==n)if(r.noext||!Cg(n)||"("!==e.charAt(c))u+=n;else{t.push(u),u="";const i=new zg(n,t);c=zg.#k(e,i,c,r),t.push(i)}else s=!0,o=c,a=!1,u+=n}return t.push(u),c}let c=n+1,u=new zg(null,t);const l=[];let h="";for(;c<e.length;){const n=e.charAt(c++);if(i||"\\"===n)i=!i,h+=n;else if(s)c===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||c===o+2&&a||(s=!1),h+=n;else if("["!==n)if(Cg(n)&&"("===e.charAt(c)){u.push(h),h="";const t=new zg(n,u);u.push(t),c=zg.#k(e,t,c,r)}else if("|"!==n){if(")"===n)return""===h&&0===t.#g.length&&(t.#A=!0),u.push(h),h="",t.push(...l,u),c;h+=n}else u.push(h),h="",l.push(u),u=new zg(null,t);else s=!0,o=c,a=!1,h+=n}return t.type=null,t.#m=void 0,t.#g=[e.substring(n-1)],c}static fromGlob(e,t={}){const n=new zg(null,void 0,t);return zg.#k(e,n,0,t),n}toMMPattern(){if(this!==this.#x)return this.#x.toMMPattern();const e=this.toString(),[t,n,r,i]=this.toRegExpSource();if(!(r||this.#m||this.#S.nocase&&!this.#S.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const s=(this.#S.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#S.dot;if(this.#x===this&&this.#O(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#g.map((t=>{const[r,i,s,o]="string"==typeof t?zg.#F(t,this.#m,n):t.toRegExpSource(e);return this.#m=this.#m||s,this.#b=this.#b||o,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#g[0]&&(1!==this.#g.length||!Ig.has(this.#g[0]))){const n=Pg,s=t&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),o=!t&&!e&&n.has(r.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?Tg:""}let s="";return this.isEnd()&&this.#x.#_&&"!"===this.#y?.type&&(s="(?:$|\\/)"),[i+r+s,jg(r),this.#m=!!this.#m,this.#b]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#j(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#g=[e],this.type=null,this.#m=void 0,[e,jg(this.toString()),!1,!1]}let s=!n||e||t?"":this.#j(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";return o="!"===this.type&&this.#A?(this.isStart()&&!t?Tg:"")+Rg:r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":Tg)+Bg+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`),[o,jg(i),this.#m=!!this.#m,this.#b]}#j(e){return this.#g.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,r,i,s]=t.toRegExpSource(e);return this.#b=this.#b||s,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#F(e,t,n=!1){let r=!1,i="",s=!1;for(let o=0;o<e.length;o++){const a=e.charAt(o);if(r)r=!1,i+=(Mg.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,r,a,c]=Fg(e,o);if(a){i+=n,s=s||r,o+=a-1,t=t||c;continue}}"*"!==a?"?"!==a?i+=Ng(a):(i+=Dg,t=!0):(i+=n&&"*"===e?Rg:Bg,t=!0)}else o===e.length-1?i+="\\\\":r=!0}return[i,jg(e),!!t,s]}}const Wg=(e,t,n={})=>(Sg(t),!(!n.nocomment&&"#"===t.charAt(0))&&new py(t,n).match(e)),$g=/^\*+([^+@!?\*\[\(]*)$/,Ug=e=>t=>!t.startsWith(".")&&t.endsWith(e),qg=e=>t=>t.endsWith(e),Vg=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Gg=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Hg=/^\*+\.\*+$/,Jg=e=>!e.startsWith(".")&&e.includes("."),Yg=e=>"."!==e&&".."!==e&&e.includes("."),Kg=/^\.\*+$/,Xg=e=>"."!==e&&".."!==e&&e.startsWith("."),Zg=/^\*+$/,Qg=e=>0!==e.length&&!e.startsWith("."),ey=e=>0!==e.length&&"."!==e&&".."!==e,ty=/^\?+([^+@!?\*\[\(]*)?$/,ny=([e,t=""])=>{const n=oy([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},ry=([e,t=""])=>{const n=ay([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},iy=([e,t=""])=>{const n=ay([e]);return t?e=>n(e)&&e.endsWith(t):n},sy=([e,t=""])=>{const n=oy([e]);return t?e=>n(e)&&e.endsWith(t):n},oy=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},ay=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},cy="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";Wg.sep="win32"===cy?"\\":"/";const uy=Symbol("globstar **");Wg.GLOBSTAR=uy,Wg.filter=(e,t={})=>n=>Wg(n,e,t);const ly=(e,t={})=>Object.assign({},e,t);Wg.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return Wg;const t=Wg;return Object.assign(((n,r,i={})=>t(n,r,ly(e,i))),{Minimatch:class extends t.Minimatch{constructor(t,n={}){super(t,ly(e,n))}static defaults(n){return t.defaults(ly(e,n)).Minimatch}},AST:class extends t.AST{constructor(t,n,r={}){super(t,n,ly(e,r))}static fromGlob(n,r={}){return t.AST.fromGlob(n,ly(e,r))}},unescape:(n,r={})=>t.unescape(n,ly(e,r)),escape:(n,r={})=>t.escape(n,ly(e,r)),filter:(n,r={})=>t.filter(n,ly(e,r)),defaults:n=>t.defaults(ly(e,n)),makeRe:(n,r={})=>t.makeRe(n,ly(e,r)),braceExpand:(n,r={})=>t.braceExpand(n,ly(e,r)),match:(n,r,i={})=>t.match(n,r,ly(e,i)),sep:t.sep,GLOBSTAR:uy})};const hy=(e,t={})=>(Sg(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:_g(e));Wg.braceExpand=hy,Wg.makeRe=(e,t={})=>new py(e,t).makeRe(),Wg.match=(e,t,n={})=>{const r=new py(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};const fy=/[?*]|[+@!]\(.*?\)|\[|\]/;class py{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){Sg(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||cy,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&fy.test(e[2])||fy.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const r=e[n];1===n&&""===r&&""===e[0]||"."!==r&&""!==r||(t=!0,e.splice(n,1),n--)}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let s=n[r+1];const o=n[r+2],a=n[r+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,n.splice(r,1);const c=n.slice(0);c[r]="**",e.push(c),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const r=n[e];1===e&&""===r&&""===n[0]||"."!==r&&""!==r||(t=!0,n.splice(e,1),e--)}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const e=n[i-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...e),0===n.length&&n.push(""),i-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);r&&(e[t]=r,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let r=0,i=0,s=[],o="";for(;r<e.length&&i<t.length;)if(e[r]===t[i])s.push("b"===o?t[i]:e[r]),r++,i++;else if(n&&"**"===e[r]&&t[i]===e[r+1])s.push(e[r]),r++;else if(n&&"**"===t[i]&&e[r]===t[i+1])s.push(t[i]),i++;else if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i]){if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===o)return!1;o="b",s.push(t[i]),r++,i++}else{if("b"===o)return!1;o="a",s.push(e[r]),r++,i++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){const r=this.options;if(this.isWindows){const n="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!n&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=r?3:n?0:void 0,o=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[n,r]=[e[s],t[o]];n.toLowerCase()===r.toLowerCase()&&(t[o]=n,o>s?t=t.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=t[o],l=e[s];if(this.debug(t,u,l),!1===u)return!1;if(u===uy){this.debug("GLOBSTAR",[t,u,l]);var h=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,f,p),this.matchOne(e.slice(h),t.slice(f),n))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}let i;if("string"==typeof u?(i=l===u,this.debug("string match",u,l,i)):(i=u.test(l),this.debug("pattern match",u,l,i)),!i)return!1}if(s===a&&o===c)return!0;if(s===a)return n;if(o===c)return s===a-1&&""===e[s];throw new Error("wtf?")}braceExpand(){return hy(this.pattern,this.options)}parse(e){Sg(e);const t=this.options;if("**"===e)return uy;if(""===e)return"";let n,r=null;(n=e.match(Zg))?r=t.dot?ey:Qg:(n=e.match($g))?r=(t.nocase?t.dot?Gg:Vg:t.dot?qg:Ug)(n[1]):(n=e.match(ty))?r=(t.nocase?t.dot?ry:ny:t.dot?iy:sy)(n):(n=e.match(Hg))?r=t.dot?Yg:Jg:(n=e.match(Kg))&&(r=Xg);const i=zg.fromGlob(e,this.options).toMMPattern();return r?Object.assign(i,{test:r}):i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(t.nocase?["i"]:[]);let i=e.map((e=>{const t=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))r.add(t);return"string"==typeof e?(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(e):e===uy?uy:e._src}));return t.forEach(((e,r)=>{const i=t[r+1],s=t[r-1];e===uy&&s!==uy&&(void 0===s?void 0!==i&&i!==uy?t[r+1]="(?:\\/|"+n+"\\/)?"+i:t[r]=n:void 0===i?t[r-1]=s+"(?:\\/|"+n+")?":i!==uy&&(t[r-1]=s+"(?:\\/|\\/"+n+"\\/)"+i,t[r+1]=uy))})),t.filter((e=>e!==uy)).join("/")})).join("|");const[s,o]=e.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let s=r[r.length-1];if(!s)for(let e=r.length-2;!s&&e>=0;e--)s=r[e];for(let e=0;e<i.length;e++){const o=i[e];let a=r;if(n.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return Wg.defaults(e).Minimatch}}Wg.AST=zg,Wg.Minimatch=py,Wg.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),Wg.unescape=jg;var dy=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};dy.now||dy.mozNow||dy.msNow||dy.oNow||dy.webkitNow;const xy=gy(!1),my=gy(!0);xy.win32=my,my.posix=xy;var by=xy;function gy(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let e=r.indexOf(n,o);-1===e&&(e=r.length);const t=r.slice(o,e);if(o=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}by.posix=by;const{dirname:yy,isAbsolute:vy,root:wy,basename:_y,extname:Sy,resolve:Ey,join:Ay,normalize:Oy}=by;var ky=Vx(Object.freeze({__proto__:null,basename:_y,default:by,dirname:yy,extname:Sy,isAbsolute:vy,join:Ay,normalize:Oy,posix:by,resolve:Ey,root:wy,win32:by})),Fy=Vx(Object.freeze({__proto__:null,platform:function(){return"browser"}}));ky.posix.dirname,Fy.platform();const jy={defer:gd,firstValueFrom:fd,from:od,filter:Ed,map:pd,mergeMap:dd,toArray:Ld,of:ad,concatMap:Cd};function Ly(e,t={}){Lf(t)&&(t={cwd:t});let n,{cwd:r="/",list:i=!1,recursive:s=i,trimPath:o=!0}=t;if(e.list||e.readdir){const s=(i?e.list:e.readdir)?.bind(e);i&&!e.list&&e.readdir?(t.recursive=!0,n=jy.from(e.readdir(r,t)).pipe(jy.mergeMap((n=>Py(e,n,t))))):n=jy.defer((()=>s(r,t))).pipe(jy.concatMap((e=>Array.isArray(e)?e:jy.of(e))))}else if(function(e){return e.sub&&e.batch&&e.createHistoryStream}(e)){const{range:a,limit:c,reverse:u}=t,l=e.snapshot();n=jy.from(l.createReadStream(a,{limit:c,reverse:u})).pipe(jy.map((e=>i?e:e.key)),jy.filter((e=>{let t=i?e.key:e;if(t=o?Pf(t,"./"):t,Cf(t,r?r+"/":"")){const e=r?.length||0;return!!s||t.slice(e>0?e+1:0).split("/").length<=1}return!1})))}return n}var Cy=(e=>(e.Export="exports",e.Import="imports",e))(Cy||{});const Ty={firstValueFrom:fd,from:od,defaultIfEmpty:Id,filter:Ed,map:pd,mergeMap:dd,take:Md};function Py(e,t,n={}){const{cwd:r="/",entrySelector:i=Iy}=n;return If(t)||Mf(t)?Mf(t)||(t=Ib.resolve(t,r)):t=function(e,t="/"){return(t||"")+Tf(e,t)}(t),Ty.from(i(e,t,n)).pipe(Ty.filter((e=>!!e)),Ty.mergeMap((n=>Ub(e,t).pipe(Ty.map((e=>({key:t,...n,...e})))))))}async function Iy(e,t,n){const r=e.get?.bind(e),i=e.entry?.bind(e);let s={};if(r||i){const e=await(i||r)(t,n);return e?(i?(s=e,s.size=e?.value?.blob?.byteLength||0):(s.value={},s.value.blob={},s.value.blob.byteLength=Fb.from(e)?.byteLength||0,s.value.blob.byteOffset=0,s.value.executable=!1,s.value.metadata=null,s.size=s.value.blob.byteLength||0),s):{}}return s}const My=kb;var Ny=Dy;function Dy(e,t){if("object"==typeof e&&e)return function(e){return!!(e.encode&&e.decode&&e.preencode)}(e)?function(e){return{name:"compact-encoding",encode:function(t){const n={start:0,end:0,buffer:null,cache:null};return e.preencode(n,t),n.buffer=My.allocUnsafe(n.end),e.encode(n,t),n.buffer},decode:function(t){return e.decode({start:0,end:t.byteLength,buffer:t,cache:null})}}}(e):e;switch(e){case"ndjson":return Dy.ndjson;case"json":return Dy.json;case"ascii":return Dy.ascii;case"utf-8":case"utf8":return Dy.utf8;case"hex":return Dy.hex;case"base64":return Dy.base64;case"ucs-2":case"ucs2":return Dy.ucs2;case"utf16-le":case"utf16le":return Dy.utf16le}return void 0!==t?t:Dy.binary}function By(e){return{name:e?"ndjson":"json",encode:e?function(e){return My.from(JSON.stringify(e)+"\n")}:function(e){return My.from(JSON.stringify(e))},decode:function(e){return JSON.parse(My.toString(e))}}}function Ry(e){return{name:e,encode:function(t){return"string"!=typeof t&&(t=t.toString()),My.from(t,e)},decode:function(t){return My.toString(t,e)}}}let zy,Wy;Dy.ascii=Ry("ascii"),Dy.utf8=Ry("utf-8"),Dy.hex=Ry("hex"),Dy.base64=Ry("base64"),Dy.ucs2=Ry("ucs2"),Dy.utf16le=Ry("utf16le"),Dy.ndjson=By(!0),Dy.json=By(!1),Dy.binary={name:"binary",encode:function(e){return"string"==typeof e?My.from(e,"utf-8"):My.toBuffer(e)},decode:function(e){return My.toBuffer(e)}},qx(Ny);const $y=cl();function Uy(e,t={}){return $y.createScope().register({source:Ju(e),state:Ju(t)})}function qy(e,t={}){return Uy(e,t).cradle}$y.register({extensions:Yu((()=>e=>e)).scoped(),install:Yu((({factory:e})=>(t,n)=>Promise.resolve().then((async()=>{let r;if(Wy||await async function(e="https://cdn.jsdelivr.net/npm/bring-your-own-storage-utilities@0.0.1202/dist/deploy.min.js/+esm"){if(zy&&await zy,Wy)return Wy;zy=import(e).then((e=>{Wy=e.pack,zy=void 0})),await zy}("undefined"==typeof window?"../deploy/pack.js":void 0),n&&(r=await n.get(t)),!r){const i={};t||(t="source"),(i.plugins||=[]).unshift(Th({[t]:await(e?.()||e)})),i.plugins.push(ff());const s=await Wy(t,i);({code:r}=s),n&&await n.put(t,r)}try{if(r){const e=await sf(r),t=Uy(e);return e.extensions&&await e.extensions(t,{asFunction:Yu,asValue:Ju,aliasTo:Xu,asClass:Ku}),t.cradle}return!1}catch(e){}return!1})))).scoped(),factory:Yu((({source:e})=>gn(e.factory)?()=>e.factory:Rl(e.factory)?Promise.resolve(e.factory()):null)),id:Yu((({source:e,ready:t})=>e.id?e.id:null)).scoped(),open:Yu((({source:e})=>e.open?e.open.bind(e):()=>Promise.resolve())).scoped(),get:Yu((({source:e,open:t})=>e.get?async(n,r)=>(t&&await t(n,r),function(e,t,n={}){return Ie(Lc(e,t,n))}(e,n,r)):null)).scoped(),get$:Yu((({source:e,get:t})=>e.get$?e.get$.bind(e):t?(t,n)=>Lc(e,t,n):void 0)).scoped(),entry:Yu((({source:e})=>(t,n)=>function(e,t,n={}){return Ty.firstValueFrom(Py(e,t,n).pipe(Ty.take(1),Ty.defaultIfEmpty({})))}(e,t,n))).scoped(),createReadStream:Yu((({source:e})=>{if(e.createReadStream||e.get)return Gs.bind(null,e)})).scoped(),createReadStream$:Yu((({source:e})=>e.createReadStream$?e.createReadStream$.bind(e):e.createReadStream||e.get?Vs.bind(null,e):void 0)).scoped(),randomAccess:Yu((({ready:e,createReadStream$:t,get:n,put:r,exists:i,entry:s,state:o,readable:a,writable:c})=>(i,o={})=>{qs.isBuffer(o)&&(o={buffer:o});const{readable:u=a,writable:l=c,directory:h,buffer:f,truncate:p=!1,size:d=f?.length||0,offset:x=0,...m}=o;return h&&(i=Xs.join(h,Xs.resolve("/",filename).replace(/^\w+:\\/,""))),new jf({async open(t){await e();const a=await s(i,o);if(a.isFolder)return t.callback(new Error("Cannot do file ops on a directory."));if(c&&x+d>0){let e;if(a.size){let t=[await n(i,o)];p&&a.size<x+d?t.push(qs.alloc(x+d-a.size)):p&&a.size>x+d&&(t[0]=qs.from(t[0].slice(0,x+d))),e=1===t.length?t[0]:qs.concat(t)}else e=qs.alloc(x+d);return qs.isBuffer(f)&&qs.copy(f,e,x,0,x+d),await r(i,e,m),t.callback(null)}a.size&&a.isFile?t.callback(null):t.callback(new Error("File does not exist"))},async stat(e){try{const t=(await n(i))?.length||0;e.callback(null,{size:t})}catch(t){e.callback(t)}},async close(e){setTimeout((()=>e.callback(null)),0)},...u?{async read(e){try{this.stat((async(n,{size:r})=>{if(n)return e.callback(n,null);if(r<e.offset+e.size){const t=new Error("Could not satisfy length");return t.code="ENOENT",e.callback(t,null)}const s=await Ie(t(i,{...m,start:e.offset,length:e.size}).pipe(ct())),o=qs.from(qs.concat(s));e.callback(null,o)}))}catch(t){e.callback(t)}}}:{},...l?{async write(e){if(!r)return e.callback(new Error("Source does not support put/write."));try{const t=await n(i,m);if(!t)return e.callback(new Error("File doesn't exist"));qs.copy(e.data,t,e.offset,0,t.length),await r(i,t,m),e.callback(null)}catch(t){e.callback(t)}},async truncate(e){if(!r)return e.callback(new Error("Source does not support truncate"));try{const t=await n(i,m);if(t.length===e.offset)return e.callback(null);e.offset>t.length?await r(i,qs.from(qs.concat([t,qs.alloc(e.offset-t.length)])),m):await r(i,t.slice(0,e.offset),m),e.callback(null)}catch(t){e.callback(t)}},async del(e){if(!r)throw new Error("Source does not support del");try{this.stat((async(t,{size:s})=>{if(e.offset+e.size>s)return this.truncate(e);const o=await n(i,m);qs.fill(o,"\0",e.offset,e.offset+e.size),await r(i,o,m),e.callback(null)}))}catch(t){e.callback(t)}}}:{}})})),put:Yu((({source:e})=>{if(e.put)return(t,n,r)=>function(e,t,n,r){return Ie(Cc(e,t,n,r).pipe(ft(null)))}(e,t,n,r)})).scoped(),put$:Yu((({source:e,put:t})=>e.put$?e.put$.bind(e):t?(t,n,r)=>Cc(e,t,n,r):void 0)),del:Yu((({source:e})=>{if(e.del)return t=>e.del(t)})).scoped(),append:Yu((({source:e})=>{if(e.append)return(t,n)=>Tc(e,t,n)})).scoped(),length:Yu((({source:e})=>{if(e.length||0===e.length)return function(e){return e.length}(e)})).transient(),ready:Yu((({source:e})=>t=>Pc(e,t))).scoped(),exists:Yu((({get:e,source:t})=>{if(t.exists||e)return t.exists?.bind(t)||(async(t,n)=>!!await e(t,n))})).scoped(),readdir:Yu((({source:e})=>{if(e.readdir)return(t,n={})=>async function(e,t={}){return rc.firstValueFrom(ic(e,t).pipe(ut((e=>Array.isArray(e)?e:je(e))),rc.toArray()))}(e,{cwd:t,...n})})).scoped(),readdir$:Yu((({source:e})=>e.readdir$?e.readdir$.bind(e):e.readdir||e.list?ic.bind(null,e):void 0)).scoped(),list:Yu((({exists:e,source:t,entry:n,get:r})=>{if(t.list||t.readdir)return Sc.bind(null,{exists:e,list:t.list?.bind(t),readdir:t.readdir?.bind(t),get:r,entry:n})})).scoped(),list$:Yu((({source:e,ready:t})=>e.list$?e.list$.bind(null):e.list||e.readdir?_c.bind(null,e):void 0)),readable:Yu((({source:e,get:t})=>"function"==typeof e.readable?e.readable():e.readable||!!t)).scoped(),writable:Yu((({source:e,put:t})=>"function"==typeof e.writable?e.writable():e.writable||!!t)).scoped(),appendable:Yu((({source:e,append:t})=>"function"==typeof e.appendable?e.appendable():e.appendable||!!t)).scoped()});function Vy(e,t={}){const{firewall:n=(()=>!1),handshake:r={},...i}=t,s=new Fu(e,{protocol:"bysou/v1/source",handshakeEncoding:Xc.json,handshake:r,...i}),o=Promise.all([s.request("ready",void 0),s.request("readable",void 0,{responseEncoding:Xc.bool}),s.request("writable",void 0,{responseEncoding:Xc.bool}),s.request("appendable",void 0,{responseEncoding:Xc.bool})]);let a={};const c=qy({factory:()=>s.request("factory",void 0,{responseEncoding:Xc.utf8}),put:(e,t,n)=>s.request("put",[e,t,n],{requestEncoding:Jy,responseEncoding:Xc.any}),get:(e,t)=>s.request("get",[e,t],{requestEncoding:Hy,responseEncoding:Xc.buffer}),exists:(e,t)=>s.request("exists",[e,t],{requestEncoding:Hy,responseEncoding:Xc.bool}),del:e=>s.request("del",[e],{requestEncoding:Xc.json}),readdir:(e,t)=>s.request("readdir",[e,t],{requestEncoding:Xc.json,responseEncoding:Xc.array(Xc.utf8)}),ready:()=>Promise.resolve(a.ready?null:s.request("ready",void 0)),get readable(){return a.readable},get writable(){return a.writable},get appendable(){return a.appendable}},{socket:e});return s.once("close",(()=>{a.readable=!1,a.writable=!1,a.appendable=!1})),He(s,"open").pipe(Me((e=>(c.state.handshake=e,c))),et((t=>!n(e,t.state))),ut((async e=>(a=await o,a.ready=!0,e))),ft(null))}qy({factory:'\n    import {Readable} from "streamx";\n    import {coercePathAbsolute} from "bring-your-own-storage-utilities@latest/lib/find/coercePathAbsolute.js";\n    import codec from "codecs";\n    let collection;\n    let defaultRandomAccess;\n    \n    function isRandomAccessCompatible(ras) {\n        return ras.read && ras.write && ras.del\n    }\n\n    export function extensions(container, {asFunction}) {\n        return container.register({\n            setDefault: asFunction(() => {\n                return (RAS) => {\n                    defaultRandomAccess = RAS;\n                }\n            }),\n            setCollection: asFunction(() => {\n                return coll => collection ||= coll\n            })\n        });\n    }\n    \n    export async function put(name, ras, config = {}) {\n        const {\n            overwrite = false,\n        } = config;\n        if (!collection) collection = {};\n        if (!overwrite && !!collection[name]) {\n            throw new Error("Cannot overwrite file. Set config.overwrite=true if you want files over-writable.");\n        }\n        if (!isRandomAccessCompatible(ras) && !defaultRandomAccess) {\n            throw new Error("RandomAccessCollection.put(name, !!ras!!, config): either RandomAccessCollection.setDefault(!!RASClass!!) or pass a random access instance at !!ras!! ");\n        } else if (!isRandomAccessCompatible(ras)) {\n            ras = await Promise.resolve(defaultRandomAccess(name, ras, config));\n        }\n        if (!isRandomAccessCompatible(ras)) throw new Error("RandomAccessCollection.put(name, !!ras!!, config): !!ras!! is not RandomAccessCompatible.");\n        collection[name] = ras;\n    }\n\n    export async function get(name, config = {}) {\n        const ras = _get(name);\n        return _readAll(ras, config);\n    }\n    \n    export async function exists(name) {\n        return _exists(_get(name))\n    }\n    \n    export function readdir(fromPath, config = {}) {\n        if (typeof fromPath === "object") {\n                config = fromPath;\n                fromPath = config.cwd || "/";\n            }\n\n            let {\n                cwd = fromPath,\n                recursive = false\n            } = config;\n\n            if (!cwd.endsWith("/")) {\n                cwd = config.cwd += "/";\n            }\n\n            const readable = new Readable();\n            const cwdParts = coercePathAbsolute(cwd).split("/");\n            try {\n                return readable;\n            } finally {\n                const cache = new Set();\n\n                Object.keys(collection).forEach(key => {\n                    key = coercePathAbsolute(key);\n                    if (recursive) return readable.push(cache[key] = key);\n                    const keyParts = (key || "/").split("/");\n                    const scoped = keyParts[cwdParts.length - 1];\n                    if (scoped && !cache.has(scoped)) {\n                        cache.add(scoped);\n                        readable.push(scoped);\n                    }\n                });\n\n                readable.push(null);\n            }\n    }\n    \n    function _get(file) {\n        return Object.entries(collection).find(([fileName]) => {\n            return coercePathAbsolute(file) === coercePathAbsolute(fileName);\n        })?.[1];\n    }\n    \n    function _exists(ras) {\n        return new Promise((resolve) => {\n            if (!ras) return resolve(false);\n            ras.stat((e, result) => e ? resolve(false) : resolve(!!result && !!result.size))\n        });\n    }\n    \n    function _readAll(ras, config) {\n        if (!ras) {\n            const e = new Error("File doesn\'t exist.");\n            e.status = "ENOENT";\n            return Promise.reject(e);\n        }\n        let {\n            // To be compat with other tools that use valueEncoding.\n            valueEncoding = "binary",\n            encoding = valueEncoding\n        } = config;\n    \n        return new Promise(\n            (resolve, reject) => {\n                ras.stat((e, stat) => {\n                    if (e) return reject(e);\n                    ras.read(0, stat.size, (e, buffer) => {\n                        if (e) return reject(e);\n                        resolve(encoding ? codec(encoding).decode(buffer) : buffer);\n                    })\n                });\n            }\n        )\n    }\n\n'});class Gy extends Error{constructor(e="Access is denied."){super(e)}}const Hy={preencode(e,[t,n={}]){Xc.json.preencode(e,n),Xc.any.preencode(e,t)},encode(e,[t,n={}]){Xc.json.encode(e,n),Xc.any.encode(e,t)},decode(e){const t=Xc.json.decode(e);return[Xc.any.decode(e),t]}},Jy={preencode(e,[t,n,r={}]){Xc.buffer.preencode(e,n),Xc.any.preencode(e,t),Xc.json.preencode(e,r)},encode(e,[t,n,r={}]){Xc.buffer.encode(e,n),Xc.any.encode(e,t),Xc.json.encode(e,r)},decode(e){const t=Xc.buffer.decode(e);return[Xc.any.decode(e),t,Xc.json.decode(e)]}};var Yy=Object.freeze({__proto__:null,connect:function(e,t){return Ie(Vy(e,t))},connect$:Vy,serve:function(e,t={}){let n=new Set;return{next(r){!function(e,t,n={}){let r;const{firewall:i=(()=>!1),handshake:s={},...o}=n,a=new Fu(t,{protocol:"bysou/v1/source",handshakeEncoding:Xc.json,handshake:s,...o});a.once("open",(e=>{r=e})),a.respond("factory",{responseEncoding:Xc.utf8},(async()=>{if(!await i(t,{action:"factory",handshake:r}))return e.factory;throw new Gy})),a.respond("get",{requestEncoding:Hy,responseEncoding:Xc.buffer},(async([n,s])=>{if(!await i(t,{action:"get",handshake:r,key:n,config:s}))return e.get(n,s);throw new Gy})),a.respond("del",{requestEncoding:Xc.json},(async([s])=>{if(!await i(t,{action:"del",handshake:r,key:s,config:n}))return e.del(s,n);throw new Gy})),a.respond("exists",{requestEncoding:Hy,responseEncoding:Xc.bool},(async([n,s])=>{if(!await i(t,{action:"exists",handshake:r,key:n,config:s}))return e.exists(n,s);throw new Gy})),a.respond("put",{requestEncoding:Jy},(async([n,s,o])=>{if(!await i(t,{action:"put",handshake:r,key:n,buffer:s,config:o}))return e.put(n,s,o);throw new Gy})),a.respond("readdir",{requestEncoding:Xc.json,responseEncoding:Xc.array(Xc.utf8)},(async([n,s])=>{if(!await i(t,{action:"readdir",handshake:r,path:n,config:s}))return e.readdir(n,s);throw new Gy})),a.respond("ready",(async()=>{if(!await i(t,{action:"ready",handshake:r}))return e.ready();throw new Gy})),["writable","readable","appendable"].forEach((n=>{a.respond(n,{responseEncoding:Xc.bool},(async()=>!await i(t,{action:n,handshake:r})&&e[n]))}))}(e,r,t),n.add(r)},async error(e){for await(const t of n.values())await t.destroy(e)},async complete(){for await(const e of n.values())await e.end()},*[Symbol.iterator](){for(const e of n.values())yield e}}}});export{qc as addFetchHook,Uc as fetchHookOfSource,Yy as iNetworkSource};
