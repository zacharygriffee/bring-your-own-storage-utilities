function t(t){return"function"==typeof t}function e(t){const e=t((t=>{Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const n=e((t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map(((t,e)=>`${e+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e}));function r(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const t of r)t.remove(this);else r.remove(this);const{initialTeardown:i}=this;if(t(i))try{i()}catch(t){e=t instanceof n?t.errors:[t]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const t of s)try{a(t)}catch(t){e=null!=e?e:[],t instanceof n?e=[...e,...t.errors]:e.push(t)}}if(e)throw new n(e)}}add(t){var e;if(t&&t!==this)if(this.closed)a(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&r(e,t)}remove(t){const{_finalizers:e}=this;e&&r(e,t),t instanceof i&&t._removeParent(this)}}i.EMPTY=(()=>{const t=new i;return t.closed=!0,t})();const s=i.EMPTY;function o(e){return e instanceof i||e&&"closed"in e&&t(e.remove)&&t(e.add)&&t(e.unsubscribe)}function a(e){t(e)?e():e.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},c={setTimeout(t,e,...n){const{delegate:r}=c;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=c;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function l(t){c.setTimeout((()=>{const{onUnhandledError:e}=u;if(!e)throw t;e(t)}))}function h(){}const p=f("C",void 0,void 0);function f(t,e,n){return{kind:t,value:e,error:n}}function x(t){t()}class d extends i{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,o(t)&&t.add(this)):this.destination=_}static create(t,e,n){return new v(t,e,n)}next(t){this.isStopped?w(function(t){return f("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?w(f("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?w(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const m=Function.prototype.bind;function b(t,e){return m.call(t,e)}class g{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(t){y(t)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(t){y(t)}else y(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(t){y(t)}}}class v extends d{constructor(e,n,r){let i;if(super(),t(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let t;this&&u.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&b(e.next,t),error:e.error&&b(e.error,t),complete:e.complete&&b(e.complete,t)}):i=e}this.destination=new g(i)}}function y(t){l(t)}function w(t,e){const{onStoppedNotification:n}=u;n&&c.setTimeout((()=>n(t,e)))}const _={closed:!0,next:h,error:function(t){throw t},complete:h},S="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(t){return t}class E{constructor(t){t&&(this._subscribe=t)}lift(t){const e=new E;return e.source=this,e.operator=t,e}subscribe(e,n,r){const i=(s=e)&&s instanceof d||function(e){return e&&t(e.next)&&t(e.error)&&t(e.complete)}(s)&&o(s)?e:new v(e,n,r);var s;return x((()=>{const{operator:t,source:e}=this;i.add(t?t.call(i,e):e?this._subscribe(i):this._trySubscribe(i))})),i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){t.error(e)}}forEach(t,e){return new(e=C(e))(((e,n)=>{const r=new v({next:e=>{try{t(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:e});this.subscribe(r)}))}_subscribe(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)}[S](){return this}pipe(...t){return(0===(e=t).length?A:1===e.length?e[0]:function(t){return e.reduce(((t,e)=>e(t)),t)})(this);var e}toPromise(t){return new(t=C(t))(((t,e)=>{let n;this.subscribe((t=>n=t),(t=>e(t)),(()=>t(n)))}))}}function C(t){var e;return null!==(e=null!=t?t:u.Promise)&&void 0!==e?e:Promise}function F(e){return t(null==e?void 0:e.lift)}function O(t){return e=>{if(F(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function L(t,e,n,r,i){return new j(t,e,n,r,i)}E.create=t=>new E(t);class j extends d{constructor(t,e,n,r,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(n){try{e(n)}catch(e){t.error(e)}}:super._next,this._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}class k extends E{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,F(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new i;const e=this.getSubject();t.add(this.source.subscribe(L(e,void 0,(()=>{this._teardown(),e.complete()}),(t=>{this._teardown(),e.error(t)}),(()=>this._teardown())))),t.closed&&(this._connection=null,t=i.EMPTY)}return t}refCount(){return O(((t,e)=>{let n=null;t._refCount++;const r=L(e,void 0,void 0,void 0,(()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),e.unsubscribe()}));t.subscribe(r),r.closed||(n=t.connect())}))(this)}}const T={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=T;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);const s=e((e=>{n=void 0,t(e)}));return new i((()=>null==n?void 0:n(s)))},requestAnimationFrame(...t){const{delegate:e}=T;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=T;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0},P=e((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class I extends E{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const e=new M(this,this);return e.operator=t,e}_throwIfClosed(){if(this.closed)throw new P}next(t){x((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const e of this.currentObservers)e.next(t)}}))}error(t){x((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:e}=this;for(;e.length;)e.shift().error(t)}}))}complete(){x((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:e,isStopped:n,observers:o}=this;return e||n?s:(this.currentObservers=null,o.push(t),new i((()=>{this.currentObservers=null,r(o,t)})))}_checkFinalizedStatuses(t){const{hasError:e,thrownError:n,isStopped:r}=this;e?t.error(n):r&&t.complete()}asObservable(){const t=new E;return t.source=this,t}}I.create=(t,e)=>new M(t,e);class M extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:s}}const N={now:()=>(N.delegate||Date).now(),delegate:void 0};class B extends I{constructor(t=1/0,e=1/0,n=N){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;e||(n.push(t),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let e=0;e<i.length&&!t.closed;e+=n?1:2)t.next(i[e]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const t=e.now();let r=0;for(let e=1;e<n.length&&n[e]<=t;e+=2)r=e;r&&n.splice(0,r+1)}}}class z extends i{constructor(t,e){super()}schedule(t,e=0){return this}}const D={setInterval(t,e,...n){const{delegate:r}=D;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=D;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class R extends z{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return D.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&D.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,r(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}let W,U=1;const q={};function $(t){return t in q&&(delete q[t],!0)}const H={setImmediate(t){const e=U++;return q[e]=!0,W||(W=Promise.resolve()),W.then((()=>$(e)&&t())),e},clearImmediate(t){$(t)}},{setImmediate:V,clearImmediate:G}=H,J={setImmediate(...t){const{delegate:e}=J;return((null==e?void 0:e.setImmediate)||V)(...t)},clearImmediate(t){const{delegate:e}=J;return((null==e?void 0:e.clearImmediate)||G)(t)},delegate:void 0};class Z{constructor(t,e=Z.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Z.now=N.now;class K extends Z{constructor(t,e=Z.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Y=new class extends K{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class extends R{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=J.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:i}=t;null!=e&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==e&&(J.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}}),Q=new K(R),X=Q;new class extends K{}(class extends R{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,e,n):(t.flush(this),0)}});new class extends K{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class extends R{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=T.requestAnimationFrame((()=>t.flush(void 0)))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:i}=t;null!=e&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==e&&(T.cancelAnimationFrame(e),t._scheduled=void 0)}});(class extends K{constructor(t=tt,e=1/0){super(t,(()=>this.frame)),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,r;for(;(r=t[0])&&r.delay<=e&&(t.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=t.shift();)r.unsubscribe();throw n}}}).frameTimeFactor=10;class tt extends R{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(Number.isFinite(e)){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new tt(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}return i.EMPTY}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:r}=t;return r.push(this),r.sort(tt.sortActions),1}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}const et=new E((t=>t.complete()));function nt(e){return e&&t(e.schedule)}function rt(t){return t[t.length-1]}function it(t){return nt(rt(t))?t.pop():void 0}function st(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function ot(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(t){return this instanceof at?(this.v=t,this):new at(t)}function ut(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{!function(t){t.value instanceof at?Promise.resolve(t.value.v).then(u,c):l(s[0][2],t)}(i[t](e))}catch(t){l(s[0][3],t)}}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ct(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=ot(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const lt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ht(e){return t(null==e?void 0:e.then)}function pt(e){return t(e[S])}function ft(e){return Symbol.asyncIterator&&t(null==e?void 0:e[Symbol.asyncIterator])}function xt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function mt(e){return t(null==e?void 0:e[dt])}function bt(t){return ut(this,arguments,(function*(){const e=t.getReader();try{for(;;){const{value:t,done:n}=yield at(e.read());if(n)return yield at(void 0);yield yield at(t)}}finally{e.releaseLock()}}))}function gt(e){return t(null==e?void 0:e.getReader)}function vt(e){if(e instanceof E)return e;if(null!=e){if(pt(e))return s=e,new E((e=>{const n=s[S]();if(t(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(lt(e))return i=e,new E((t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()}));if(ht(e))return r=e,new E((t=>{r.then((e=>{t.closed||(t.next(e),t.complete())}),(e=>t.error(e))).then(null,l)}));if(ft(e))return yt(e);if(mt(e))return n=e,new E((t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()}));if(gt(e))return yt(bt(e))}var n,r,i,s;throw xt(e)}function yt(t){return new E((e=>{(function(t,e){var n,r,i,s;return st(this,void 0,void 0,(function*(){try{for(n=ct(t);!(r=yield n.next()).done;){const t=r.value;if(e.next(t),e.closed)return}}catch(t){i={error:t}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()}))})(t,e).catch((t=>e.error(t)))}))}function wt(t,e,n,r=0,i=!1){const s=e.schedule((function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(s),!i)return s}function _t(t,e=0){return O(((n,r)=>{n.subscribe(L(r,(n=>wt(r,t,(()=>r.next(n)),e)),(()=>wt(r,t,(()=>r.complete()),e)),(n=>wt(r,t,(()=>r.error(n)),e))))}))}function St(t,e=0){return O(((n,r)=>{r.add(t.schedule((()=>n.subscribe(r)),e))}))}function At(t,e){if(!t)throw new Error("Iterable cannot be null");return new E((n=>{wt(n,e,(()=>{const r=t[Symbol.asyncIterator]();wt(n,e,(()=>{r.next().then((t=>{t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function Et(e,n){if(null!=e){if(pt(e))return function(t,e){return vt(t).pipe(St(e),_t(e))}(e,n);if(lt(e))return function(t,e){return new E((n=>{let r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(e,n);if(ht(e))return function(t,e){return vt(t).pipe(St(e),_t(e))}(e,n);if(ft(e))return At(e,n);if(mt(e))return function(e,n){return new E((r=>{let i;return wt(r,n,(()=>{i=e[dt](),wt(r,n,(()=>{let t,e;try{({value:t,done:e}=i.next())}catch(t){return void r.error(t)}e?r.complete():r.next(t)}),0,!0)})),()=>t(null==i?void 0:i.return)&&i.return()}))}(e,n);if(gt(e))return function(t,e){return At(bt(t),e)}(e,n)}throw xt(e)}function Ct(t,e){return e?Et(t,e):vt(t)}function Ft(...t){return Ct(t,it(t))}var Ot;!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(Ot||(Ot={}));class Lt{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){return jt(this,t)}do(t,e,n){const{kind:r,value:i,error:s}=this;return"N"===r?null==t?void 0:t(i):"E"===r?null==e?void 0:e(s):null==n?void 0:n()}accept(e,n,r){var i;return t(null===(i=e)||void 0===i?void 0:i.next)?this.observe(e):this.do(e,n,r)}toObservable(){const{kind:e,value:n,error:r}=this,i="N"===e?Ft(n):"E"===e?function(e,n){const r=t(e)?e:()=>e,i=t=>t.error(r());return new E(n?t=>n.schedule(i,0,t):i)}((()=>r)):"C"===e?et:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(t){return new Lt("N",t)}static createError(t){return new Lt("E",void 0,t)}static createComplete(){return Lt.completeNotification}}function jt(t,e){var n,r,i;const{kind:s,value:o,error:a}=t;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(n=e.next)||void 0===n||n.call(e,o):"E"===s?null===(r=e.error)||void 0===r||r.call(e,a):null===(i=e.complete)||void 0===i||i.call(e)}Lt.completeNotification=new Lt("C");const kt=e((t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}));function Tt(t,e){return O(((n,r)=>{let i=0;n.subscribe(L(r,(n=>{r.next(t.call(e,n,i++))})))}))}function Pt(e,n,r=1/0){return t(n)?Pt(((t,r)=>Tt(((e,i)=>n(t,e,r,i)))(vt(e(t,r)))),r):("number"==typeof n&&(r=n),O(((t,n)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,h=!1;const p=()=>{!h||u.length||c||e.complete()},f=t=>c<r?x(t):u.push(t),x=t=>{s&&e.next(t),c++;let a=!1;vt(n(t,l++)).subscribe(L(e,(t=>{null==i||i(t),s?f(t):e.next(t)}),(()=>{a=!0}),void 0,(()=>{if(a)try{for(c--;u.length&&c<r;){const t=u.shift();o?wt(e,o,(()=>x(t))):x(t)}p()}catch(t){e.error(t)}})))};return t.subscribe(L(e,f,(()=>{h=!0,p()}))),()=>{null==a||a()}}(t,n,e,r))))}function It(t=1/0){return Pt(A,t)}function Mt(){return It(1)}function Nt(...t){return Mt()(Ct(t,it(t)))}function Bt(t){return new E((e=>{vt(t()).subscribe(e)}))}function zt(t=0,e,n=X){let r=-1;return null!=e&&(nt(e)?n=e:r=e),new E((e=>{let i=(s=t)instanceof Date&&!isNaN(s)?+t-n.now():t;var s;i<0&&(i=0);let o=0;return n.schedule((function(){e.closed||(e.next(o++),0<=r?this.schedule(void 0,r):e.complete())}),i)}))}function Dt(...t){const e=it(t),n=function(t,e){return"number"==typeof rt(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?vt(r[0]):It(n)(Ct(r,e)):et}e((t=>function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"})),e((t=>function(e){t(this),this.name="NotFoundError",this.message=e})),e((t=>function(e){t(this),this.name="SequenceError",this.message=e})),e((t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}));const Rt=new E(h),{isArray:Wt}=Array;function Ut(t,e){return O(((n,r)=>{let i=0;n.subscribe(L(r,(n=>t.call(e,n,i++)&&r.next(n))))}))}function qt(...t){var e;return 1===(t=1===(e=t).length&&Wt(e[0])?e[0]:e).length?vt(t[0]):new E(function(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(vt(t[r]).subscribe(L(e,(t=>{if(n){for(let t=0;t<n.length;t++)t!==r&&n[t].unsubscribe();n=null}e.next(t)}))))}}(t))}function $t(t,e){return new E((n=>{const r=t(),i=e(r);return(i?vt(i):et).subscribe(n),()=>{r&&r.unsubscribe()}}))}function Ht(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(L(o,(e=>{const n=c++;u=a?t(u,e,n):(a=!0,e),r&&o.next(u)}),i&&(()=>{a&&o.next(u),o.complete()})))}}const Vt=(t,e)=>(t.push(e),t);function Gt(){return O(((t,e)=>{(function(t,e){return O(Ht(t,e,arguments.length>=2,!1,!0))})(Vt,[])(t).subscribe(e)}))}function Jt(e,n){return t(n)?Pt(e,n,1):Pt(e,1)}const Zt={connector:()=>new I};function Kt(t,e=Zt){const{connector:n}=e;return O(((e,r)=>{const i=n();var s;vt(t((s=i,new E((t=>s.subscribe(t)))))).subscribe(r),r.add(e.subscribe(i))}))}function Yt(t){return O(((e,n)=>{let r=!1;e.subscribe(L(n,(t=>{r=!0,n.next(t)}),(()=>{r||n.next(t),n.complete()})))}))}function Qt(t){return t<=0?()=>et:O(((e,n)=>{let r=0;e.subscribe(L(n,(e=>{++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}function Xt(){return O(((t,e)=>{t.subscribe(L(e,h))}))}function te(t){return Tt((()=>t))}function ee(t,e){return e?n=>Nt(e.pipe(Qt(1),Xt()),n.pipe(ee(t))):Pt(((e,n)=>vt(t(e,n)).pipe(Qt(1),te(e))))}function ne(t,e=Q){const n=zt(t,e);return ee((()=>n))}function re(t,e=A){return t=null!=t?t:ie,O(((n,r)=>{let i,s=!0;n.subscribe(L(r,(n=>{const o=e(n);!s&&t(i,o)||(s=!1,i=o,r.next(n))})))}))}function ie(t,e){return t===e}function se(t=oe){return O(((e,n)=>{let r=!1;e.subscribe(L(n,(t=>{r=!0,n.next(t)}),(()=>r?n.complete():n.error(t()))))}))}function oe(){return new kt}function ae(t,e){return e?n=>n.pipe(ae(((n,r)=>vt(t(n,r)).pipe(Tt(((t,i)=>e(n,t,r,i))))))):O(((e,n)=>{let r=0,i=null,s=!1;e.subscribe(L(n,(e=>{i||(i=L(n,void 0,(()=>{i=null,s&&n.complete()})),vt(t(e,r++)).subscribe(i))}),(()=>{s=!0,!i&&n.complete()})))}))}function ue(t){return O(((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}}))}function ce(t){return t<=0?()=>et:O(((e,n)=>{let r=[];e.subscribe(L(n,(e=>{r.push(e),t<r.length&&r.shift()}),(()=>{for(const t of r)n.next(t);n.complete()}),void 0,(()=>{r=null})))}))}function le(){return O(((t,e)=>{t.subscribe(L(e,(t=>{e.next(Lt.createNext(t))}),(()=>{e.next(Lt.createComplete()),e.complete()}),(t=>{e.next(Lt.createError(t)),e.complete()})))}))}function he(e,n){const r=t(e)?e:()=>e;return t(n)?Kt(n,{connector:r}):t=>new k(t,r)}function pe(t){return t?e=>Kt(t)(e):t=>he(new I)(t)}function fe(e,n,r,i){r&&!t(r)&&(i=r);const s=t(r)?r:void 0;return t=>he(new B(e,n,i),s)(t)}function xe(t,e){return O(Ht(t,e,arguments.length>=2,!0))}function de(...t){const e=it(t);return O(((n,r)=>{(e?Nt(t,n,e):Nt(t,n)).subscribe(r)}))}function me(t,e){return O(((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(L(r,(n=>{null==i||i.unsubscribe();let o=0;const u=s++;vt(t(n,u)).subscribe(i=L(r,(t=>r.next(e?e(n,t,u,o++):t)),(()=>{i=null,a()})))}),(()=>{o=!0,a()})))}))}function be(t){return O(((e,n)=>{vt(t).subscribe(L(n,(()=>n.complete()),h)),!n.closed&&e.subscribe(n)}))}function ge(t,e=!1){return O(((n,r)=>{let i=0;n.subscribe(L(r,(n=>{const s=t(n,i++);(s||e)&&r.next(n),!s&&r.complete()})))}))}function ve(e,n,r){const i=t(e)||n||r?{next:e,error:n,complete:r}:e;return i?O(((t,e)=>{var n;null===(n=i.subscribe)||void 0===n||n.call(i);let r=!0;t.subscribe(L(e,(t=>{var n;null===(n=i.next)||void 0===n||n.call(i,t),e.next(t)}),(()=>{var t;r=!1,null===(t=i.complete)||void 0===t||t.call(i),e.complete()}),(t=>{var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,t),e.error(t)}),(()=>{var t,e;r&&(null===(t=i.unsubscribe)||void 0===t||t.call(i)),null===(e=i.finalize)||void 0===e||e.call(i)})))})):A}function ye(...e){const n=t(rt(r=e))?r.pop():void 0;var r;return O(((t,r)=>{const i=e.length,s=new Array(i);let o=e.map((()=>!1)),a=!1;for(let t=0;t<i;t++)vt(e[t]).subscribe(L(r,(e=>{s[t]=e,a||o[t]||(o[t]=!0,(a=o.every(A))&&(o=null))}),h));t.subscribe(L(r,(t=>{if(a){const e=[t,...s];r.next(n?n(...e):e)}})))}))}const we=d.prototype._complete,_e=d.prototype._error,Se=d.prototype._next;class Ae extends d{constructor(t,e){super(t);const{complete:n,error:r,next:i}=e;this._complete=n?()=>{try{n()}catch(e){t.error(e)}this.unsubscribe()}:we,this._error=r?e=>{try{r(e)}catch(e){t.error(e)}this.unsubscribe()}:_e,this._next=i?e=>{try{i(e)}catch(e){t.error(e)}}:Se}}function Ee(t,e,n=(()=>new I)){return r=>r.lift(new Ce(t,e,n))}class Ce{constructor(t,e,n){this.count=t,this.hashSelector=e,this.subjectSelector=n}call(t,e){return e.subscribe(new Fe(t,this.count,this.hashSelector,this.subjectSelector))}}class Fe extends d{constructor(t,e,n,r){super(t),this.count=e,this.hashSelector=n,this.subjectSelector=r,this.index=0;const i=this.buckets=new Array(e);for(let t=0;t<e;++t)i[t]=r();t.next(i.map((t=>t.asObservable())))}_next(t){const{buckets:e,closed:n,count:r,hashSelector:i}=this;if(n)return;let s;try{const e=i(t,this.index++);s=Math.abs(Math.floor(e))%r}catch(t){return void this.error(t)}e[s].next(t)}_error(t){const{buckets:e,closed:n,destination:r}=this;n||(e.forEach((e=>e.error(t))),r.error(t))}_complete(){const{buckets:t,closed:e,destination:n}=this;e||(t.forEach((t=>t.complete())),n.complete())}}function Oe(t){return e=>e.pipe(pe((e=>Dt(e,e.pipe(O(((t,e)=>{t.subscribe(L(e,(()=>{e.next(!1),e.complete()}),(()=>{e.next(!0),e.complete()})))})),Pt((e=>e?t:et)))))))}function Le(...t){let e=t[t.length-1];return function(t){return Boolean(t&&"function"==typeof t.schedule)}(e)?t.pop():e=null,n=>Nt(n,Ct(t,e))}function je(t,e){let n;return"number"==typeof t?n=t:(n=1,e=t),t=>t.pipe(pe((t=>Nt(t.pipe(Qt(n)),t.pipe(e)))))}const ke=Oe,Te=Oe;class Pe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ie(t,this.callback))}}class Ie extends d{constructor(t,e){super(t),this.callback=e,this.kind="U",this.subscription=void 0}complete(){this.kind="C",this.defer((()=>super.complete()))}error(t){this.kind="E",this.defer((()=>super.error(t)))}unsubscribe(){this.defer((()=>super.unsubscribe()))}defer(t){if(this.subscription)return void this.subscription.add(t);const e=new i;this.subscription=e,e.add(t);Ct(this.callback(this.kind)).pipe(ue((()=>e.unsubscribe()))).subscribe()}}class Me{constructor(t){this.callback=t}call(t,e){const n=e.subscribe(t);return n.add(this.callback),n}}function Ne(t){return e=>Bt((()=>{let n="U";return e.pipe(ve({complete:()=>n="C",error:()=>n="E"}),ue((()=>t(n))))}))}function Be(t){return e=>e.lift(new De(t))}const ze=Be;class De{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Re(t,this.callback))}}class Re extends d{constructor(t,e){super(t),this.add(new i((()=>e(this.notification))))}complete(){this.notification=new Lt("C"),super.complete()}error(t){this.notification=new Lt("E",void 0,t),super.error(t)}}function We(t,e=Y){return n=>{const r=n;let i=null,s=null;const o=new I,a=o.pipe(xe(((t,e)=>t+e),0),me((n=>0===n?zt(t,e).pipe(ve((()=>{i&&(i.unsubscribe(),i=null),s&&(s.unsubscribe(),s=null)}))):!i&&n>0?zt(0,e).pipe(ve((()=>{i||(i=r.connect())}))):Rt)));return $t((()=>(s||(s=a.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)})),(()=>n))}}const Ue=We;class qe{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new $e(t,this.scheduler,this.delay))}}class $e extends d{constructor(t,e,n){super(t),this.scheduler=e,this.delay=n}unsubscribe(){const{delay:t,scheduler:e}=this;e.schedule((()=>super.unsubscribe()),t)}}var He=Object.freeze({__proto__:null,auditMap:function(t){return e=>{let n,r=!1;return e.pipe(Pt(((e,i)=>r?(n=[e,i],et):(r=!0,Ct(t(e,i)).pipe(Nt(Bt((()=>{if(!n)return et;const e=t(...n);return n=void 0,Ct(e)}))),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ut(((e,n)=>t(e,n,r))):A,ce(1),n?Yt(e):se((()=>new kt)))}(),ve({complete:()=>r=!1}))))))}},bucketBy:Ee,bufferRecent:function(t){return t<1?t=>t.pipe(te([])):1===t?t=>t.pipe(Tt((t=>[t]))):e=>e.pipe(xe(((e,n)=>[...e.slice(1-t),n]),[]))},concatIfEmpty:Oe,concatTap:function(t){return e=>e.pipe(Jt((e=>Ct(t(e)).pipe(Xt(),Le(e)))))},concatMapEager:function(t,e){return n=>Bt((()=>{let r=0;const i=new Map;return n.pipe(Pt(((e,n)=>Ct(t(e,n)).pipe(le(),Tt((t=>({index:n,notification:t}))))),e),Pt((({index:t,notification:e})=>{let n=i.get(t);switch(n||(n={complete:!1,index:t,values:[]},i.set(t,n)),e.kind){case"N":n.values.push(e.value);break;case"C":n.complete=!0;break;case"E":return e.toObservable()}return n.index!==r?et:function(){const t=[];let e=i.get(r);for(;e&&(t.push(...e.values),e.values.length=0,e.complete);)i.delete(r),e=i.get(++r);return t}()})))}))},debounceAfter:function(t,e,n){return r=>r.pipe(pe((r=>t.pipe(me((()=>Nt(Ft(!0),Ft(!1).pipe(ne(e,n))))),de(!1),re(),pe((t=>t.pipe(Jt((e=>e?r.pipe(be(t.pipe(Ut((t=>!t)))),ce(1)):r.pipe(be(t.pipe(Ut((t=>t))))))))))))))},debounceSync:function(){return t=>new E((e=>{let n,r;t.subscribe(new Ae(e,{complete:()=>{n&&e.next(r),e.complete()},error:t=>e.error(t),next:t=>{r=t,n||(n=Y.schedule((()=>{e.next(r),n=void 0})),e.add(n))}}))}))},debounceTimeSubsequent:function(t,e,n){let r;return"number"==typeof e?r=e:(r=1,n=e),je(r,function(t,e=Q){return O(((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const t=s;s=null,r.next(t)}};function u(){const n=o+t,s=e.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(L(r,(n=>{s=n,o=e.now(),i||(i=e.schedule(u,t),r.add(i))}),(()=>{a(),r.complete()}),void 0,(()=>{s=i=null})))}))}(t,n))},defaultObservableIfEmpty:ke,switchIfEmpty:Te,deferFinalize:function(t){return e=>e.lift(new Pe(t))},delayUntil:function(t){return e=>e.pipe(pe((e=>{const n=new E((n=>{let r=!0;const s=[],o=new i;return o.add(t.subscribe((()=>{s.forEach((t=>n.next(t))),n.complete()}),(t=>n.error(t)),(()=>{r=!1,s.length=0}))),o.add((()=>{s.length=0})),o.add(e.subscribe((t=>r&&s.push(t)),(t=>n.error(t)))),o}));return Nt(n,e)})))},dispose:function(t){return e=>e.lift(new Me(t))},endWith:Le,equals:function(t){return e=>e.pipe(Ut((e=>t===e)))},exhaustTap:function(t){return e=>e.pipe(fe(1,void 0,(e=>e.pipe(ae((n=>Nt(e,Rt).pipe(be(Ct(t(n)).pipe(Xt(),Le(null))),Gt(),It())))))))},finalizeWithKind:Ne,guard:function(t,e){return n=>n.pipe(Tt((n=>{if(t(n))return n;const r=new Error(e||"Guard rejection.");throw r.value=n,r})))},hold:function(t){return e=>{return e.pipe((n=t,O(((t,e)=>{let r=[];return t.subscribe(L(e,(t=>r.push(t)),(()=>{e.next(r),e.complete()}))),vt(n).subscribe(L(e,(()=>{const t=r;r=[],e.next(t)}),h)),()=>{r=null}}))),Mt());var n}},holdToggle:function(t,e){return n=>{return n.pipe((s=t,o=e,O(((t,e)=>{const n=[];vt(s).subscribe(L(e,(t=>{const s=[];n.push(s);const a=new i;a.add(vt(o(t)).subscribe(L(e,(()=>{r(n,s),e.next(s),a.unsubscribe()}),h)))}),h)),t.subscribe(L(e,(t=>{for(const e of n)e.push(t)}),(()=>{for(;n.length>0;)e.next(n.shift());e.complete()})))}))),Mt());var s,o}},holdWhen:function(t){return e=>{return e.pipe((n=t,O(((t,e)=>{let r=null,i=null;const s=()=>{null==i||i.unsubscribe();const t=r;r=[],t&&e.next(t),vt(n()).subscribe(i=L(e,s,h))};s(),t.subscribe(L(e,(t=>null==r?void 0:r.push(t)),(()=>{r&&e.next(r),e.complete()}),void 0,(()=>r=i=null)))}))),Mt());var n}},indexElements:function(t=((t,e)=>e)){return Tt(t)},inexorably:Be,finalize:ze,initial:function(t,e){let n;return"number"==typeof t?n=t:(n=1,e=t),t=>t.pipe(pe((t=>{return Dt(t.pipe(Qt(n),e),t.pipe((r=n,Ut(((t,e)=>r<=e)))));var r})))},instanceOf:function(t){return Ut("function"==typeof t?e=>e instanceof t:e=>Object.keys(t).some((n=>e instanceof t[n])))},materializeTap:function(t){return e=>e.pipe(ve({complete:()=>t(new Lt("C")),error:e=>t(new Lt("E",void 0,e)),next:e=>t(new Lt("N",e))}))},materializeTo:function(e){return n=>n.pipe(function(e,n,r=1/0){return t(n)?Pt((()=>e),n,r):("number"==typeof n&&(r=n),Pt((()=>e),r))}(Ct(e).pipe(le())),O(((t,e)=>{t.subscribe(L(e,(t=>jt(t,e))))})))},mergeTap:function(t){return e=>e.pipe(Pt((e=>Ct(t(e)).pipe(Xt(),Le(e)))))},multicastWithKind:function(t,e){return n=>{let r,i;return n.pipe(Ne((t=>r=t)),he((()=>(i=t(r,i),r=void 0,i)),e))}},pairwiseStartWith:function(t){return e=>e.pipe(de(t),O(((t,e)=>{let n,r=!1;t.subscribe(L(e,(t=>{const i=n;n=t,r&&e.next([i,t]),r=!0})))})))},pause:function(t,e="resumed"){return n=>t.pipe(de(e),fe(1,void 0,(t=>n.pipe(Pt((e=>t.pipe(Ut((t=>"resumed"===t)),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ut(((e,n)=>t(e,n,r))):A,Qt(1),n?Yt(e):se((()=>new kt)))}(),Tt((()=>e)))))))))},percolate:function t(...e){const[n,...r]=e;return 1===e.length&&Array.isArray(n)?t(...n):new E((e=>Ct(n).subscribe({complete:()=>{e.complete()},next(t){e.next(t)},error:n=>{0===r.length?e.error(n):e.add(t(...r).subscribe(e))}})))},pluck:function(...t){return e=>function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return Tt((n=>{let r=n;for(let n=0;n<e;n++){const e=null==r?void 0:r[t[n]];if(void 0===e)return;r=e}return r}))}(...t)(e)},prioritize:function(t){return e=>new E((n=>{const r=pe()(e),s=[],o=new i,a=Math.max(t.length,2);for(let t=0;t<a;++t){const t=new I;s.push(t),o.add(r.subscribe(t))}const[u,c,...l]=s;return o.add(t(u,c,...l).subscribe(n)),o.add(r.connect()),o}))},rateLimit:function(t,...e){let n=1,r=Y;1===e.length?"number"==typeof e[0]?n=e[0]:r=e[0]:2===e.length&&(n=e[0],r=e[1]);const i=n||1;return e=>e.pipe(xe(((e,n)=>{const s=r.now(),o=s-t;if((e=e.filter((t=>t.until>o))).length>=i){const r=e[0],o=e[e.length-1],a=r.until+t*Math.floor(e.length/i);e.push({delay:o.until<s?a-s:a-o.until,until:a,value:n})}else e.push({delay:0,until:s,value:n});return e}),[]),Tt((t=>t[t.length-1])),Jt((t=>{const e=Ft(t.value);return t.delay?e.pipe(ne(t.delay,r)):e})))},refCountDelay:We,refCountAuditTime:Ue,refCountForever:function(){return t=>{const e=t;let n=null;return $t((()=>(n||(n=e.connect()),{unsubscribe:()=>{}})),(()=>t))}},refCountOn:function(t){return e=>{const n=e;let r=0,i=null;return $t((()=>(++r,t.schedule((()=>{!i&&r>0&&(i=n.connect())})),{unsubscribe:()=>{--r,t.schedule((()=>{i&&0===r&&(i.unsubscribe(),i=null)}))}})),(()=>e))}},reschedule:function(t=Y){return Jt((e=>Ft(e,t)))},skipSync:function(){return t=>new E((e=>{let n=!1;const r=t.subscribe((t=>n&&e.next(t)),e.error.bind(e),e.complete.bind(e));return n=!0,r}))},splitBy:function(t,e=(()=>new I)){return Ee(2,((e,n)=>t(e,n)?0:1),e)},spread:function(...t){return e=>t.reduce(((t,e)=>t.pipe(e)),e)},startWithDeferred:function(t,e){return n=>Nt(Bt((()=>{const n=t();return e?Ft(n,e):Ft(n)})),n)},startWithTimeout:function(t,e,n){return 0!==e||n?r=>r.pipe(pe((r=>qt(r,Nt(zt(e,n).pipe(te(t)),r))))):e=>new E((n=>{let r=!1;const i=e.subscribe((t=>{r=!0,n.next(t)}),n.error.bind(n),n.complete.bind(n));return r||n.next(t),i}))},subsequent:je,switchMapUntil:function(t,e){return n=>n.pipe(pe((n=>n.pipe(t,me(((t,r)=>e(t,r).pipe(be(n))))))))},switchTap:function(t){return e=>e.pipe(pe((e=>e.pipe(Jt((n=>Nt(Ct(t(n)).pipe(Xt(),be(e)),Ft(n))))))))},takeSync:function(){return t=>new E((e=>{const n=t.subscribe(e);return e.complete(),n}))},takeWhileInclusive:function(t){return e=>e.pipe(he((()=>new B(1)),(e=>Nt(e.pipe(ge(t)),e.pipe(Qt(1),Ut((e=>!t(e))))))))},tapSubscribe:function(t){const{ignore:e={},subscribe:n=h,unsubscribe:r=h}="function"==typeof t?{subscribe:t}:t;return t=>Bt((()=>{let i=!1,s=!1;return n(),t.pipe(ve({complete:()=>i=!0,error:()=>s=!0}),ue((()=>{i&&e.complete||s&&e.error||r()})))}))},tapWithIndex:function(t,e,n){return r=>Bt((()=>{let i,s,o,a,u=-1;return t&&"function"!=typeof t?(i=t,s=t.next||h,o=t.error||h,a=t.complete||h):(i=void 0,s=t||h,o=e||h,a=n||h),r.pipe(ve((t=>s.call(i,[t,++u])),(t=>o.call(i,t)),(()=>a.call(i))))}))},throttleAfter:function(t,e,n){return r=>r.pipe(pe((r=>t.pipe(me((()=>Nt(Ft(!0),ne(e,n)(Ft(!1))))),de(!1),re(),pe((t=>t.pipe(Jt((e=>e?r.pipe(Qt(1),be(t.pipe(Ut((t=>!t))))):r.pipe(be(t.pipe(Ut((t=>t))))))))))))))},withLatestFromWhen:function(...t){const e=t.pop(),n=t;return t=>new E((r=>{const s=pe()(t),o=n.map((t=>Ct(t).pipe(pe()))),a=new i;return a.add(e().pipe(de(void 0),me((()=>s.pipe(ye(...o))))).subscribe(r)),o.forEach((t=>a.add(t.connect()))),a.add(s.connect()),a}))},unsubscribeOn:function(t,e=0){return n=>n.lift(new qe(t,e))}});const Ve=He;function Ge(t,e){var n=[];return function(t,e,n){void 0===n&&(n={});var r=n.decode,i=void 0===r?function(t){return t}:r;return function(n){var r=t.exec(n);if(!r)return!1;for(var s=r[0],o=r.index,a=Object.create(null),u=function(t){if(void 0===r[t])return"continue";var n=e[t-1];"*"===n.modifier||"+"===n.modifier?a[n.name]=r[t].split(n.prefix+n.suffix).map((function(t){return i(t,n)})):a[n.name]=i(r[t],n)},c=1;c<r.length;c++)u(c);return{path:s,index:o,params:a}}}(Ke(t,n,e),n,e)}function Je(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ze(t){return t&&t.sensitive?"":"i"}function Ke(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(t.source);i;)e.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(t.source);return t}(t,e):Array.isArray(t)?function(t,e,n){var r=t.map((function(t){return Ke(t,e,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),Ze(n))}(t,e,n):function(t,e,n){return function(t,e,n){void 0===n&&(n={});for(var r=n.strict,i=void 0!==r&&r,s=n.start,o=void 0===s||s,a=n.end,u=void 0===a||a,c=n.encode,l=void 0===c?function(t){return t}:c,h=n.delimiter,p=void 0===h?"/#?":h,f=n.endsWith,x="[".concat(Je(void 0===f?"":f),"]|$"),d="[".concat(Je(p),"]"),m=o?"^":"",b=0,g=t;b<g.length;b++){var v=g[b];if("string"==typeof v)m+=Je(l(v));else{var y=Je(l(v.prefix)),w=Je(l(v.suffix));if(v.pattern)if(e&&e.push(v),y||w)if("+"===v.modifier||"*"===v.modifier){var _="*"===v.modifier?"?":"";m+="(?:".concat(y,"((?:").concat(v.pattern,")(?:").concat(w).concat(y,"(?:").concat(v.pattern,"))*)").concat(w,")").concat(_)}else m+="(?:".concat(y,"(").concat(v.pattern,")").concat(w,")").concat(v.modifier);else"+"===v.modifier||"*"===v.modifier?m+="((?:".concat(v.pattern,")").concat(v.modifier,")"):m+="(".concat(v.pattern,")").concat(v.modifier);else m+="(?:".concat(y).concat(w,")").concat(v.modifier)}}if(u)i||(m+="".concat(d,"?")),m+=n.endsWith?"(?=".concat(x,")"):"$";else{var S=t[t.length-1],A="string"==typeof S?d.indexOf(S[S.length-1])>-1:void 0===S;i||(m+="(?:".concat(d,"(?=").concat(x,"))?")),A||(m+="(?=".concat(d,"|").concat(x,")"))}return new RegExp(m,Ze(n))}(function(t,e){void 0===e&&(e={});for(var n=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)e.push({type:"CHAR",index:n,value:t[n++]});else{var i=1,s="";if("?"===t[a=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<t.length;)if("\\"!==t[a]){if(")"===t[a]){if(0==--i){a++;break}}else if("("===t[a]&&(i++,"?"!==t[a+1]))throw new TypeError("Capturing groups are not allowed at ".concat(a));s+=t[a++]}else s+=t[a++]+t[a++];if(i)throw new TypeError("Unbalanced pattern at ".concat(n));if(!s)throw new TypeError("Missing pattern at ".concat(n));e.push({type:"PATTERN",index:n,value:s}),n=a}else{for(var o="",a=n+1;a<t.length;){var u=t.charCodeAt(a);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;o+=t[a++]}if(!o)throw new TypeError("Missing parameter name at ".concat(n));e.push({type:"NAME",index:n,value:o}),n=a}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(t),r=e.prefixes,i=void 0===r?"./":r,s="[^".concat(Je(e.delimiter||"/#?"),"]+?"),o=[],a=0,u=0,c="",l=function(t){if(u<n.length&&n[u].type===t)return n[u++].value},h=function(t){var e=l(t);if(void 0!==e)return e;var r=n[u],i=r.type,s=r.index;throw new TypeError("Unexpected ".concat(i," at ").concat(s,", expected ").concat(t))},p=function(){for(var t,e="";t=l("CHAR")||l("ESCAPED_CHAR");)e+=t;return e};u<n.length;){var f=l("CHAR"),x=l("NAME"),d=l("PATTERN");if(x||d){var m=f||"";-1===i.indexOf(m)&&(c+=m,m=""),c&&(o.push(c),c=""),o.push({name:x||a++,prefix:m,suffix:"",pattern:d||s,modifier:l("MODIFIER")||""})}else{var b=f||l("ESCAPED_CHAR");if(b)c+=b;else if(c&&(o.push(c),c=""),l("OPEN")){m=p();var g=l("NAME")||"",v=l("PATTERN")||"",y=p();h("CLOSE"),o.push({name:g||(v?a++:""),pattern:g&&!v?s:v,prefix:m,suffix:y,modifier:l("MODIFIER")||""})}else h("END")}}return o}(t,n),e,n)}(t,e,n)}function Ye(t,e){return function(t,e,n=!0){const r=Array.isArray(e)?e:e.split("");if(r.indexOf(t[0])>-1){const e=Array.isArray(t)?t:t.split("");for(;r.indexOf(e[0])>-1;)e.shift();return n?e.join(""):e}return t}((Array.isArray(t)?t:t.split("")).reverse(),e,!1).reverse().join("")}function Qe(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var tn=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function en(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function nn(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?rn(sn(t),(function(r){var i=encodeURIComponent(en(r))+n;return tn(t[r])?rn(t[r],(function(t){return i+encodeURIComponent(en(t))})).join(e):i+encodeURIComponent(en(t[r]))})).join(e):r?encodeURIComponent(en(r))+n+encodeURIComponent(en(t)):""}function rn(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var sn=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e};function on(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var c,l,h,p,f=t[u].replace(s,"%20"),x=f.indexOf(n);x>=0?(c=f.substr(0,x),l=f.substr(x+1)):(c=f,l=""),h=decodeURIComponent(c),p=decodeURIComponent(l),Xe(i,h)?tn(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i}var an={encode:nn,stringify:nn,decode:on,parse:on},un=Qe(Object.freeze({__proto__:null,stringify:nn,parse:on,default:an,encode:nn,decode:on})),cn=2147483647,ln=36,hn=1,pn=26,fn=38,xn=700,dn=72,mn=128,bn="-",gn=/^xn--/,vn=/[^\x20-\x7E]/,yn=/[\x2E\u3002\uFF0E\uFF61]/g,wn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_n=ln-hn,Sn=Math.floor,An=String.fromCharCode;function En(t){throw new RangeError(wn[t])}function Cn(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function Fn(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+Cn((t=t.replace(yn,".")).split("."),e).join(".")}function On(t){for(var e,n,r=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function Ln(t){return Cn(t,(function(t){var e="";return t>65535&&(e+=An((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+An(t)})).join("")}function jn(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function kn(t,e,n){var r=0;for(t=n?Sn(t/xn):t>>1,t+=Sn(t/e);t>_n*pn>>1;r+=ln)t=Sn(t/_n);return Sn(r+(_n+1)*t/(t+fn))}function Tn(t){var e,n,r,i,s,o,a,u,c,l,h,p=[],f=t.length,x=0,d=mn,m=dn;for((n=t.lastIndexOf(bn))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&En("not-basic"),p.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<f;){for(s=x,o=1,a=ln;i>=f&&En("invalid-input"),((u=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:ln)>=ln||u>Sn((cn-x)/o))&&En("overflow"),x+=u*o,!(u<(c=a<=m?hn:a>=m+pn?pn:a-m));a+=ln)o>Sn(cn/(l=ln-c))&&En("overflow"),o*=l;m=kn(x-s,e=p.length+1,0==s),Sn(x/e)>cn-d&&En("overflow"),d+=Sn(x/e),x%=e,p.splice(x++,0,d)}return Ln(p)}function Pn(t){var e,n,r,i,s,o,a,u,c,l,h,p,f,x,d,m=[];for(p=(t=On(t)).length,e=mn,n=0,s=dn,o=0;o<p;++o)(h=t[o])<128&&m.push(An(h));for(r=i=m.length,i&&m.push(bn);r<p;){for(a=cn,o=0;o<p;++o)(h=t[o])>=e&&h<a&&(a=h);for(a-e>Sn((cn-n)/(f=r+1))&&En("overflow"),n+=(a-e)*f,e=a,o=0;o<p;++o)if((h=t[o])<e&&++n>cn&&En("overflow"),h==e){for(u=n,c=ln;!(u<(l=c<=s?hn:c>=s+pn?pn:c-s));c+=ln)d=u-l,x=ln-l,m.push(An(jn(l+d%x,0))),u=Sn(d/x);m.push(An(jn(u,0))),s=kn(n,f,r==i),n=0,++r}++n,++e}return m.join("")}function In(t){return Fn(t,(function(t){return gn.test(t)?Tn(t.slice(4).toLowerCase()):t}))}function Mn(t){return Fn(t,(function(t){return vn.test(t)?"xn--"+Pn(t):t}))}var Nn="1.4.1",Bn={decode:On,encode:Ln},zn={version:Nn,ucs2:Bn,toASCII:Mn,toUnicode:In,encode:Pn,decode:Tn},Dn=Qe(Object.freeze({__proto__:null,decode:Tn,encode:Pn,toUnicode:In,toASCII:Mn,version:Nn,ucs2:Bn,default:zn}));function Rn(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var Wn=un;Rn.queryString=Wn,Rn.prototype.parse=function(t,e,n,r){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);for(var i=0,s=t.length-1;t.charCodeAt(i)<=32;)i++;for(;t.charCodeAt(s)<=32;)s--;if(i=this._parseProtocol(t,i,s),"javascript"!==this._protocol){i=this._parseHost(t,i,s,n);var o=this._protocol;!this.hostname&&(this.slashes||o&&!tr[o])&&(this.hostname=this.host="")}if(i<=s){var a=t.charCodeAt(i);47===a||92===a?this._parsePath(t,i,s,r):63===a?this._parseQuery(t,i,s,r):35===a?this._parseHash(t,i,s,r):"javascript"!==this._protocol?this._parsePath(t,i,s,r):this.pathname=t.slice(i,s+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),e){var u=this.search;null==u&&(u=this.search=""),63===u.charCodeAt(0)&&(u=u.slice(1)),this.query=Rn.queryString.parse(u)}},Rn.prototype.resolve=function(t){return this.resolveObject(Rn.parse(t,!1,!0)).format()},Rn.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=this.search||"",s="",o=this.hostname||"",a=this.port||"",u=!1,c="",l=this.query;l&&"object"==typeof l&&(s=Rn.queryString.stringify(l)),i||(i=s?"?"+s:""),e&&58!==e.charCodeAt(e.length-1)&&(e+=":"),this.host?u=t+this.host:o&&(o.indexOf(":")>-1&&(o="["+o+"]"),u=t+o+(a?":"+a:""));var h=this.slashes||(!e||tr[e])&&!1!==u;return e?c=e+(h?"//":""):h&&(c="//"),h&&n&&47!==n.charCodeAt(0)&&(n="/"+n),i&&63!==i.charCodeAt(0)&&(i="?"+i),r&&35!==r.charCodeAt(0)&&(r="#"+r),c+(!1===u?"":u)+(n=qn(n))+(i=$n(i))+r},Rn.prototype.resolveObject=function(t){"string"==typeof t&&(t=Rn.parse(t,!1,!0));var e=this._clone();if(e.hash=t.hash,!t.href)return e._href="",e;if(t.slashes&&!t._protocol)return t._copyPropsTo(e,!0),tr[e._protocol]&&e.hostname&&!e.pathname&&(e.pathname="/"),e._href="",e;if(t._protocol&&t._protocol!==e._protocol){if(!tr[t._protocol])return t._copyPropsTo(e,!1),e._href="",e;if(e._protocol=t._protocol,t.host||"javascript"===t._protocol)e.pathname=t.pathname;else{for(var n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),e.pathname=n.join("/")}return e.search=t.search,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e._port=t._port,e.slashes=e.slashes||t.slashes,e._href="",e}var r=e.pathname&&47===e.pathname.charCodeAt(0),i=t.host||t.pathname&&47===t.pathname.charCodeAt(0),s=i||r||e.host&&t.pathname,o=s,a=e.pathname&&e.pathname.split("/")||[],u=(n=t.pathname&&t.pathname.split("/")||[],e._protocol&&!tr[e._protocol]);if(u&&(e.hostname="",e._port=-1,e.host&&(""===a[0]?a[0]=e.host:a.unshift(e.host)),e.host="",t._protocol&&(t.hostname="",t._port=-1,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=""),s=s&&(""===n[0]||""===a[0])),i)e.host=t.host?t.host:e.host,e.hostname=t.hostname?t.hostname:e.hostname,e.search=t.search,a=n;else if(n.length)a||(a=[]),a.pop(),a=a.concat(n),e.search=t.search;else if(t.search)return u&&(e.hostname=e.host=a.shift(),(f=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=f.shift(),e.host=e.hostname=f.shift())),e.search=t.search,e._href="",e;if(!a.length)return e.pathname=null,e._href="",e;for(var c=a.slice(-1)[0],l=(e.host||t.host)&&("."===c||".."===c)||""===c,h=0,p=a.length;p>=0;p--)"."===(c=a[p])?a.splice(p,1):".."===c?(a.splice(p,1),h++):h&&(a.splice(p,1),h--);if(!s&&!o)for(;h--;h)a.unshift("..");!s||""===a[0]||a[0]&&47===a[0].charCodeAt(0)||a.unshift(""),l&&"/"!==a.join("/").substr(-1)&&a.push("");var f,x=""===a[0]||a[0]&&47===a[0].charCodeAt(0);return u&&(e.hostname=e.host=x?"":a.length?a.shift():"",(f=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=f.shift(),e.host=e.hostname=f.shift())),(s=s||e.host&&a.length)&&!x&&a.unshift(""),e.pathname=0===a.length?null:a.join("/"),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e._href="",e};var Un=Dn;Rn.prototype._hostIdna=function(t){return Un.toASCII(t)};var qn=Rn.prototype._escapePathName=function(t){return Hn(t,35,63)?function(t){return t.replace(/[?#]/g,(function(t){return encodeURIComponent(t)}))}(t):t},$n=Rn.prototype._escapeSearch=function(t){return Hn(t,35,-1)?function(t){return t.replace(/#/g,(function(t){return encodeURIComponent(t)}))}(t):t};function Hn(t,e,n){for(var r=0,i=t.length;r<i;++r){var s=t.charCodeAt(r);if(s===e||s===n)return!0}return!1}function Vn(t){var e=new Uint8Array(128);return t.forEach((function(t){if("number"==typeof t)e[t]=1;else for(var n=t[0],r=t[1],i=n;i<=r;++i)e[i]=1})),e}Rn.prototype._parseProtocol=function(t,e,n){for(var r=!1,i=this._protocolCharacters,s=e;s<=n;++s){var o=t.charCodeAt(s);if(58===o){var a=t.slice(e,s);return r&&(a=a.toLowerCase()),this._protocol=a,s+1}if(1!==i[o])return e;o<97&&(r=!0)}return e},Rn.prototype._parseAuth=function(t,e,n,r){var i=t.slice(e,n+1);r&&(i=decodeURIComponent(i)),this.auth=i},Rn.prototype._parsePort=function(t,e,n){for(var r=0,i=!1,s=!0,o=e;o<=n;++o){var a=t.charCodeAt(o);if(!(48<=a&&a<=57)){s=!1,92!==a&&47!==a||(s=!0);break}r=10*r+(a-48),i=!0}return 0===r&&!i||!s?(s||(this._port=-2),0):(this._port=r,o-e)},Rn.prototype._parseHost=function(t,e,n,r){var i=this._hostEndingCharacters,s=t.charCodeAt(e),o=t.charCodeAt(e+1);if(47!==s&&92!==s||47!==o&&92!==o){if(!this._protocol||tr[this._protocol])return e}else{if(this.slashes=!0,0===e){if(n<2)return e;var a=function(t,e,n,r){for(var i=t.length,s=2;s<i;++s){var o=t.charCodeAt(s);if(64===o)return!0;if(1===r[o])return!1}return!1}(t,0,0,i);if(!a&&!r)return this.slashes=null,e}e+=2}for(var u=!1,c=!1,l=e,h=n,p=0,f=0,x=!1,d=-1,m=e;m<=n;++m)if(64===(g=t.charCodeAt(m)))d=m;else if(37===g)x=!0;else if(1===i[g])break;if(d>-1&&(this._parseAuth(t,e,d-1,x),e=l=d+1),91===t.charCodeAt(e)){for(m=e+1;m<=n;++m)if(93===(g=t.charCodeAt(m))){58===t.charCodeAt(m+1)&&(p=this._parsePort(t,m+2,n)+1);var b=t.slice(e+1,m).toLowerCase();return this.hostname=b,this.host=this._port>0?"["+b+"]:"+this._port:"["+b+"]",this.pathname="/",m+p+1}return e}for(m=e;m<=n;++m){if(f>62)return this.hostname=this.host=t.slice(e,m),m;var g;if(58===(g=t.charCodeAt(m))){p=this._parsePort(t,m+1,n)+1,h=m-1;break}if(g<97){if(46===g)f=-1;else if(65<=g&&g<=90)u=!0;else if(!(45===g||95===g||43===g||48<=g&&g<=57)){0===i[g]&&0===this._noPrependSlashHostEnders[g]&&(this._prependSlash=!0),h=m-1;break}}else if(g>=123){if(g<=126){0===this._noPrependSlashHostEnders[g]&&(this._prependSlash=!0),h=m-1;break}c=!0}f++}return h+1!==e&&h-l<=256&&(b=t.slice(l,h+1),u&&(b=b.toLowerCase()),c&&(b=this._hostIdna(b)),this.hostname=b,this.host=this._port>0?b+":"+this._port:b),h+1+p},Rn.prototype._copyPropsTo=function(t,e){e||(t._protocol=this._protocol),t._href=this._href,t._port=this._port,t._prependSlash=this._prependSlash,t.auth=this.auth,t.slashes=this.slashes,t.host=this.host,t.hostname=this.hostname,t.hash=this.hash,t.search=this.search,t.pathname=this.pathname},Rn.prototype._clone=function(){var t=new Rn;return t._protocol=this._protocol,t._href=this._href,t._port=this._port,t._prependSlash=this._prependSlash,t.auth=this.auth,t.slashes=this.slashes,t.host=this.host,t.hostname=this.hostname,t.hash=this.hash,t.search=this.search,t.pathname=this.pathname,t},Rn.prototype._getComponentEscaped=function(t,e,n,r){for(var i=e,s=e,o="",a=r?this._afterQueryAutoEscapeMap:this._autoEscapeMap;s<=n;++s){var u=a[t.charCodeAt(s)];""!==u&&void 0!==u&&(i<s&&(o+=t.slice(i,s)),o+=u,i=s+1)}return i<s+1&&(o+=t.slice(i,s)),o},Rn.prototype._parsePath=function(t,e,n,r){for(var i,s=e,o=n,a=!1,u=this._autoEscapeCharacters,c=-2===this._port?"/:":"",l=e;l<=n;++l){var h=t.charCodeAt(l);if(35===h){this._parseHash(t,l,n,r),o=l-1;break}if(63===h){this._parseQuery(t,l,n,r),o=l-1;break}r||a||1!==u[h]||(a=!0)}s>o?this.pathname=""===c?"/":c:(i=a?this._getComponentEscaped(t,s,o,!1):t.slice(s,o+1),this.pathname=""===c?this._prependSlash?"/"+i:i:c+i)},Rn.prototype._parseQuery=function(t,e,n,r){for(var i,s=e,o=n,a=!1,u=this._autoEscapeCharacters,c=e;c<=n;++c){var l=t.charCodeAt(c);if(35===l){this._parseHash(t,c,n,r),o=c-1;break}r||a||1!==u[l]||(a=!0)}s>o?this.search="":(i=a?this._getComponentEscaped(t,s,o,!0):t.slice(s,o+1),this.search=i)},Rn.prototype._parseHash=function(t,e,n,r){this.hash=e>n?"":r?t.slice(e,n+1):this._getComponentEscaped(t,e,n,!0)},Object.defineProperty(Rn.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(t){this._port=null==t?-1:parseInt(t,10)}}),Object.defineProperty(Rn.prototype,"query",{get:function(){var t=this._query;if(null!=t)return t;var e=this.search;return e&&(63===e.charCodeAt(0)&&(e=e.slice(1)),""!==e)?(this._query=e,e):e},set:function(t){this._query=t}}),Object.defineProperty(Rn.prototype,"path",{get:function(){var t=this.pathname||"",e=this.search||"";return t||e?t+e:null==t&&e?"/"+e:null},set:function(){}}),Object.defineProperty(Rn.prototype,"protocol",{get:function(){var t=this._protocol;return t?t+":":t},set:function(t){if("string"==typeof t){var e=t.length-1;58===t.charCodeAt(e)?this._protocol=t.slice(0,e):this._protocol=t}else null==t&&(this._protocol=null)}}),Object.defineProperty(Rn.prototype,"href",{get:function(){var t=this._href;return t||(t=this._href=this.format()),t},set:function(t){this._href=t}}),Rn.parse=function(t,e,n,r){if(t instanceof Rn)return t;var i=new Rn;return i.parse(t,!!e,!!n,!!r),i},Rn.format=function(t){return"string"==typeof t&&(t=Rn.parse(t)),t instanceof Rn?t.format():Rn.prototype.format.call(t)},Rn.resolve=function(t,e){return Rn.parse(t,!1,!0).resolve(e)},Rn.resolveObject=function(t,e){return t?Rn.parse(t,!1,!0).resolveObject(e):e};for(var Gn=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],Jn=new Array(128),Zn=0,Kn=Jn.length;Zn<Kn;++Zn)Jn[Zn]="";for(Zn=0,Kn=Gn.length;Zn<Kn;++Zn){var Yn=Gn[Zn],Qn=encodeURIComponent(Yn);Qn===Yn&&(Qn=escape(Yn)),Jn[Yn.charCodeAt(0)]=Qn}var Xn=Jn.slice();Jn[92]="/";var tr=Rn.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};Rn.prototype._protocolCharacters=Vn([[97,122],[65,90],46,43,45]),Rn.prototype._hostEndingCharacters=Vn([35,63,47,92]),Rn.prototype._autoEscapeCharacters=Vn(Gn.map((function(t){return t.charCodeAt(0)}))),Rn.prototype._noPrependSlashHostEnders=Vn(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map((function(t){return t.charCodeAt(0)}))),Rn.prototype._autoEscapeMap=Jn,Rn.prototype._afterQueryAutoEscapeMap=Xn;var er=Rn;Rn.replace=function(){require.cache.url={exports:Rn}},er.format;var nr=er.parse;er.queryString,er.replace,er.resolve,er.resolveObject;var rr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ir={},sr={},or={};Object.defineProperty(or,"__esModule",{value:!0}),or.fromHex=or.toHex=void 0;const ar=t=>new Number(t).toString(16).toLowerCase();or.toHex=t=>`0x${1===ar(t).length?"0"+ar(t):ar(t)}`,or.fromHex=t=>new Number(t);var ur={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createComplexNode=t.createNode=t.merge=void 0;const e=t=>({typename:t.typename,mime:t.info.mime,extension:t.info.extension}),n=t=>t[0],r=t=>t.slice(1,t.length);t.merge=(i,s)=>{if(0===i.bytes.length)return s;const o=n(i.bytes),a=r(i.bytes);if(((t,e)=>t&&0===e.length)(s.bytes[o],a)){const t=s.bytes[o];return s.bytes[o]={...t,matches:[...t.matches?t.matches:[],e(i)]},s}return s.bytes[o]?(s.bytes[o]=t.merge(t.createNode(i.typename,a,i.info),s.bytes[o]),s):(s.bytes[o]||(s.bytes[o]={...s.bytes[o],...t.createComplexNode(i.typename,a,i.info)}),s)},t.createNode=(t,e,n)=>({typename:t,bytes:e,info:n||{}}),t.createComplexNode=(i,s,o)=>{let a={bytes:{},matches:void 0};const u=n(s),c=r(s);return 0===s.length?{matches:[e({typename:i,info:o?{extension:o.extension,mime:o.mime}:{}})],bytes:{}}:(a.bytes[u]=t.createComplexNode(i,c,o),a)}}(ur),Object.defineProperty(sr,"__esModule",{value:!0});const cr=or,lr=ur;let hr={noOffset:null,offset:{}};const pr=(t,e,n,r)=>{if(r){const i=hr.offset[cr.toHex(r)];if(i){const s=lr.merge(lr.createNode(t,e.map((t=>t.toLowerCase())),n),{...i});hr.offset[cr.toHex(r)]=s}else hr.offset[cr.toHex(r)]=lr.createComplexNode(t,e.map((t=>t.toLowerCase())),n)}else null===hr.noOffset?hr.noOffset=lr.createComplexNode(t,e.map((t=>t.toLowerCase())),n):hr.noOffset=lr.merge(lr.createNode(t,e.map((t=>t.toLowerCase())),n),hr.noOffset)};function fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xr(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}pr("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),pr("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),pr("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),pr("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),pr("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),pr("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),pr("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),pr("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),pr("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),pr("rpm",["0xed","0xab","0xee","0xdb"]),pr("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),pr("pic",["0x00"]),pr("pif",["0x00"]),pr("sea",["0x00"]),pr("ytr",["0x00"]),pr("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),pr("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),pr("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),pr("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),pr("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),pr("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),pr("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),pr("dba",["0xBE","0xBA","0xFE","0xCA"]),pr("dba2",["0x00","0x01","0x42","0x44"]),pr("tda",["0x00","0x01","0x44","0x54"]),pr("tda2",["0x00","0x01","0x00","0x00"]),pr("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),pr("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),pr("z",["0x1F","0x9D"]),pr("tar.z",["0x1F","0xA0"]),pr("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),pr("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),pr("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),pr("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),pr("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),pr("cin",["0x80","0x2A","0x5F","0xD7"]),pr("cin1",["0x52","0x4E","0x43","0x01"]),pr("cin2",["0x52","0x4E","0x43","0x02"]),pr("dpx",["0x53","0x44","0x50","0x58"]),pr("dpx2",["0x58","0x50","0x44","0x53"]),pr("exr",["0x76","0x2F","0x31","0x01"]),pr("bpg",["0x42","0x50","0x47","0xFB"]),pr("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),pr("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),pr("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),pr("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),pr("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),pr("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),pr("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),pr("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),pr("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),pr("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),pr("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),pr("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),pr("idx",["0x49","0x4E","0x44","0x58"]),pr("lz",["0x4C","0x5A","0x49","0x50"]),pr("exe",["0x4D","0x5A"]),pr("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),pr("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),pr("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),pr("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),pr("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),pr("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),pr("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),pr("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),pr("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),pr("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),pr("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),pr("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),pr("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),pr("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),pr("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),pr("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),pr("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),pr("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),pr("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),pr("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),pr("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),pr("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),pr("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),pr("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),pr("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),pr("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),pr("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),pr("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),pr("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),pr("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),pr("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),pr("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),pr("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),pr("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),pr("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),pr("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),pr("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),pr("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),pr("class",["0xCA","0xFE","0xBA","0xBE"]),pr("class",["0xEF","0xBB","0xBF"]),pr("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),pr("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),pr("class",["0xCE","0xFA","0xed","0xFE"]),pr("class",["0xCF","0xFA","0xed","0xFE"]),pr("class",["0xFF","0xFE"]),pr("class",["0xFF","0xFE"]),pr("class",["0xFF","0xFE","0x00","0x00"]),pr("ps",["0x25","0x21","0x50","0x53"]),pr("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),pr("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),pr("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),pr("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),pr("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),pr("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),pr("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),pr("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),pr("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),pr("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),pr("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),pr("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),pr("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),pr("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),pr("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),pr("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),pr("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),pr("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),pr("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),pr("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),pr("iso",["0x43","0x44","0x30","0x30","0x31"]),pr("flac",["0x66","0x4C","0x61","0x43"]),pr("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),pr("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),pr("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),pr("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),pr("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),pr("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),pr("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),pr("vmdk",["0x4B","0x44","0x4D"]),pr("crx",["0x43","0x72","0x32","0x34"]),pr("fh8",["0x41","0x47","0x44","0x33"]),pr("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),pr("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),pr("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),pr("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),pr("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),pr("xar",["0x78","0x61","0x72","0x21"]),pr("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),pr("nes",["0x4E","0x45","0x53","0x1A"]),pr("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),pr("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),pr("tox",["0x74","0x6F","0x78","0x33"]),pr("mlv",["0x4D","0x4C","0x56","0x49"]),pr("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),pr("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),pr("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),pr("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),pr("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),pr("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),pr("lz2",["0x04","0x22","0x4D","0x18"]),pr("cab",["0x4D","0x53","0x43","0x46"]),pr("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),pr("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),pr("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),pr("mk3d",["0x1A","0x45","0xDF","0xA3"]),pr("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),pr("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),pr("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),pr("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),pr("lep",["0xCF","0x84","0x01"]),pr("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),pr("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),pr("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),pr("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),pr("m2p",["0x00","0x00","0x01","0xBA"]),pr("vob",["0x00","0x00","0x01","0xBA"]),pr("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),pr("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),pr("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),pr("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),pr("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),pr("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),pr("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),pr("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),pr("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),pr("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),pr("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),pr("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),pr("Json",["0x7B"],{mime:"application/json",extension:".json"}),pr("Json",["0x5B"],{mime:"application/json",extension:".json"}),pr("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),pr("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),pr("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),pr("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),sr.default=()=>hr,function(t){var e=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.filetypeextension=t.filetypemime=t.filetypename=t.filetypeinfo=void 0;const n=e(sr),r=or,i=n.default();t.filetypeinfo=t=>{let e=i;for(const n of Object.keys(e.offset)){const e=r.fromHex(n);if(e>=t.length)continue;const o=i.offset[n],a=s(e,t,o);if(a.length>0)return a}return null===e.noOffset?[]:s(0,t,e.noOffset)};const s=(t,e,n)=>{let i=n,s=[];for(;;){const n=r.toHex(e[t]);if(i=i.bytes["?"]&&!i.bytes[n]?i.bytes["?"]:i.bytes[n],!i)return s;i&&i.matches&&(s=i.matches.slice(0)),t+=1}};t.default=t.filetypeinfo,t.filetypename=e=>t.filetypeinfo(e).map((t=>t.typename)),t.filetypemime=e=>t.filetypeinfo(e).map((t=>t.mime?t.mime:null)).filter((t=>null!==t)),t.filetypeextension=e=>t.filetypeinfo(e).map((t=>t.extension?t.extension:null)).filter((t=>null!==t))}(ir);var dr,mr={exports:{}},br="object"==typeof Reflect?Reflect:null,gr=br&&"function"==typeof br.apply?br.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};dr=br&&"function"==typeof br.ownKeys?br.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var vr=Number.isNaN||function(t){return t!=t};function yr(){yr.init.call(this)}mr.exports=yr,mr.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,s),r(n)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}jr(t,e,s,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&jr(t,"error",e,n)}(t,i,{once:!0})}))},yr.EventEmitter=yr,yr.prototype._events=void 0,yr.prototype._eventsCount=0,yr.prototype._maxListeners=void 0;var wr=10;function _r(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Sr(t){return void 0===t._maxListeners?yr.defaultMaxListeners:t._maxListeners}function Ar(t,e,n,r){var i,s,o,a;if(_r(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),void 0===o)o=s[e]=n,++t._eventsCount;else if("function"==typeof o?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=Sr(t))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return t}function Er(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Cr(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Er.bind(r);return i.listener=n,r.wrapFn=i,i}function Fr(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):Lr(i,i.length)}function Or(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Lr(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function jr(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){r.once&&t.removeEventListener(e,i),n(s)}))}}Object.defineProperty(yr,"defaultMaxListeners",{enumerable:!0,get:function(){return wr},set:function(t){if("number"!=typeof t||t<0||vr(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");wr=t}}),yr.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yr.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||vr(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},yr.prototype.getMaxListeners=function(){return Sr(this)},yr.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)gr(a,this,e);else{var u=a.length,c=Lr(a,u);for(n=0;n<u;++n)gr(c[n],this,e)}return!0},yr.prototype.addListener=function(t,e){return Ar(this,t,e,!1)},yr.prototype.on=yr.prototype.addListener,yr.prototype.prependListener=function(t,e){return Ar(this,t,e,!0)},yr.prototype.once=function(t,e){return _r(e),this.on(t,Cr(this,t,e)),this},yr.prototype.prependOnceListener=function(t,e){return _r(e),this.prependListener(t,Cr(this,t,e)),this},yr.prototype.removeListener=function(t,e){var n,r,i,s,o;if(_r(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},yr.prototype.off=yr.prototype.removeListener,yr.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},yr.prototype.listeners=function(t){return Fr(this,t,!0)},yr.prototype.rawListeners=function(t){return Fr(this,t,!1)},yr.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Or.call(t,e)},yr.prototype.listenerCount=Or,yr.prototype.eventNames=function(){return this._eventsCount>0?dr(this._events):[]};var kr=mr.exports,Tr="function"==typeof queueMicrotask?queueMicrotask:t=>Promise.resolve().then(t);const Pr=class{constructor(t){if(!(t>0)||0!=(t-1&t))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};const{EventEmitter:Ir}=kr,Mr=new Error("Stream was destroyed"),Nr=new Error("Premature close"),Br=Tr,zr=class{constructor(t){this.hwm=t||16,this.head=new Pr(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){const e=this.head;this.head=e.next=new Pr(2*this.head.buffer.length),this.head.push(t)}}shift(){0!==this.length&&this.length--;const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){const t=this.tail.peek();return void 0===t&&this.tail.next?this.tail.next.peek():t}isEmpty(){return 0===this.length}},Dr=134217727,Rr=1^Dr,Wr=64,Ur=128,qr=256,$r=1024,Hr=2048,Vr=4096,Gr=8192,Jr=16384,Zr=32768,Kr=768^Dr,Yr=134184959,Qr=1<<17,Xr=2<<17,ti=4<<17,ei=8<<17,ni=16<<17,ri=32<<17,ii=64<<17,si=128<<17,oi=256<<17,ai=512<<17,ui=100532223,ci=133693439,li=117440511,hi=131088,pi=134086639,fi=4210688,xi=14,di=15,mi=4210702,bi=16809984,gi=16809999,vi=1179648,yi=1179663,wi=Symbol.asyncIterator||Symbol("asyncIterator");class _i{constructor(t,{highWaterMark:e=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:s}={}){this.stream=t,this.queue=new zr,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||i||Hi,this.map=r||n,this.afterWrite=Li.bind(this),this.afterUpdateNextTick=Ti.bind(this)}get ended(){return 0!=(this.stream._duplexState&ri)}push(t){return null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=ei,!0):(this.stream._duplexState|=3145728,!1)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=133169151),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=(this.stream._duplexState|ai)&ci}autoBatch(t,e){const n=[],r=this.stream;for(n.push(t);(r._duplexState&yi)===vi;)n.push(r._writableState.shift());if(0!=(r._duplexState&di))return e(null);r._writev(n,e)}update(){const t=this.stream;t._duplexState|=Xr;do{for(;(t._duplexState&yi)===ei;){const e=this.shift();t._duplexState|=33685504,t._write(e,this.afterWrite)}0==(655360&t._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=133955583}updateNonPrimary(){const t=this.stream;if((72482831&t._duplexState)===ai)return t._duplexState=67108863&(t._duplexState|Qr),void t._final(Fi.bind(this));4!=(t._duplexState&xi)?1==(t._duplexState&gi)&&(t._duplexState=(t._duplexState|hi)&Rr,t._open(Pi.bind(this))):0==(t._duplexState&bi)&&(t._duplexState|=hi,t._destroy(Oi.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&si)&&(this.stream._duplexState&=li,!0)}updateCallback(){(17563663&this.stream._duplexState)===ti?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&si)&&(this.stream._duplexState|=si,0==(this.stream._duplexState&Xr)&&Br(this.afterUpdateNextTick))}}class Si{constructor(t,{highWaterMark:e=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:s}={}){this.stream=t,this.queue=new zr,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||i||Hi,this.map=r||n,this.pipeTo=null,this.afterRead=ji.bind(this),this.afterUpdateNextTick=ki.bind(this)}get ended(){return 0!=(this.stream._duplexState&Jr)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=512,this.pipeTo=t,this.pipeline=new Ei(this.stream,t,e),e&&this.stream.on("error",Vi),$i(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",Vi),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{const e=this.pipeline.done.bind(this.pipeline,t),n=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",n),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",Ci.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=134152127&(e._duplexState|$r),!1):(null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=134152191&(e._duplexState|Ur),this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=134209407),t}unshift(t){const e=[null!==this.map?this.map(t):t];for(;this.buffered>0;)e.push(this.shift());for(let t=0;t<e.length-1;t++){const n=e[t];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(e[e.length-1])}read(){const t=this.stream;if((16527&t._duplexState)===Ur){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=Kr),0!=(t._duplexState&Hr)&&t.emit("data",e),e}return null}drain(){const t=this.stream;for(;(16527&t._duplexState)===Ur&&0!=(768&t._duplexState);){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=Kr),0!=(t._duplexState&Hr)&&t.emit("data",e)}}update(){const t=this.stream;t._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&t._duplexState);)t._duplexState|=65552,t._read(this.afterRead),this.drain();4224==(12431&t._duplexState)&&(t._duplexState|=Gr,t.emit("readable")),0==(80&t._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=134217695}updateNonPrimary(){const t=this.stream;(1167&t._duplexState)===$r&&(t._duplexState=134216703&(t._duplexState|Jr),t.emit("end"),(t._duplexState&mi)===fi&&(t._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(t._duplexState&xi)?1==(t._duplexState&gi)&&(t._duplexState=(t._duplexState|hi)&Rr,t._open(Pi.bind(this))):0==(t._duplexState&bi)&&(t._duplexState|=hi,t._destroy(Oi.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&Zr)&&(this.stream._duplexState&=Yr,!0)}updateCallback(){(32879&this.stream._duplexState)===Wr?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&Zr)&&(this.stream._duplexState|=Zr,0==(32&this.stream._duplexState)&&Br(this.afterUpdateNextTick))}}class Ai{constructor(t){this.data=null,this.afterTransform=Ii.bind(t),this.afterFinal=null}}class Ei{constructor(t,e,n){this.from=t,this.to=e,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(t._duplexState&Jr)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&Jr)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function Ci(){this.stream._duplexState|=512,this.updateCallback()}function Fi(t){const e=this.stream;t&&e.destroy(t),0==(e._duplexState&xi)&&(e._duplexState|=ri,e.emit("finish")),(e._duplexState&mi)===fi&&(e._duplexState|=4),e._duplexState&=ui,0==(e._duplexState&Xr)?this.update():this.updateNextTick()}function Oi(t){const e=this.stream;t||this.error===Mr||(t=this.error),t&&e.emit("error",t),e._duplexState|=8,e.emit("close");const n=e._readableState,r=e._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(e,t),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(e,t)}}function Li(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=ui,null!==this.drains&&function(t){for(let e=0;e<t.length;e++)0==--t[e].writes&&(t.shift().resolve(!0),e--)}(this.drains),(3276815&e._duplexState)===ni&&(e._duplexState&=132120575,(e._duplexState&ii)===ii&&e.emit("drain")),this.updateCallback()}function ji(t){t&&this.stream.destroy(t),this.stream._duplexState&=134217711,this.updateCallback()}function ki(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=Yr,this.update())}function Ti(){0==(this.stream._duplexState&Xr)&&(this.stream._duplexState&=li,this.update())}function Pi(t){const e=this.stream;t&&e.destroy(t),0==(4&e._duplexState)&&(0==(17423&e._duplexState)&&(e._duplexState|=Wr),0==(71303183&e._duplexState)&&(e._duplexState|=ti),e.emit("open")),e._duplexState&=pi,null!==e._writableState&&e._writableState.updateCallback(),null!==e._readableState&&e._readableState.updateCallback()}function Ii(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t)}function Mi(t){null!==this._readableState&&("data"===t&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=Vr,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=ii,this._writableState.updateNextTick())}class Ni extends Ir{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",Gi.bind(this))),this.on("newListener",Mi)}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(this._duplexState&xi)}destroy(t){0==(this._duplexState&xi)&&(t||(t=Mr),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=t),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class Bi extends Ni{constructor(t){super(t),this._duplexState|=4194305,this._readableState=new Si(this,t),t&&(t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick())}_read(t){t(null)}pipe(t,e){return this._readableState.updateNextTick(),this._readableState.pipe(t,e),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=qr,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(t,e){let n;const r=new Bi({...e,read(e){t.next().then(i).then(e.bind(null,null)).catch(e)},predestroy(){n=t.return()},destroy(t){if(!n)return t(null);n.then(t.bind(null,null)).catch(t)}});return r;function i(t){t.done?r.push(null):r.push(t.value)}}static from(t,e){if($i(n=t)&&n.readable)return t;var n;if(t[wi])return this._fromAsyncIterator(t[wi](),e);Array.isArray(t)||(t=void 0===t?[]:[t]);let r=0;return new Bi({...e,read(e){this.push(r===t.length?null:t[r++]),e(null)}})}static isBackpressured(t){return 0!=(17422&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return 0==(t._duplexState&qr)}[wi](){const t=this;let e=null,n=null,r=null;return this.on("error",(t=>{e=t})),this.on("readable",(function(){null!==n&&i(t.read())})),this.on("close",(function(){null!==n&&i(null)})),{[wi](){return this},next:()=>new Promise((function(e,s){n=e,r=s;const o=t.read();null!==o?i(o):0!=(8&t._duplexState)&&i(null)})),return:()=>s(null),throw:t=>s(t)};function i(i){null!==r&&(e?r(e):null===i&&0==(t._duplexState&Jr)?r(Mr):n({value:i,done:null===i}),r=n=null)}function s(e){return t.destroy(e),new Promise(((n,r)=>{if(8&t._duplexState)return n({value:void 0,done:!0});t.once("close",(function(){e?r(e):n({value:void 0,done:!0})}))}))}}}class zi extends Ni{constructor(t){super(t),this._duplexState|=16385,this._writableState=new _i(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}static isBackpressured(t){return 0!=(73400334&t._duplexState)}static drained(t){if(t.destroyed)return Promise.resolve(!1);const e=t._writableState,n=function(t){return t._writev!==zi.prototype._writev&&t._writev!==Di.prototype._writev}(t)?Math.min(1,e.queue.length):e.queue.length,r=n+(t._duplexState&oi?1:0);return 0===r?Promise.resolve(!0):(null===e.drains&&(e.drains=[]),new Promise((t=>{e.drains.push({writes:r,resolve:t})})))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}class Di extends Bi{constructor(t){super(t),this._duplexState=1,this._writableState=new _i(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}class Ri extends Di{constructor(t){super(t),this._transformState=new Ai(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform)}else t(null)}destroy(t){super.destroy(t),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(t,e){e(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(Wi.bind(this))}}function Wi(t,e){const n=this._transformState.afterFinal;if(t)return n(t);null!=e&&this.push(e),this.push(null),n(null)}function Ui(t,...e){const n=Array.isArray(t)?[...t,...e]:[t,...e],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,o=null;for(let t=1;t<n.length;t++)s=n[t],$i(i)?i.pipe(s,u):(a(i,!0,t>1,u),i.pipe(s)),i=s;if(r){let t=!1;const e=$i(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(t=>{null===o&&(o=t)})),s.on("finish",(()=>{t=!0,e||r(o)})),e&&s.on("close",(()=>r(o||(t?null:Nr))))}return s;function a(t,e,n,r){t.on("error",r),t.on("close",(function(){if(e&&t._readableState&&!t._readableState.ended)return r(Nr);if(n&&t._writableState&&!t._writableState.ended)return r(Nr)}))}function u(t){if(t&&!o){o=t;for(const e of n)e.destroy(t)}}}function qi(t){return!!t._readableState||!!t._writableState}function $i(t){return"number"==typeof t._duplexState&&qi(t)}function Hi(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function Vi(){}function Gi(){this.destroy(new Error("Stream aborted."))}var Ji={pipeline:Ui,pipelinePromise:function(...t){return new Promise(((e,n)=>Ui(...t,(t=>{if(t)return n(t);e()}))))},isStream:qi,isStreamx:$i,getStreamError:function(t){const e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===Mr?null:e},Stream:Ni,Writable:zi,Readable:Bi,Duplex:Di,Transform:Ri,PassThrough:class extends Ri{}},Zi={exports:{}};function Ki(t){return t.length}var Yi={byteLength:Ki,toString:function(t){const e=t.byteLength;let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},write:function(t,e,n=0,r=Ki(e)){const i=Math.min(r,t.byteLength-n);for(let r=0;r<i;r++)t[n+r]=e.charCodeAt(r);return i}};const Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xi=new Uint8Array(256);for(let t=0;t<64;t++)Xi[Qi.charCodeAt(t)]=t;function ts(t){let e=t.length;return 61===t.charCodeAt(e-1)&&e--,e>1&&61===t.charCodeAt(e-1)&&e--,3*e>>>2}Xi[45]=62,Xi[95]=63;var es={byteLength:ts,toString:function(t){const e=t.byteLength;let n="";for(let r=0;r<e;r+=3)n+=Qi[t[r]>>2]+Qi[(3&t[r])<<4|t[r+1]>>4]+Qi[(15&t[r+1])<<2|t[r+2]>>6]+Qi[63&t[r+2]];return e%3==2?n=n.substring(0,n.length-1)+"=":e%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(t,e,n=0,r=ts(e)){const i=Math.min(r,t.byteLength-n);for(let n=0,r=0;r<i;n+=4){const i=Xi[e.charCodeAt(n)],s=Xi[e.charCodeAt(n+1)],o=Xi[e.charCodeAt(n+2)],a=Xi[e.charCodeAt(n+3)];t[r++]=i<<2|s>>4,t[r++]=(15&s)<<4|o>>2,t[r++]=(3&o)<<6|63&a}return i}};function ns(t){return t.length>>>1}var rs={byteLength:ns,toString:function(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let n="",r=0;for(let i=e-e%4;r<i;r+=4)n+=t.getUint32(r).toString(16).padStart(8,"0");for(;r<e;r++)n+=t.getUint8(r).toString(16).padStart(2,"0");return n},write:function(t,e,n=0,r=ns(e)){const i=Math.min(r,t.byteLength-n);for(let r=0;r<i;r++){const i=is(e.charCodeAt(2*r)),s=is(e.charCodeAt(2*r+1));if(void 0===i||void 0===s)return t.subarray(0,r);t[n+r]=i<<4|s}return i}};function is(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:void 0}function ss(t){let e=0;for(let n=0,r=t.length;n<r;n++){const i=t.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=t.charCodeAt(n+1);if(r>=56320&&r<=57343){e+=4,n++;continue}}e+=i<=127?1:i<=2047?2:3}return e}let os,as;if("undefined"!=typeof TextDecoder){const t=new TextDecoder;os=function(e){return t.decode(e)}}else os=function(t){const e=t.byteLength;let n="",r=0;for(;r<e;){let i=t[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let s=0,o=0;if(i<=223?(s=1,o=31&i):i<=239?(s=2,o=15&i):i<=244&&(s=3,o=7&i),e-r-s>0){let e=0;for(;e<s;)i=t[r+e+1],o=o<<6|63&i,e+=1}else o=65533,s=e-r;n+=String.fromCodePoint(o),r+=s+1}return n};if("undefined"!=typeof TextEncoder){const t=new TextEncoder;as=function(e,n,r=0,i=ss(n)){const s=Math.min(i,e.byteLength-r);return t.encodeInto(n,e.subarray(r,r+s)),s}}else as=function(t,e,n=0,r=ss(e)){const i=Math.min(r,t.byteLength-n);t=t.subarray(n,n+i);let s=0,o=0;for(;s<e.length;){const n=e.codePointAt(s);if(n<=127){t[o++]=n,s++;continue}let r=0,i=0;for(n<=2047?(r=6,i=192):n<=65535?(r=12,i=224):n<=2097151&&(r=18,i=240),t[o++]=i|n>>r,r-=6;r>=0;)t[o++]=128|n>>r&63,r-=6;s+=n>=65536?2:1}return i};var us={byteLength:ss,toString:os,write:as};function cs(t){return 2*t.length}var ls={byteLength:cs,toString:function(t){const e=t.byteLength;let n="";for(let r=0;r<e-1;r+=2)n+=String.fromCharCode(t[r]+256*t[r+1]);return n},write:function(t,e,n=0,r=cs(e)){const i=Math.min(r,t.byteLength-n);let s=i;for(let r=0;r<e.length&&!((s-=2)<0);++r){const i=e.charCodeAt(r),s=i>>8,o=i%256;t[n+2*r]=o,t[n+2*r+1]=s}return i}};!function(t,e){const n=Yi,r=es,i=rs,s=us,o=ls,a=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(t){switch(t){case"ascii":return n;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o;default:throw new Error(`Unknown encoding: ${t}`)}}function c(t){return t instanceof Uint8Array}function l(t,e,n){return"string"==typeof t?function(t,e){const n=u(e),r=new Uint8Array(n.byteLength(t));return n.write(r,t,0,r.byteLength),r}(t,e):Array.isArray(t)?function(t){const e=new Uint8Array(t.length);return e.set(t),e}(t):ArrayBuffer.isView(t)?function(t){const e=new Uint8Array(t.byteLength);return e.set(t),e}(t):function(t,e,n){return new Uint8Array(t,e,n)}(t,e,n)}function h(t,e,n,r,i){if(0===t.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:t.length-1:n<0&&(n+=t.byteLength),n>=t.byteLength){if(i)return-1;n=t.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e)e=l(e,r);else if("number"==typeof e)return e&=255,i?t.indexOf(e,n):t.lastIndexOf(e,n);if(0===e.byteLength)return-1;if(i){let r=-1;for(let i=n;i<t.byteLength;i++)if(t[i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+e.byteLength>t.byteLength&&(n=t.byteLength-e.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<e.byteLength;i++)if(t[r+i]!==e[i]){n=!1;break}if(n)return r}}return-1}function p(t,e,n,r){return h(t,e,n,r,!0)}function f(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}t.exports=e={isBuffer:c,isEncoding:function(t){try{return u(t),!0}catch{return!1}},alloc:function(t,n,r){const i=new Uint8Array(t);return void 0!==n&&e.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(t){return new Uint8Array(t)},allocUnsafeSlow:function(t){return new Uint8Array(t)},byteLength:function(t,e){return u(e).byteLength(t)},compare:function(t,e){if(t===e)return 0;const n=Math.min(t.byteLength,e.byteLength);t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4){if(t.getUint32(r,a)!==e.getUint32(r,a))break}for(;r<n;r++){const n=t.getUint8(r),i=e.getUint8(r);if(n<i)return-1;if(n>i)return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0},concat:function(t,e){void 0===e&&(e=t.reduce(((t,e)=>t+e.byteLength),0));const n=new Uint8Array(e);let r=0;for(const e of t){if(r+e.byteLength>n.byteLength){const t=e.subarray(0,n.byteLength-r);return n.set(t,r),n}n.set(e,r),r+=e.byteLength}return n},copy:function(t,e,n=0,r=0,i=t.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===t.byteLength||0===e.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=t.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=e.byteLength&&(n=e.byteLength),i>t.byteLength&&(i=t.byteLength),e.byteLength-n<i-r&&(i=e.length-n+r);const s=i-r;return t===e?e.copyWithin(n,r,i):e.set(t.subarray(r,i),n),s},equals:function(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;const n=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(t.getUint32(r,a)!==e.getUint32(r,a))return!1;for(;r<n;r++)if(t.getUint8(r)!==e.getUint8(r))return!1;return!0},fill:function(t,e,n,r,i){if("string"==typeof e?"string"==typeof n?(i=n,n=0,r=t.byteLength):"string"==typeof r&&(i=r,r=t.byteLength):"number"==typeof e?e&=255:"boolean"==typeof e&&(e=+e),n<0||t.byteLength<n||t.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=t.byteLength),r<=n)return t;if(e||(e=0),"number"==typeof e)for(let i=n;i<r;++i)t[i]=e;else{const s=(e=c(e)?e:l(e,i)).byteLength;for(let i=0;i<r-n;++i)t[i+n]=e[i%s]}return t},from:l,includes:function(t,e,n,r){return-1!==p(t,e,n,r)},indexOf:p,lastIndexOf:function(t,e,n,r){return h(t,e,n,r,!1)},swap16:function(t){const e=t.byteLength;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)f(t,n,n+1);return t},swap32:function(t){const e=t.byteLength;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)f(t,n,n+3),f(t,n+1,n+2);return t},swap64:function(t){const e=t.byteLength;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)f(t,n,n+7),f(t,n+1,n+6),f(t,n+2,n+5),f(t,n+3,n+4);return t},toBuffer:function(t){return t},toString:function(t,e,n=0,r=t.byteLength){const i=t.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(t=t.subarray(n,r)),u(e).toString(t))},write:function(t,e,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),u(i).write(t,e,n,r)},writeDoubleLE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),n+8},writeFloatLE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),n+4},writeUInt32LE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(n,e,!0),n+4},writeInt32LE:function(t,e,n){return void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(n,e,!0),n+4},readDoubleLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},readFloatLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},readUInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(e,!0)},readInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getInt32(e,!0)}}}(Zi,Zi.exports);var hs=Zi.exports,ps=fr(hs);function fs(t,e,n={}){const{map:r,highWaterMark:i,...s}=n;let o=[];if(t.createReadStream)o.push(t.createReadStream(e,s));else if(t.get){const n=new Ji.Readable;o.push(n),Promise.resolve(t.get(e,s)).then((t=>{var e;if(null!=(e=t)&&"string"==typeof e.valueOf()&&(t=ps.from(t)),t&&ps.isBuffer(t)){const e=t.length;s.start??=0,s.length&&!s.end?s.end=s.length+(s.start??0):s.end?s.end+=1:s.end=e,t=t.slice(s.start,s.end),n.push(ps.from(t))}n.push(null)})).catch((t=>n.destroy(t)))}if(i&&o.push(function(t){let e=ps.alloc(0);const n=function(n,r){const i=ps.concat([e,n]),s=i.length%t;let o,a=0;for(;(o=a+t)<=i.length;){const e=i.subarray(a,o);this.push(e),a+=t}e=s>0?i.subarray(i.length-s,i.length):null,r()};return new Ji.Transform({transform:n,flush(t){e&&e.length&&this.push(e),t()}})}(i)),r&&o.push(new Ji.Transform({async transform(t,e){const n=this;await Promise.resolve(r(t)).then((t=>{n.push(t),e(null)})).catch((t=>{e(t)}))}})),0===o.length)throw new Error("createReadStream failed to infer from source.");return 1===o.length?o[0]:Ji.pipeline(...o)}"\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n".split("\n").map((t=>t.split(","))).filter((([t])=>""!==t)).map((([t,e,n,r])=>({name:t,mimeType:e,extension:n,description:r})));var xs=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};xs.now||xs.mozNow||xs.msNow||xs.oNow||xs.webkitNow;const ds=gs(!1),ms=gs(!0);ds.win32=ms,ms.posix=ds;var bs=ds;function gs(t){const e={};e.posix=e,e.win32=e;const n=e.sep=t?"\\":"/";return t?(e.isAbsolute=function(t){return 0!==t.length&&("\\"===t[0]||"/"===t[0]||2===t.length&&":"===t[1]||t.length>2&&":"===t[1]&&("\\"===t[2]||"/"===t[2]))},e.root=function(t){return 0===t.length?"":"\\"===t[0]||"/"===t[0]?t[0]:2===t.length&&":"===t[1]?t:t.length>2&&":"===t[1]&&("\\"===t[2]||"/"===t[2])?t.slice(0,3):""}):(e.isAbsolute=function(t){return t.length>0&&"/"===t[0]},e.root=function(t){return e.isAbsolute(t)?"/":""}),e.basename=function(t){let e=t.length-1;for(;e>0&&t[e]===n;)e--;return e<=0?"":t.slice(t.lastIndexOf(n,e)+1,e+1)},e.dirname=function(t){let e=t.length-1;for(;e>0&&t[e]===n;)e--;if(e<=0)return"";const r=t.lastIndexOf(n,e);return-1===r?"":t.slice(0,r)},e.extname=function(t){const e=t.lastIndexOf(".");return-1===e?"":t.slice(e)},e.resolve=function(t,n){return void 0===n?e.normalize(t):e.isAbsolute(n)?e.normalize(n):e.join(t,n)},e.join=function(t,...r){for(const e of r)t+=n+e;return e.normalize(t)},e.normalize=function(r){if(!0===t){let t=-1;for(;-1!==(t=r.indexOf("/",t+1));)r=r.slice(0,t)+n+r.slice(t+1)}const i=e.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let t=r.indexOf(n,o);-1===t&&(t=r.length);const e=r.slice(o,t);if(o=t+1,""!==e&&"."!==e)if(".."!==e)a+=a?n+e:e;else{const t=a.lastIndexOf(n);-1===t||".."===a.slice(t+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,t)}}return i&&(a=i+a),a||"."},e}function vs(t,e){for(var n=0,r=t.length-1;r>=0;r--){const e=t[r];"."===e?t.splice(r,1):".."===e?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}bs.posix=bs;var ys=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,ws=function(t){return ys.exec(t).slice(1)};function _s(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){const r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=vs(ks(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."}function Ss(t){const e=As(t),n="/"===Ts(t,-1);return(t=vs(ks(t.split("/"),(function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t}function As(t){return"/"===t.charAt(0)}function Es(){return Ss(ks(Array.prototype.slice.call(arguments,0),(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))}function Cs(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=_s(t).substr(1),e=_s(e).substr(1);for(var r=n(t.split("/")),i=n(e.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}let u=[];for(a=o;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(o))).join("/")}function Fs(t){const e=ws(t),n=e[0];let r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function Os(t,e){let n=ws(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}function Ls(t){return ws(t)[3]}const js={extname:Ls,basename:Os,dirname:Fs,sep:"/",delimiter:":",relative:Cs,join:Es,isAbsolute:As,normalize:Ss,resolve:_s};function ks(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var Ts="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)};!function(t){t&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default}(Object.freeze({__proto__:null,resolve:_s,normalize:Ss,isAbsolute:As,join:Es,relative:Cs,sep:"/",delimiter:":",dirname:Fs,basename:Os,extname:Ls,default:js}));var Ps=Is;function Is(t,e,n){t instanceof RegExp&&(t=Ms(t,n)),e instanceof RegExp&&(e=Ms(e,n));var r=Ns(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Ms(t,e){var n=e.match(t);return n?n[0]:null}function Ns(t,e,n){var r,i,s,o,a,u=n.indexOf(t),c=n.indexOf(e,u+1),l=u;if(u>=0&&c>0){if(t===e)return[u,c];for(r=[],s=n.length;l>=0&&!a;)l==u?(r.push(l),u=n.indexOf(t,l+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<s&&(s=i,o=c),c=n.indexOf(e,l+1)),l=u<c&&u>=0?u:c;r.length&&(a=[s,o])}return a}Is.range=Ns;var Bs=Ps,zs=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Ys(function(t){return t.split("\\\\").join(Ds).split("\\{").join(Rs).split("\\}").join(Ws).split("\\,").join(Us).split("\\.").join(qs)}(t),!0).map(Hs)},Ds="\0SLASH"+Math.random()+"\0",Rs="\0OPEN"+Math.random()+"\0",Ws="\0CLOSE"+Math.random()+"\0",Us="\0COMMA"+Math.random()+"\0",qs="\0PERIOD"+Math.random()+"\0";function $s(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Hs(t){return t.split(Ds).join("\\").split(Rs).join("{").split(Ws).join("}").split(Us).join(",").split(qs).join(".")}function Vs(t){if(!t)return[""];var e=[],n=Bs("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=Vs(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Gs(t){return"{"+t+"}"}function Js(t){return/^-?0\d/.test(t)}function Zs(t,e){return t<=e}function Ks(t,e){return t>=e}function Ys(t,e){var n=[],r=Bs("{","}",t);if(!r)return[t];var i=r.pre,s=r.post.length?Ys(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var u,c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),p=l||h,f=r.body.indexOf(",")>=0;if(!p&&!f)return r.post.match(/,.*\}/)?Ys(t=r.pre+"{"+r.body+Ws+r.post):[t];if(p)u=r.body.split(/\.\./);else if(1===(u=Vs(r.body)).length&&1===(u=Ys(u[0],!1).map(Gs)).length)return s.map((function(t){return r.pre+u[0]+t}));if(p){var x=$s(u[0]),d=$s(u[1]),m=Math.max(u[0].length,u[1].length),b=3==u.length?Math.abs($s(u[2])):1,g=Zs;d<x&&(b*=-1,g=Ks);var v=u.some(Js);c=[];for(var y=x;g(y,d);y+=b){var w;if(h)"\\"===(w=String.fromCharCode(y))&&(w="");else if(w=String(y),v){var _=m-w.length;if(_>0){var S=new Array(_+1).join("0");w=y<0?"-"+S+w.slice(1):S+w}}c.push(w)}}else{c=[];for(var A=0;A<u.length;A++)c.push.apply(c,Ys(u[A],!1))}for(A=0;A<c.length;A++)for(o=0;o<s.length;o++){a=i+c[A]+s[o];(!e||p||a)&&n.push(a)}}return n}var Qs=fr(zs);const Xs=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},to={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},eo=t=>t.replace(/[[\]\\-]/g,"\\$&"),no=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ro=t=>t.join(""),io=(t,e)=>{const n=e;if("["!==t.charAt(n))throw new Error("not in a brace expression");const r=[],i=[];let s=n+1,o=!1,a=!1,u=!1,c=!1,l=n,h="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==n+1){if("]"===e&&o&&!u){l=s+1;break}if(o=!0,"\\"!==e||u){if("["===e&&!u)for(const[e,[o,u,c]]of Object.entries(to))if(t.startsWith(e,s)){if(h)return["$.",!1,t.length-n,!0];s+=e.length,c?i.push(o):r.push(o),a=a||u;continue t}u=!1,h?(e>h?r.push(eo(h)+"-"+eo(e)):e===h&&r.push(eo(e)),h="",s++):t.startsWith("-]",s+1)?(r.push(eo(e+"-")),s+=2):t.startsWith("-",s+1)?(h=e,s+=2):(r.push(eo(e)),s++)}else u=!0,s++}else c=!0,s++}if(l<s)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,t.length-n,!0];if(0===i.length&&1===r.length&&/^\\?.$/.test(r[0])&&!c){const t=2===r[0].length?r[0].slice(-1):r[0];return[no(t),!1,l-n,!1]}const p="["+(c?"^":"")+ro(r)+"]",f="["+(c?"":"^")+ro(i)+"]";return[r.length&&i.length?"("+p+"|"+f+")":r.length?p:f,a,l-n,!0]},so=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),oo=new Set(["!","?","+","*","@"]),ao=t=>oo.has(t),uo="(?!\\.)",co=new Set(["[","."]),lo=new Set(["..","."]),ho=new Set("().*{}+?[]^$\\!"),po=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),fo="[^/]",xo=fo+"*?",mo=fo+"+?";class bo{type;#t;#e;#n=!1;#r=[];#i;#s;#o;#a=!1;#u;#c;#l=!1;constructor(t,e,n={}){this.type=t,t&&(this.#e=!0),this.#i=e,this.#t=this.#i?this.#i.#t:this,this.#u=this.#t===this?n:this.#t.#u,this.#o=this.#t===this?[]:this.#t.#o,"!"!==t||this.#t.#a||this.#o.push(this),this.#s=this.#i?this.#i.#r.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(const t of this.#r)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#c?this.#c:this.type?this.#c=this.type+"("+this.#r.map((t=>String(t))).join("|")+")":this.#c=this.#r.map((t=>String(t))).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#o.pop();){if("!"!==t.type)continue;let e=t,n=e.#i;for(;n;){for(let r=e.#s+1;!n.type&&r<n.#r.length;r++)for(const e of t.#r){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(n.#r[r])}e=n,n=e.#i}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof bo&&e.#i===this))throw new Error("invalid part: "+e);this.#r.push(e)}}toJSON(){const t=null===this.type?this.#r.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#r.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&"!"===this.#i?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#i?.isStart())return!1;if(0===this.#s)return!0;const t=this.#i;for(let e=0;e<this.#s;e++){const n=t.#r[e];if(!(n instanceof bo&&"!"===n.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#i?.type)return!0;if(!this.#i?.isEnd())return!1;if(!this.type)return this.#i?.isEnd();const t=this.#i?this.#i.#r.length:0;return this.#s===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new bo(this.type,t);for(const t of this.#r)e.copyIn(t);return e}static#p(t,e,n,r){let i=!1,s=!1,o=-1,a=!1;if(null===e.type){let u=n,c="";for(;u<t.length;){const n=t.charAt(u++);if(i||"\\"===n)i=!i,c+=n;else if(s)u===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||u===o+2&&a||(s=!1),c+=n;else if("["!==n)if(r.noext||!ao(n)||"("!==t.charAt(u))c+=n;else{e.push(c),c="";const i=new bo(n,e);u=bo.#p(t,i,u,r),e.push(i)}else s=!0,o=u,a=!1,c+=n}return e.push(c),u}let u=n+1,c=new bo(null,e);const l=[];let h="";for(;u<t.length;){const n=t.charAt(u++);if(i||"\\"===n)i=!i,h+=n;else if(s)u===o+1?"^"!==n&&"!"!==n||(a=!0):"]"!==n||u===o+2&&a||(s=!1),h+=n;else if("["!==n)if(ao(n)&&"("===t.charAt(u)){c.push(h),h="";const e=new bo(n,c);c.push(e),u=bo.#p(t,e,u,r)}else if("|"!==n){if(")"===n)return""===h&&0===e.#r.length&&(e.#l=!0),c.push(h),h="",e.push(...l,c),u;h+=n}else c.push(h),h="",l.push(c),c=new bo(null,e);else s=!0,o=u,a=!1,h+=n}return e.type=null,e.#e=void 0,e.#r=[t.substring(n-1)],u}static fromGlob(t,e={}){const n=new bo(null,void 0,e);return bo.#p(t,n,0,e),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[e,n,r,i]=this.toRegExpSource();if(!(r||this.#e||this.#u.nocase&&!this.#u.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;const s=(this.#u.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!this.#u.dot;if(this.#t===this&&this.#h(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#r.map((e=>{const[r,i,s,o]="string"==typeof e?bo.#f(e,this.#e,n):e.toRegExpSource(t);return this.#e=this.#e||s,this.#n=this.#n||o,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#r[0]){if(!(1===this.#r.length&&lo.has(this.#r[0]))){const n=co,s=e&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),o=!e&&!t&&n.has(r.charAt(0));i=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?uo:""}}let s="";this.isEnd()&&this.#t.#a&&"!"===this.#i?.type&&(s="(?:$|\\/)");return[i+r+s,so(r),this.#e=!!this.#e,this.#n]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#x(e);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const t=this.toString();return this.#r=[t],this.type=null,this.#e=void 0,[t,so(this.toString()),!1,!1]}let s=!n||t||e?"":this.#x(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let o="";if("!"===this.type&&this.#l)o=(this.isStart()&&!e?uo:"")+mo;else{o=r+i+("!"===this.type?"))"+(!this.isStart()||e||t?"":uo)+xo+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,so(i),this.#e=!!this.#e,this.#n]}#x(t){return this.#r.map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[n,r,i,s]=e.toRegExpSource(t);return this.#n=this.#n||s,n})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#f(t,e,n=!1){let r=!1,i="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(r)r=!1,i+=(ho.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,r,a,u]=io(t,o);if(a){i+=n,s=s||r,o+=a-1,e=e||u;continue}}"*"!==a?"?"!==a?i+=po(a):(i+=fo,e=!0):(i+=n&&"*"===t?mo:xo,e=!0)}else o===t.length-1?i+="\\\\":r=!0}return[i,so(t),!!e,s]}}const go=(t,e,n={})=>(Xs(e),!(!n.nocomment&&"#"===e.charAt(0))&&new $o(e,n).match(t)),vo=/^\*+([^+@!?\*\[\(]*)$/,yo=t=>e=>!e.startsWith(".")&&e.endsWith(t),wo=t=>e=>e.endsWith(t),_o=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),So=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Ao=/^\*+\.\*+$/,Eo=t=>!t.startsWith(".")&&t.includes("."),Co=t=>"."!==t&&".."!==t&&t.includes("."),Fo=/^\.\*+$/,Oo=t=>"."!==t&&".."!==t&&t.startsWith("."),Lo=/^\*+$/,jo=t=>0!==t.length&&!t.startsWith("."),ko=t=>0!==t.length&&"."!==t&&".."!==t,To=/^\?+([^+@!?\*\[\(]*)?$/,Po=([t,e=""])=>{const n=Bo([t]);return e?(e=e.toLowerCase(),t=>n(t)&&t.toLowerCase().endsWith(e)):n},Io=([t,e=""])=>{const n=zo([t]);return e?(e=e.toLowerCase(),t=>n(t)&&t.toLowerCase().endsWith(e)):n},Mo=([t,e=""])=>{const n=zo([t]);return e?t=>n(t)&&t.endsWith(e):n},No=([t,e=""])=>{const n=Bo([t]);return e?t=>n(t)&&t.endsWith(e):n},Bo=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},zo=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},Do="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";go.sep="win32"===Do?{sep:"\\"}.sep:{sep:"/"}.sep;const Ro=Symbol("globstar **");go.GLOBSTAR=Ro;go.filter=(t,e={})=>n=>go(n,t,e);const Wo=(t,e={})=>Object.assign({},t,e);go.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return go;const e=go;return Object.assign(((n,r,i={})=>e(n,r,Wo(t,i))),{Minimatch:class extends e.Minimatch{constructor(e,n={}){super(e,Wo(t,n))}static defaults(n){return e.defaults(Wo(t,n)).Minimatch}},AST:class extends e.AST{constructor(e,n,r={}){super(e,n,Wo(t,r))}static fromGlob(n,r={}){return e.AST.fromGlob(n,Wo(t,r))}},unescape:(n,r={})=>e.unescape(n,Wo(t,r)),escape:(n,r={})=>e.escape(n,Wo(t,r)),filter:(n,r={})=>e.filter(n,Wo(t,r)),defaults:n=>e.defaults(Wo(t,n)),makeRe:(n,r={})=>e.makeRe(n,Wo(t,r)),braceExpand:(n,r={})=>e.braceExpand(n,Wo(t,r)),match:(n,r,i={})=>e.match(n,r,Wo(t,i)),sep:e.sep,GLOBSTAR:Ro})};const Uo=(t,e={})=>(Xs(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Qs(t));go.braceExpand=Uo;go.makeRe=(t,e={})=>new $o(t,e).makeRe();go.match=(t,e,n={})=>{const r=new $o(e,n);return t=t.filter((t=>r.match(t))),r.options.nonull&&!t.length&&t.push(e),t};const qo=/[?*]|[+@!]\(.*?\)|\[|\]/;class $o{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){Xs(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Do,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((t,e,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&qo.test(t[2])||qo.test(t[3])),n=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(n)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,r),this.set=r.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)"**"===t[e][n]&&(t[e][n]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let n=e;for(;"**"===t[n+1];)n++;n!==e&&t.splice(e,n-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const n=t[t.length-1];return"**"===e&&"**"===n?t:".."===e&&n&&".."!==n&&"."!==n&&"**"!==n?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){const r=t[n];1===n&&""===r&&""===t[0]||("."!==r&&""!==r||(e=!0,t.splice(n,1),n--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let n=0;for(;-1!==(n=t.indexOf("..",n+1));){const r=t[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(e=!0,t.splice(n-1,2),n-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let n of t){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let i=r;for(;"**"===n[i+1];)i++;i>r&&n.splice(r+1,i-r);let s=n[r+1];const o=n[r+2],a=n[r+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,n.splice(r,1);const u=n.slice(0);u[r]="**",t.push(u),r--}if(!this.preserveMultipleSlashes){for(let t=1;t<n.length-1;t++){const r=n[t];1===t&&""===r&&""===n[0]||("."!==r&&""!==r||(e=!0,n.splice(t,1),t--))}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(e=!0,n.pop())}let i=0;for(;-1!==(i=n.indexOf("..",i+1));){const t=n[i-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===i&&"**"===n[i+1]?["."]:[];n.splice(i-1,2,...t),0===n.length&&n.push(""),i-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let n=e+1;n<t.length;n++){const r=this.partsMatch(t[e],t[n],!this.preserveMultipleSlashes);r&&(t[e]=r,t[n]=[])}return t.filter((t=>t.length))}partsMatch(t,e,n=!1){let r=0,i=0,s=[],o="";for(;r<t.length&&i<e.length;)if(t[r]===e[i])s.push("b"===o?e[i]:t[r]),r++,i++;else if(n&&"**"===t[r]&&e[i]===t[r+1])s.push(t[r]),r++;else if(n&&"**"===e[i]&&t[r]===e[i+1])s.push(e[i]),i++;else if("*"!==t[r]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i]){if("*"!==e[i]||!t[r]||!this.options.dot&&t[r].startsWith(".")||"**"===t[r])return!1;if("a"===o)return!1;o="b",s.push(e[i]),r++,i++}else{if("b"===o)return!1;o="a",s.push(t[r]),r++,i++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,n=0;for(let r=0;r<t.length&&"!"===t.charAt(r);r++)e=!e,n++;n&&(this.pattern=t.slice(n)),this.negate=e}matchOne(t,e,n=!1){const r=this.options;if(this.isWindows){const n="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),r=!n&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),i="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),s=r?3:n?0:void 0,o=!i&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:i?0:void 0;if("number"==typeof s&&"number"==typeof o){const[n,r]=[t[s],e[o]];n.toLowerCase()===r.toLowerCase()&&(e[o]=n,o>s?e=e.slice(o):s>o&&(t=t.slice(s)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,u=e.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=e[o],l=t[s];if(this.debug(e,c,l),!1===c)return!1;if(c===Ro){this.debug("GLOBSTAR",[e,c,l]);var h=s,p=o+1;if(p===u){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!r.dot&&"."===t[s].charAt(0))return!1;return!0}for(;h<a;){var f=t[h];if(this.debug("\nglobstar while",t,h,e,p,f),this.matchOne(t.slice(h),e.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",t,h,e,p),h!==a))}let i;if("string"==typeof c?(i=l===c,this.debug("string match",c,l,i)):(i=c.test(l),this.debug("pattern match",c,l,i)),!i)return!1}if(s===a&&o===u)return!0;if(s===a)return n;if(o===u)return s===a-1&&""===t[s];throw new Error("wtf?")}braceExpand(){return Uo(this.pattern,this.options)}parse(t){Xs(t);const e=this.options;if("**"===t)return Ro;if(""===t)return"";let n,r=null;(n=t.match(Lo))?r=e.dot?ko:jo:(n=t.match(vo))?r=(e.nocase?e.dot?So:_o:e.dot?wo:yo)(n[1]):(n=t.match(To))?r=(e.nocase?e.dot?Io:Po:e.dot?Mo:No)(n):(n=t.match(Ao))?r=e.dot?Co:Eo:(n=t.match(Fo))&&(r=Oo);const i=bo.fromGlob(t,this.options).toMMPattern();return r?Object.assign(i,{test:r}):i}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(e.nocase?["i"]:[]);let i=t.map((t=>{const e=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))r.add(e);return"string"==typeof t?(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(t):t===Ro?Ro:t._src}));return e.forEach(((t,r)=>{const i=e[r+1],s=e[r-1];t===Ro&&s!==Ro&&(void 0===s?void 0!==i&&i!==Ro?e[r+1]="(?:\\/|"+n+"\\/)?"+i:e[r]=n:void 0===i?e[r-1]=s+"(?:\\/|"+n+")?":i!==Ro&&(e[r-1]=s+"(?:\\/|\\/"+n+"\\/)"+i,e[r+1]=Ro))})),e.filter((t=>t!==Ro)).join("/")})).join("|");const[s,o]=t.length>1?["(?:",")"]:["",""];i="^"+s+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const n=this.options;this.isWindows&&(t=t.split("\\").join("/"));const r=this.slashSplit(t);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let s=r[r.length-1];if(!s)for(let t=r.length-2;!s&&t>=0;t--)s=r[t];for(let t=0;t<i.length;t++){const o=i[t];let a=r;n.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(t){return go.defaults(t).Minimatch}}go.AST=bo,go.Minimatch=$o,go.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),go.unescape=so;var Ho=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};Ho.now||Ho.mozNow||Ho.msNow||Ho.oNow||Ho.webkitNow;const Vo=Zo(!1),Go=Zo(!0);Vo.win32=Go,Go.posix=Vo;var Jo=Vo;function Zo(t){const e={};e.posix=e,e.win32=e;const n=e.sep=t?"\\":"/";return t?(e.isAbsolute=function(t){return 0!==t.length&&("\\"===t[0]||"/"===t[0]||2===t.length&&":"===t[1]||t.length>2&&":"===t[1]&&("\\"===t[2]||"/"===t[2]))},e.root=function(t){return 0===t.length?"":"\\"===t[0]||"/"===t[0]?t[0]:2===t.length&&":"===t[1]?t:t.length>2&&":"===t[1]&&("\\"===t[2]||"/"===t[2])?t.slice(0,3):""}):(e.isAbsolute=function(t){return t.length>0&&"/"===t[0]},e.root=function(t){return e.isAbsolute(t)?"/":""}),e.basename=function(t){let e=t.length-1;for(;e>0&&t[e]===n;)e--;return e<=0?"":t.slice(t.lastIndexOf(n,e)+1,e+1)},e.dirname=function(t){let e=t.length-1;for(;e>0&&t[e]===n;)e--;if(e<=0)return"";const r=t.lastIndexOf(n,e);return-1===r?"":t.slice(0,r)},e.extname=function(t){const e=t.lastIndexOf(".");return-1===e?"":t.slice(e)},e.resolve=function(t,n){return void 0===n?e.normalize(t):e.isAbsolute(n)?e.normalize(n):e.join(t,n)},e.join=function(t,...r){for(const e of r)t+=n+e;return e.normalize(t)},e.normalize=function(r){if(!0===t){let t=-1;for(;-1!==(t=r.indexOf("/",t+1));)r=r.slice(0,t)+n+r.slice(t+1)}const i=e.root(r),s=""!==i;let o=i.length,a="";for(;o<r.length;){let t=r.indexOf(n,o);-1===t&&(t=r.length);const e=r.slice(o,t);if(o=t+1,""!==e&&"."!==e)if(".."!==e)a+=a?n+e:e;else{const t=a.lastIndexOf(n);-1===t||".."===a.slice(t+1)?s?a="":a+=a?n+"..":"..":a=a.slice(0,t)}}return i&&(a=i+a),a||"."},e}Jo.posix=Jo;const{dirname:Ko,isAbsolute:Yo,root:Qo,basename:Xo,extname:ta,resolve:ea,join:na,normalize:ra}=Jo;var ia=xr(Object.freeze({__proto__:null,basename:Xo,default:Jo,dirname:Ko,extname:ta,isAbsolute:Yo,join:na,normalize:ra,posix:Jo,resolve:ea,root:Qo,win32:Jo}));var sa=xr(Object.freeze({__proto__:null,platform:function(){return"browser"}}));ia.posix.dirname,sa.platform();var oa=(t=>(t.Export="exports",t.Import="imports",t))(oa||{});const aa=hs;function ua(t,e){if("object"==typeof t&&t)return function(t){return!!(t.encode&&t.decode&&t.preencode)}(t)?function(t){return{name:"compact-encoding",encode:function(e){const n={start:0,end:0,buffer:null,cache:null};return t.preencode(n,e),n.buffer=aa.allocUnsafe(n.end),t.encode(n,e),n.buffer},decode:function(e){return t.decode({start:0,end:e.byteLength,buffer:e,cache:null})}}}(t):t;switch(t){case"ndjson":return ua.ndjson;case"json":return ua.json;case"ascii":return ua.ascii;case"utf-8":case"utf8":return ua.utf8;case"hex":return ua.hex;case"base64":return ua.base64;case"ucs-2":case"ucs2":return ua.ucs2;case"utf16-le":case"utf16le":return ua.utf16le}return void 0!==e?e:ua.binary}function ca(t){return{name:t?"ndjson":"json",encode:t?function(t){return aa.from(JSON.stringify(t)+"\n")}:function(t){return aa.from(JSON.stringify(t))},decode:function(t){return JSON.parse(aa.toString(t))}}}function la(t){return{name:t,encode:function(e){return"string"!=typeof e&&(e=e.toString()),aa.from(e,t)},decode:function(e){return aa.toString(e,t)}}}ua.ascii=la("ascii"),ua.utf8=la("utf-8"),ua.hex=la("hex"),ua.base64=la("base64"),ua.ucs2=la("ucs2"),ua.utf16le=la("utf16le"),ua.ndjson=ca(!0),ua.json=ca(!1),ua.binary={name:"binary",encode:function(t){return"string"==typeof t?aa.from(t,"utf-8"):aa.toBuffer(t)},decode:function(t){return aa.toBuffer(t)}};const ha=256<<17;function pa(t,e){let n,r=!1;const i={};if(t&&("number"!=typeof(s=t)._duplexState||!function(t){return!!t._readableState||!!t._writableState}(s))){let e;({readable:t,writable:n,duplex:e}=t),!e||t||n||(t=e,n=e)}var s;if(!t&&!n)throw new Error("Invalid stream");let o,a;return t&&(o=new ReadableStream({start:function(e){i.data=n,i.end=n,i.end=s,i.close=s,i.error=s;for(let e in i)t.on(e,i[e]);function n(n){r||(e.enqueue("string"==typeof n?ps.from(n):n),t.pause())}function s(n){if(!r){r=!0;for(let e in i)t.off(e,i[e]);n?e.error(n):e.close()}}t.pause()},pull:function(){r||t.resume()},cancel:function(){r=!0;for(let e in i)t.off(e,i[e]);t.push(null),t.pause(),t.destroy?t.destroy():t.close&&t.close()},type:e?"bytes":void 0}),!n)?o:n&&(a=new WritableStream({async write(t){n.write("string"==typeof t?ps.from(t):t)||await function(t,e=!1){if(t.destroyed)return Promise.resolve(!1);const n=t._writableState,r=(e?Math.min(1,n.queue.length):n.queue.length)+(t._duplexState&ha?1:0);return 0===r?Promise.resolve(!0):(null===n.drains&&(n.drains=[]),new Promise((t=>{n.drains.push({writes:r,resolve:t})})))}(n,!1)}}),!t)?a:{readable:o,writable:a}}const{takeSync:fa,concatTap:xa}=Ve,da={ReplaySubject:B,concatAll:Mt,ignoreElements:Xt,map:Tt,takeWhile:ge,toArray:Gt};let ma,ba=new da.ReplaySubject,ga=!1;function va(t,e={}){let n,r,i=new Promise(((t,e)=>{n=t,r=e})),s=[],o={method:t.method??"GET",body:t.body??null,mode:t.mode??"cors",credentials:t.credentials??"same-origin",redirect:t.redirect??"follow",priority:t.priority??"auto",...e,headers:{...t.headers||{},...e}};"string"==typeof t&&(o.url=t);const{response$:a,...u}=o;return ba.pipe(fa(),da.toArray(),da.map((t=>t.reverse())),da.concatAll(),xa((async t=>{t(u,{request:u,async next(){let t,e,n=new Promise(((n,r)=>{t=n,e=r}));return s.unshift([t,e]),n},async end(){if(u.ended)return;u.ended=!0;const t=new Request(u.url,u);n(await ma(t))},respond(t,e={}){u.ended||(u.ended=!0,e.status||=200,("undefined"!=typeof window&&t._readableState||t._writableState)&&(t=pa(t)),console.log("Constructing response object from",{req:u,options:e}),n(t instanceof Response?t:new Response(t,{...u,...e})))},error:t=>(u.ended=!0,u.error=t,r(t))})})),da.takeWhile((()=>!u.ended)),da.ignoreElements()).subscribe((async()=>{for await(const[t,e]of s)u.error?e(u.error):t(u);u.ended||(u.ended=!0,n(ma(t,e)))})),i}function ya(t,e,n={}){!function(){if(!ga){if("undefined"==typeof Request||"undefined"==typeof fetch)throw new Error("Fetch not supported.");ma=fetch,fetch=va,ga=!0}}(),n.protocol&&(n.protocol=Ye(n.protocol||":",":")+":");const{protocol:r,mapper:i=(async t=>t)}=n,s=Ge(e);ba.next((async(e,n)=>{const{pathname:o,protocol:a}=nr(e.url);if(r&&r!==a)return;let u=s(o);if(!u)return;let{path:c,index:l,params:h}=u;var p;h.path&&(c="/"+(p=h.path,Array.isArray(p)?p:[p]).join("/"),delete h.path);const f=await Promise.resolve(i({path:c,index:l,params:h}));if(null!=f){({path:c}=f);try{n.respond(fs(t,c))}catch(t){n.next()}}}))}function wa(t){ba.next(t)}export{wa as addFetchHook,ya as fetchHookOfSource};
