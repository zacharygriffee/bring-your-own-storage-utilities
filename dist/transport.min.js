function e(e){return"function"==typeof e}function t(e){const t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const n=t((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function r(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class i{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const e of r)e.remove(this);else r.remove(this);const{initialTeardown:i}=this;if(e(i))try{i()}catch(e){t=e instanceof n?e.errors:[e]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const e of o)try{a(e)}catch(e){t=null!=t?t:[],e instanceof n?t=[...t,...e.errors]:t.push(e)}}if(t)throw new n(t)}}add(e){var t;if(e&&e!==this)if(this.closed)a(e);else{if(e instanceof i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&r(t,e)}remove(e){const{_finalizers:t}=this;t&&r(t,e),e instanceof i&&e._removeParent(this)}}i.EMPTY=(()=>{const e=new i;return e.closed=!0,e})();const o=i.EMPTY;function s(t){return t instanceof i||t&&"closed"in t&&e(t.remove)&&e(t.add)&&e(t.unsubscribe)}function a(t){e(t)?t():t.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},c={setTimeout(e,t,...n){const{delegate:r}=c;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=c;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function l(e){c.setTimeout((()=>{const{onUnhandledError:t}=u;if(!t)throw e;t(e)}))}function h(){}const p=x("C",void 0,void 0);function x(e,t,n){return{kind:e,value:t,error:n}}function f(e){e()}class d extends i{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,s(e)&&e.add(this)):this.destination=_}static create(e,t,n){return new y(e,t,n)}next(e){this.isStopped?w(function(e){return x("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?w(x("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?w(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const m=Function.prototype.bind;function b(e,t){return m.call(e,t)}class v{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){g(e)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){g(e)}else g(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){g(e)}}}class y extends d{constructor(t,n,r){let i;if(super(),e(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let e;this&&u.useDeprecatedNextContext?(e=Object.create(t),e.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&b(t.next,e),error:t.error&&b(t.error,e),complete:t.complete&&b(t.complete,e)}):i=t}this.destination=new v(i)}}function g(e){l(e)}function w(e,t){const{onStoppedNotification:n}=u;n&&c.setTimeout((()=>n(e,t)))}const _={closed:!0,next:h,error:function(e){throw e},complete:h},S="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(e){return e}class E{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new E;return t.source=this,t.operator=e,t}subscribe(t,n,r){const i=(o=t)&&o instanceof d||function(t){return t&&e(t.next)&&e(t.error)&&e(t.complete)}(o)&&s(o)?t:new y(t,n,r);var o;return f((()=>{const{operator:e,source:t}=this;i.add(e?e.call(i,t):t?this._subscribe(i):this._trySubscribe(i))})),i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=F(t))(((t,n)=>{const r=new y({next:t=>{try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});this.subscribe(r)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[S](){return this}pipe(...e){return(0===(t=e).length?A:1===t.length?t[0]:function(e){return t.reduce(((e,t)=>t(e)),e)})(this);var t}toPromise(e){return new(e=F(e))(((e,t)=>{let n;this.subscribe((e=>n=e),(e=>t(e)),(()=>e(n)))}))}}function F(e){var t;return null!==(t=null!=e?e:u.Promise)&&void 0!==t?t:Promise}function C(t){return e(null==t?void 0:t.lift)}function k(e){return t=>{if(C(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function L(e,t,n,r,i){return new T(e,t,n,r,i)}E.create=e=>new E(e);class T extends d{constructor(e,t,n,r,i,o){super(e),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=t?function(n){try{t(n)}catch(t){e.error(t)}}:super._next,this._error=r?function(t){try{r(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}class O extends E{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,C(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new i;const t=this.getSubject();e.add(this.source.subscribe(L(t,void 0,(()=>{this._teardown(),t.complete()}),(e=>{this._teardown(),t.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=i.EMPTY)}return e}refCount(){return k(((e,t)=>{let n=null;e._refCount++;const r=L(t,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,i=n;n=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}));e.subscribe(r),r.closed||(n=e.connect())}))(this)}}const I={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=I;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const o=t((t=>{n=void 0,e(t)}));return new i((()=>null==n?void 0:n(o)))},requestAnimationFrame(...e){const{delegate:t}=I;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=I;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0},j=t((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class P extends E{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new B(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new j}next(e){f((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}}))}error(e){f((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){f((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:s}=this;return t||n?o:(this.currentObservers=null,s.push(e),new i((()=>{this.currentObservers=null,r(s,e)})))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new E;return e.source=this,e}}P.create=(e,t)=>new B(e,t);class B extends P{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o}}const D={now:()=>(D.delegate||Date).now(),delegate:void 0};class M extends P{constructor(e=1/0,t=1/0,n=D){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:o}=this;t||(n.push(e),!r&&n.push(i.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let t=0;t<i.length&&!e.closed;t+=n?1:2)e.next(i[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}class N extends i{constructor(e,t){super()}schedule(e,t=0){return this}}const z={setInterval(e,t,...n){const{delegate:r}=z;return(null==r?void 0:r.setInterval)?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=z;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};class U extends N{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return z.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&z.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,r(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let R,W=1;const q={};function V(e){return e in q&&(delete q[e],!0)}const H={setImmediate(e){const t=W++;return q[t]=!0,R||(R=Promise.resolve()),R.then((()=>V(t)&&e())),t},clearImmediate(e){V(e)}},{setImmediate:G,clearImmediate:$}=H,J={setImmediate(...e){const{delegate:t}=J;return((null==t?void 0:t.setImmediate)||G)(...e)},clearImmediate(e){const{delegate:t}=J;return((null==t?void 0:t.clearImmediate)||$)(e)},delegate:void 0};class K{constructor(e,t=K.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}K.now=D.now;class Y extends K{constructor(e,t=K.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Q=new class extends Y{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends U{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=J.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(J.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),X=new Y(U),Z=X;new class extends Y{}(class extends U{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}});new class extends Y{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends U{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=I.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(I.cancelAnimationFrame(t),e._scheduled=void 0)}});(class extends Y{constructor(e=ee,t=1/0){super(e,(()=>this.frame)),this.maxFrames=t,this.frame=0,this.index=-1}flush(){const{actions:e,maxFrames:t}=this;let n,r;for(;(r=e[0])&&r.delay<=t&&(e.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=e.shift();)r.unsubscribe();throw n}}}).frameTimeFactor=10;class ee extends U{constructor(e,t,n=(e.index+=1)){super(e,t),this.scheduler=e,this.work=t,this.index=n,this.active=!0,this.index=e.index=n}schedule(e,t=0){if(Number.isFinite(t)){if(!this.id)return super.schedule(e,t);this.active=!1;const n=new ee(this.scheduler,this.work);return this.add(n),n.schedule(e,t)}return i.EMPTY}requestAsyncId(e,t,n=0){this.delay=e.frame+n;const{actions:r}=e;return r.push(this),r.sort(ee.sortActions),1}recycleAsyncId(e,t,n=0){}_execute(e,t){if(!0===this.active)return super._execute(e,t)}static sortActions(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}const te=new E((e=>e.complete()));function ne(t){return t&&e(t.schedule)}function re(e){return e[e.length-1]}function ie(e){return ne(re(e))?e.pop():void 0}function oe(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function se(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(e){return this instanceof ae?(this.v=e,this):new ae(e)}function ue(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof ae?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ce(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=se(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const le=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function he(t){return e(null==t?void 0:t.then)}function pe(t){return e(t[S])}function xe(t){return Symbol.asyncIterator&&e(null==t?void 0:t[Symbol.asyncIterator])}function fe(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const de="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function me(t){return e(null==t?void 0:t[de])}function be(e){return ue(this,arguments,(function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield ae(t.read());if(n)return yield ae(void 0);yield yield ae(e)}}finally{t.releaseLock()}}))}function ve(t){return e(null==t?void 0:t.getReader)}function ye(t){if(t instanceof E)return t;if(null!=t){if(pe(t))return o=t,new E((t=>{const n=o[S]();if(e(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(le(t))return i=t,new E((e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(he(t))return r=t,new E((e=>{r.then((t=>{e.closed||(e.next(t),e.complete())}),(t=>e.error(t))).then(null,l)}));if(xe(t))return ge(t);if(me(t))return n=t,new E((e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()}));if(ve(t))return ge(be(t))}var n,r,i,o;throw fe(t)}function ge(e){return new E((t=>{(function(e,t){var n,r,i,o;return oe(this,void 0,void 0,(function*(){try{for(n=ce(e);!(r=yield n.next()).done;){const e=r.value;if(t.next(e),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function we(e,t,n,r=0,i=!1){const o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function _e(e,t=0){return k(((n,r)=>{n.subscribe(L(r,(n=>we(r,e,(()=>r.next(n)),t)),(()=>we(r,e,(()=>r.complete()),t)),(n=>we(r,e,(()=>r.error(n)),t))))}))}function Se(e,t=0){return k(((n,r)=>{r.add(e.schedule((()=>n.subscribe(r)),t))}))}function Ae(e,t){if(!e)throw new Error("Iterable cannot be null");return new E((n=>{we(n,t,(()=>{const r=e[Symbol.asyncIterator]();we(n,t,(()=>{r.next().then((e=>{e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Ee(t,n){if(null!=t){if(pe(t))return function(e,t){return ye(e).pipe(Se(t),_e(t))}(t,n);if(le(t))return function(e,t){return new E((n=>{let r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(t,n);if(he(t))return function(e,t){return ye(e).pipe(Se(t),_e(t))}(t,n);if(xe(t))return Ae(t,n);if(me(t))return function(t,n){return new E((r=>{let i;return we(r,n,(()=>{i=t[de](),we(r,n,(()=>{let e,t;try{({value:e,done:t}=i.next())}catch(e){return void r.error(e)}t?r.complete():r.next(e)}),0,!0)})),()=>e(null==i?void 0:i.return)&&i.return()}))}(t,n);if(ve(t))return function(e,t){return Ae(be(e),t)}(t,n)}throw fe(t)}function Fe(e,t){return t?Ee(e,t):ye(e)}function Ce(...e){return Fe(e,ie(e))}var ke;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(ke||(ke={}));class Le{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){return Te(this,e)}do(e,t,n){const{kind:r,value:i,error:o}=this;return"N"===r?null==e?void 0:e(i):"E"===r?null==t?void 0:t(o):null==n?void 0:n()}accept(t,n,r){var i;return e(null===(i=t)||void 0===i?void 0:i.next)?this.observe(t):this.do(t,n,r)}toObservable(){const{kind:t,value:n,error:r}=this,i="N"===t?Ce(n):"E"===t?function(t,n){const r=e(t)?t:()=>t,i=e=>e.error(r());return new E(n?e=>n.schedule(i,0,e):i)}((()=>r)):"C"===t?te:0;if(!i)throw new TypeError(`Unexpected notification kind ${t}`);return i}static createNext(e){return new Le("N",e)}static createError(e){return new Le("E",void 0,e)}static createComplete(){return Le.completeNotification}}function Te(e,t){var n,r,i;const{kind:o,value:s,error:a}=e;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(n=t.next)||void 0===n||n.call(t,s):"E"===o?null===(r=t.error)||void 0===r||r.call(t,a):null===(i=t.complete)||void 0===i||i.call(t)}Le.completeNotification=new Le("C");const Oe=t((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function Ie(e,t){return k(((n,r)=>{let i=0;n.subscribe(L(r,(n=>{r.next(e.call(t,n,i++))})))}))}function je(t,n,r=1/0){return e(n)?je(((e,r)=>Ie(((t,i)=>n(e,t,r,i)))(ye(t(e,r)))),r):("number"==typeof n&&(r=n),k(((e,n)=>function(e,t,n,r,i,o,s,a){const u=[];let c=0,l=0,h=!1;const p=()=>{!h||u.length||c||t.complete()},x=e=>c<r?f(e):u.push(e),f=e=>{o&&t.next(e),c++;let a=!1;ye(n(e,l++)).subscribe(L(t,(e=>{null==i||i(e),o?x(e):t.next(e)}),(()=>{a=!0}),void 0,(()=>{if(a)try{for(c--;u.length&&c<r;){const e=u.shift();s?we(t,s,(()=>f(e))):f(e)}p()}catch(e){t.error(e)}})))};return e.subscribe(L(t,x,(()=>{h=!0,p()}))),()=>{null==a||a()}}(e,n,t,r))))}function Pe(e=1/0){return je(A,e)}function Be(){return Pe(1)}function De(...e){return Be()(Fe(e,ie(e)))}function Me(e){return new E((t=>{ye(e()).subscribe(t)}))}function Ne(e=0,t,n=Z){let r=-1;return null!=t&&(ne(t)?n=t:r=t),new E((t=>{let i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;var o;i<0&&(i=0);let s=0;return n.schedule((function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function ze(...e){const t=ie(e),n=function(e,t){return"number"==typeof re(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?ye(r[0]):Pe(n)(Fe(r,t)):te}t((e=>function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"})),t((e=>function(t){e(this),this.name="NotFoundError",this.message=t})),t((e=>function(t){e(this),this.name="SequenceError",this.message=t})),t((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));const Ue=new E(h),{isArray:Re}=Array;function We(e,t){return k(((n,r)=>{let i=0;n.subscribe(L(r,(n=>e.call(t,n,i++)&&r.next(n))))}))}function qe(...e){var t;return 1===(e=1===(t=e).length&&Re(t[0])?t[0]:t).length?ye(e[0]):new E(function(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(ye(e[r]).subscribe(L(t,(e=>{if(n){for(let e=0;e<n.length;e++)e!==r&&n[e].unsubscribe();n=null}t.next(e)}))))}}(e))}function Ve(e,t){return new E((n=>{const r=e(),i=t(r);return(i?ye(i):te).subscribe(n),()=>{r&&r.unsubscribe()}}))}function He(e,t,n,r,i){return(o,s)=>{let a=n,u=t,c=0;o.subscribe(L(s,(t=>{const n=c++;u=a?e(u,t,n):(a=!0,t),r&&s.next(u)}),i&&(()=>{a&&s.next(u),s.complete()})))}}const Ge=(e,t)=>(e.push(t),e);function $e(){return k(((e,t)=>{(function(e,t){return k(He(e,t,arguments.length>=2,!1,!0))})(Ge,[])(e).subscribe(t)}))}function Je(t,n){return e(n)?je(t,n,1):je(t,1)}const Ke={connector:()=>new P};function Ye(e,t=Ke){const{connector:n}=t;return k(((t,r)=>{const i=n();var o;ye(e((o=i,new E((e=>o.subscribe(e)))))).subscribe(r),r.add(t.subscribe(i))}))}function Qe(e){return k(((t,n)=>{let r=!1;t.subscribe(L(n,(e=>{r=!0,n.next(e)}),(()=>{r||n.next(e),n.complete()})))}))}function Xe(e){return e<=0?()=>te:k(((t,n)=>{let r=0;t.subscribe(L(n,(t=>{++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Ze(){return k(((e,t)=>{e.subscribe(L(t,h))}))}function et(e){return Ie((()=>e))}function tt(e,t){return t?n=>De(t.pipe(Xe(1),Ze()),n.pipe(tt(e))):je(((t,n)=>ye(e(t,n)).pipe(Xe(1),et(t))))}function nt(e,t=X){const n=Ne(e,t);return tt((()=>n))}function rt(e,t=A){return e=null!=e?e:it,k(((n,r)=>{let i,o=!0;n.subscribe(L(r,(n=>{const s=t(n);!o&&e(i,s)||(o=!1,i=s,r.next(n))})))}))}function it(e,t){return e===t}function ot(e=st){return k(((t,n)=>{let r=!1;t.subscribe(L(n,(e=>{r=!0,n.next(e)}),(()=>r?n.complete():n.error(e()))))}))}function st(){return new Oe}function at(e,t){return t?n=>n.pipe(at(((n,r)=>ye(e(n,r)).pipe(Ie(((e,i)=>t(n,e,r,i))))))):k(((t,n)=>{let r=0,i=null,o=!1;t.subscribe(L(n,(t=>{i||(i=L(n,void 0,(()=>{i=null,o&&n.complete()})),ye(e(t,r++)).subscribe(i))}),(()=>{o=!0,!i&&n.complete()})))}))}function ut(e){return k(((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}}))}function ct(e){return e<=0?()=>te:k(((t,n)=>{let r=[];t.subscribe(L(n,(t=>{r.push(t),e<r.length&&r.shift()}),(()=>{for(const e of r)n.next(e);n.complete()}),void 0,(()=>{r=null})))}))}function lt(){return k(((e,t)=>{e.subscribe(L(t,(e=>{t.next(Le.createNext(e))}),(()=>{t.next(Le.createComplete()),t.complete()}),(e=>{t.next(Le.createError(e)),t.complete()})))}))}function ht(t,n){const r=e(t)?t:()=>t;return e(n)?Ye(n,{connector:r}):e=>new O(e,r)}function pt(e){return e?t=>Ye(e)(t):e=>ht(new P)(e)}function xt(t,n,r,i){r&&!e(r)&&(i=r);const o=e(r)?r:void 0;return e=>ht(new M(t,n,i),o)(e)}function ft(e,t){return k(He(e,t,arguments.length>=2,!0))}function dt(...e){const t=ie(e);return k(((n,r)=>{(t?De(e,n,t):De(e,n)).subscribe(r)}))}function mt(e,t){return k(((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(L(r,(n=>{null==i||i.unsubscribe();let s=0;const u=o++;ye(e(n,u)).subscribe(i=L(r,(e=>r.next(t?t(n,e,u,s++):e)),(()=>{i=null,a()})))}),(()=>{s=!0,a()})))}))}function bt(e){return k(((t,n)=>{ye(e).subscribe(L(n,(()=>n.complete()),h)),!n.closed&&t.subscribe(n)}))}function vt(e,t=!1){return k(((n,r)=>{let i=0;n.subscribe(L(r,(n=>{const o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}function yt(t,n,r){const i=e(t)||n||r?{next:t,error:n,complete:r}:t;return i?k(((e,t)=>{var n;null===(n=i.subscribe)||void 0===n||n.call(i);let r=!0;e.subscribe(L(t,(e=>{var n;null===(n=i.next)||void 0===n||n.call(i,e),t.next(e)}),(()=>{var e;r=!1,null===(e=i.complete)||void 0===e||e.call(i),t.complete()}),(e=>{var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,e),t.error(e)}),(()=>{var e,t;r&&(null===(e=i.unsubscribe)||void 0===e||e.call(i)),null===(t=i.finalize)||void 0===t||t.call(i)})))})):A}function gt(...t){const n=e(re(r=t))?r.pop():void 0;var r;return k(((e,r)=>{const i=t.length,o=new Array(i);let s=t.map((()=>!1)),a=!1;for(let e=0;e<i;e++)ye(t[e]).subscribe(L(r,(t=>{o[e]=t,a||s[e]||(s[e]=!0,(a=s.every(A))&&(s=null))}),h));e.subscribe(L(r,(e=>{if(a){const t=[e,...o];r.next(n?n(...t):t)}})))}))}const wt=d.prototype._complete,_t=d.prototype._error,St=d.prototype._next;class At extends d{constructor(e,t){super(e);const{complete:n,error:r,next:i}=t;this._complete=n?()=>{try{n()}catch(t){e.error(t)}this.unsubscribe()}:wt,this._error=r?t=>{try{r(t)}catch(t){e.error(t)}this.unsubscribe()}:_t,this._next=i?t=>{try{i(t)}catch(t){e.error(t)}}:St}}function Et(e,t,n=(()=>new P)){return r=>r.lift(new Ft(e,t,n))}class Ft{constructor(e,t,n){this.count=e,this.hashSelector=t,this.subjectSelector=n}call(e,t){return t.subscribe(new Ct(e,this.count,this.hashSelector,this.subjectSelector))}}class Ct extends d{constructor(e,t,n,r){super(e),this.count=t,this.hashSelector=n,this.subjectSelector=r,this.index=0;const i=this.buckets=new Array(t);for(let e=0;e<t;++e)i[e]=r();e.next(i.map((e=>e.asObservable())))}_next(e){const{buckets:t,closed:n,count:r,hashSelector:i}=this;if(n)return;let o;try{const t=i(e,this.index++);o=Math.abs(Math.floor(t))%r}catch(e){return void this.error(e)}t[o].next(e)}_error(e){const{buckets:t,closed:n,destination:r}=this;n||(t.forEach((t=>t.error(e))),r.error(e))}_complete(){const{buckets:e,closed:t,destination:n}=this;t||(e.forEach((e=>e.complete())),n.complete())}}function kt(e){return t=>t.pipe(pt((t=>ze(t,t.pipe(k(((e,t)=>{e.subscribe(L(t,(()=>{t.next(!1),t.complete()}),(()=>{t.next(!0),t.complete()})))})),je((t=>t?e:te)))))))}function Lt(...e){let t=e[e.length-1];return function(e){return Boolean(e&&"function"==typeof e.schedule)}(t)?e.pop():t=null,n=>De(n,Fe(e,t))}function Tt(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(pt((e=>De(e.pipe(Xe(n)),e.pipe(t)))))}const Ot=kt,It=kt;class jt{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Pt(e,this.callback))}}class Pt extends d{constructor(e,t){super(e),this.callback=t,this.kind="U",this.subscription=void 0}complete(){this.kind="C",this.defer((()=>super.complete()))}error(e){this.kind="E",this.defer((()=>super.error(e)))}unsubscribe(){this.defer((()=>super.unsubscribe()))}defer(e){if(this.subscription)return void this.subscription.add(e);const t=new i;this.subscription=t,t.add(e);Fe(this.callback(this.kind)).pipe(ut((()=>t.unsubscribe()))).subscribe()}}class Bt{constructor(e){this.callback=e}call(e,t){const n=t.subscribe(e);return n.add(this.callback),n}}function Dt(e){return t=>Me((()=>{let n="U";return t.pipe(yt({complete:()=>n="C",error:()=>n="E"}),ut((()=>e(n))))}))}function Mt(e){return t=>t.lift(new zt(e))}const Nt=Mt;class zt{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ut(e,this.callback))}}class Ut extends d{constructor(e,t){super(e),this.add(new i((()=>t(this.notification))))}complete(){this.notification=new Le("C"),super.complete()}error(e){this.notification=new Le("E",void 0,e),super.error(e)}}function Rt(e,t=Q){return n=>{const r=n;let i=null,o=null;const s=new P,a=s.pipe(ft(((e,t)=>e+t),0),mt((n=>0===n?Ne(e,t).pipe(yt((()=>{i&&(i.unsubscribe(),i=null),o&&(o.unsubscribe(),o=null)}))):!i&&n>0?Ne(0,t).pipe(yt((()=>{i||(i=r.connect())}))):Ue)));return Ve((()=>(o||(o=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)})),(()=>n))}}const Wt=Rt;class qt{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new Vt(e,this.scheduler,this.delay))}}class Vt extends d{constructor(e,t,n){super(e),this.scheduler=t,this.delay=n}unsubscribe(){const{delay:e,scheduler:t}=this;t.schedule((()=>super.unsubscribe()),e)}}var Ht=Object.freeze({__proto__:null,auditMap:function(e){return t=>{let n,r=!1;return t.pipe(je(((t,i)=>r?(n=[t,i],te):(r=!0,Fe(e(t,i)).pipe(De(Me((()=>{if(!n)return te;const t=e(...n);return n=void 0,Fe(t)}))),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?We(((t,n)=>e(t,n,r))):A,ct(1),n?Qe(t):ot((()=>new Oe)))}(),yt({complete:()=>r=!1}))))))}},bucketBy:Et,bufferRecent:function(e){return e<1?e=>e.pipe(et([])):1===e?e=>e.pipe(Ie((e=>[e]))):t=>t.pipe(ft(((t,n)=>[...t.slice(1-e),n]),[]))},concatIfEmpty:kt,concatTap:function(e){return t=>t.pipe(Je((t=>Fe(e(t)).pipe(Ze(),Lt(t)))))},concatMapEager:function(e,t){return n=>Me((()=>{let r=0;const i=new Map;return n.pipe(je(((t,n)=>Fe(e(t,n)).pipe(lt(),Ie((e=>({index:n,notification:e}))))),t),je((({index:e,notification:t})=>{let n=i.get(e);switch(n||(n={complete:!1,index:e,values:[]},i.set(e,n)),t.kind){case"N":n.values.push(t.value);break;case"C":n.complete=!0;break;case"E":return t.toObservable()}return n.index!==r?te:function(){const e=[];let t=i.get(r);for(;t&&(e.push(...t.values),t.values.length=0,t.complete);)i.delete(r),t=i.get(++r);return e}()})))}))},debounceAfter:function(e,t,n){return r=>r.pipe(pt((r=>e.pipe(mt((()=>De(Ce(!0),Ce(!1).pipe(nt(t,n))))),dt(!1),rt(),pt((e=>e.pipe(Je((t=>t?r.pipe(bt(e.pipe(We((e=>!e)))),ct(1)):r.pipe(bt(e.pipe(We((e=>e))))))))))))))},debounceSync:function(){return e=>new E((t=>{let n,r;e.subscribe(new At(t,{complete:()=>{n&&t.next(r),t.complete()},error:e=>t.error(e),next:e=>{r=e,n||(n=Q.schedule((()=>{t.next(r),n=void 0})),t.add(n))}}))}))},debounceTimeSubsequent:function(e,t,n){let r;return"number"==typeof t?r=t:(r=1,n=t),Tt(r,function(e,t=X){return k(((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const e=o;o=null,r.next(e)}};function u(){const n=s+e,o=t.now();if(o<n)return i=this.schedule(void 0,n-o),void r.add(i);a()}n.subscribe(L(r,(n=>{o=n,s=t.now(),i||(i=t.schedule(u,e),r.add(i))}),(()=>{a(),r.complete()}),void 0,(()=>{o=i=null})))}))}(e,n))},defaultObservableIfEmpty:Ot,switchIfEmpty:It,deferFinalize:function(e){return t=>t.lift(new jt(e))},delayUntil:function(e){return t=>t.pipe(pt((t=>{const n=new E((n=>{let r=!0;const o=[],s=new i;return s.add(e.subscribe((()=>{o.forEach((e=>n.next(e))),n.complete()}),(e=>n.error(e)),(()=>{r=!1,o.length=0}))),s.add((()=>{o.length=0})),s.add(t.subscribe((e=>r&&o.push(e)),(e=>n.error(e)))),s}));return De(n,t)})))},dispose:function(e){return t=>t.lift(new Bt(e))},endWith:Lt,equals:function(e){return t=>t.pipe(We((t=>e===t)))},exhaustTap:function(e){return t=>t.pipe(xt(1,void 0,(t=>t.pipe(at((n=>De(t,Ue).pipe(bt(Fe(e(n)).pipe(Ze(),Lt(null))),$e(),Pe())))))))},finalizeWithKind:Dt,guard:function(e,t){return n=>n.pipe(Ie((n=>{if(e(n))return n;const r=new Error(t||"Guard rejection.");throw r.value=n,r})))},hold:function(e){return t=>{return t.pipe((n=e,k(((e,t)=>{let r=[];return e.subscribe(L(t,(e=>r.push(e)),(()=>{t.next(r),t.complete()}))),ye(n).subscribe(L(t,(()=>{const e=r;r=[],t.next(e)}),h)),()=>{r=null}}))),Be());var n}},holdToggle:function(e,t){return n=>{return n.pipe((o=e,s=t,k(((e,t)=>{const n=[];ye(o).subscribe(L(t,(e=>{const o=[];n.push(o);const a=new i;a.add(ye(s(e)).subscribe(L(t,(()=>{r(n,o),t.next(o),a.unsubscribe()}),h)))}),h)),e.subscribe(L(t,(e=>{for(const t of n)t.push(e)}),(()=>{for(;n.length>0;)t.next(n.shift());t.complete()})))}))),Be());var o,s}},holdWhen:function(e){return t=>{return t.pipe((n=e,k(((e,t)=>{let r=null,i=null;const o=()=>{null==i||i.unsubscribe();const e=r;r=[],e&&t.next(e),ye(n()).subscribe(i=L(t,o,h))};o(),e.subscribe(L(t,(e=>null==r?void 0:r.push(e)),(()=>{r&&t.next(r),t.complete()}),void 0,(()=>r=i=null)))}))),Be());var n}},indexElements:function(e=((e,t)=>t)){return Ie(e)},inexorably:Mt,finalize:Nt,initial:function(e,t){let n;return"number"==typeof e?n=e:(n=1,t=e),e=>e.pipe(pt((e=>{return ze(e.pipe(Xe(n),t),e.pipe((r=n,We(((e,t)=>r<=t)))));var r})))},instanceOf:function(e){return We("function"==typeof e?t=>t instanceof e:t=>Object.keys(e).some((n=>t instanceof e[n])))},materializeTap:function(e){return t=>t.pipe(yt({complete:()=>e(new Le("C")),error:t=>e(new Le("E",void 0,t)),next:t=>e(new Le("N",t))}))},materializeTo:function(t){return n=>n.pipe(function(t,n,r=1/0){return e(n)?je((()=>t),n,r):("number"==typeof n&&(r=n),je((()=>t),r))}(Fe(t).pipe(lt())),k(((e,t)=>{e.subscribe(L(t,(e=>Te(e,t))))})))},mergeTap:function(e){return t=>t.pipe(je((t=>Fe(e(t)).pipe(Ze(),Lt(t)))))},multicastWithKind:function(e,t){return n=>{let r,i;return n.pipe(Dt((e=>r=e)),ht((()=>(i=e(r,i),r=void 0,i)),t))}},pairwiseStartWith:function(e){return t=>t.pipe(dt(e),k(((e,t)=>{let n,r=!1;e.subscribe(L(t,(e=>{const i=n;n=e,r&&t.next([i,e]),r=!0})))})))},pause:function(e,t="resumed"){return n=>e.pipe(dt(t),xt(1,void 0,(e=>n.pipe(je((t=>e.pipe(We((e=>"resumed"===e)),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?We(((t,n)=>e(t,n,r))):A,Xe(1),n?Qe(t):ot((()=>new Oe)))}(),Ie((()=>t)))))))))},percolate:function e(...t){const[n,...r]=t;return 1===t.length&&Array.isArray(n)?e(...n):new E((t=>Fe(n).subscribe({complete:()=>{t.complete()},next(e){t.next(e)},error:n=>{0===r.length?t.error(n):t.add(e(...r).subscribe(t))}})))},pluck:function(...e){return t=>function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return Ie((n=>{let r=n;for(let n=0;n<t;n++){const t=null==r?void 0:r[e[n]];if(void 0===t)return;r=t}return r}))}(...e)(t)},prioritize:function(e){return t=>new E((n=>{const r=pt()(t),o=[],s=new i,a=Math.max(e.length,2);for(let e=0;e<a;++e){const e=new P;o.push(e),s.add(r.subscribe(e))}const[u,c,...l]=o;return s.add(e(u,c,...l).subscribe(n)),s.add(r.connect()),s}))},rateLimit:function(e,...t){let n=1,r=Q;1===t.length?"number"==typeof t[0]?n=t[0]:r=t[0]:2===t.length&&(n=t[0],r=t[1]);const i=n||1;return t=>t.pipe(ft(((t,n)=>{const o=r.now(),s=o-e;if((t=t.filter((e=>e.until>s))).length>=i){const r=t[0],s=t[t.length-1],a=r.until+e*Math.floor(t.length/i);t.push({delay:s.until<o?a-o:a-s.until,until:a,value:n})}else t.push({delay:0,until:o,value:n});return t}),[]),Ie((e=>e[e.length-1])),Je((e=>{const t=Ce(e.value);return e.delay?t.pipe(nt(e.delay,r)):t})))},refCountDelay:Rt,refCountAuditTime:Wt,refCountForever:function(){return e=>{const t=e;let n=null;return Ve((()=>(n||(n=t.connect()),{unsubscribe:()=>{}})),(()=>e))}},refCountOn:function(e){return t=>{const n=t;let r=0,i=null;return Ve((()=>(++r,e.schedule((()=>{!i&&r>0&&(i=n.connect())})),{unsubscribe:()=>{--r,e.schedule((()=>{i&&0===r&&(i.unsubscribe(),i=null)}))}})),(()=>t))}},reschedule:function(e=Q){return Je((t=>Ce(t,e)))},skipSync:function(){return e=>new E((t=>{let n=!1;const r=e.subscribe((e=>n&&t.next(e)),t.error.bind(t),t.complete.bind(t));return n=!0,r}))},splitBy:function(e,t=(()=>new P)){return Et(2,((t,n)=>e(t,n)?0:1),t)},spread:function(...e){return t=>e.reduce(((e,t)=>e.pipe(t)),t)},startWithDeferred:function(e,t){return n=>De(Me((()=>{const n=e();return t?Ce(n,t):Ce(n)})),n)},startWithTimeout:function(e,t,n){return 0!==t||n?r=>r.pipe(pt((r=>qe(r,De(Ne(t,n).pipe(et(e)),r))))):t=>new E((n=>{let r=!1;const i=t.subscribe((e=>{r=!0,n.next(e)}),n.error.bind(n),n.complete.bind(n));return r||n.next(e),i}))},subsequent:Tt,switchMapUntil:function(e,t){return n=>n.pipe(pt((n=>n.pipe(e,mt(((e,r)=>t(e,r).pipe(bt(n))))))))},switchTap:function(e){return t=>t.pipe(pt((t=>t.pipe(Je((n=>De(Fe(e(n)).pipe(Ze(),bt(t)),Ce(n))))))))},takeSync:function(){return e=>new E((t=>{const n=e.subscribe(t);return t.complete(),n}))},takeWhileInclusive:function(e){return t=>t.pipe(ht((()=>new M(1)),(t=>De(t.pipe(vt(e)),t.pipe(Xe(1),We((t=>!e(t))))))))},tapSubscribe:function(e){const{ignore:t={},subscribe:n=h,unsubscribe:r=h}="function"==typeof e?{subscribe:e}:e;return e=>Me((()=>{let i=!1,o=!1;return n(),e.pipe(yt({complete:()=>i=!0,error:()=>o=!0}),ut((()=>{i&&t.complete||o&&t.error||r()})))}))},tapWithIndex:function(e,t,n){return r=>Me((()=>{let i,o,s,a,u=-1;return e&&"function"!=typeof e?(i=e,o=e.next||h,s=e.error||h,a=e.complete||h):(i=void 0,o=e||h,s=t||h,a=n||h),r.pipe(yt((e=>o.call(i,[e,++u])),(e=>s.call(i,e)),(()=>a.call(i))))}))},throttleAfter:function(e,t,n){return r=>r.pipe(pt((r=>e.pipe(mt((()=>De(Ce(!0),nt(t,n)(Ce(!1))))),dt(!1),rt(),pt((e=>e.pipe(Je((t=>t?r.pipe(Xe(1),bt(e.pipe(We((e=>!e))))):r.pipe(bt(e.pipe(We((e=>e))))))))))))))},withLatestFromWhen:function(...e){const t=e.pop(),n=e;return e=>new E((r=>{const o=pt()(e),s=n.map((e=>Fe(e).pipe(pt()))),a=new i;return a.add(t().pipe(dt(void 0),mt((()=>o.pipe(gt(...s))))).subscribe(r)),s.forEach((e=>a.add(e.connect()))),a.add(o.connect()),a}))},unsubscribeOn:function(e,t=0){return n=>n.lift(new qt(e,t))}});const Gt=Ht;function $t(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var r=n.decode,i=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var o=r[0],s=r.index,a=Object.create(null),u=function(e){if(void 0===r[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?a[n.name]=r[e].split(n.prefix+n.suffix).map((function(e){return i(e,n)})):a[n.name]=i(r[e],n)},c=1;c<r.length;c++)u(c);return{path:o,index:s,params:a}}}(Yt(e,n,t),n,t)}function Jt(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Kt(e){return e&&e.sensitive?"":"i"}function Yt(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(e.source);i;)t.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return Yt(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),Kt(n))}(e,t,n):function(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,i=void 0!==r&&r,o=n.start,s=void 0===o||o,a=n.end,u=void 0===a||a,c=n.encode,l=void 0===c?function(e){return e}:c,h=n.delimiter,p=void 0===h?"/#?":h,x=n.endsWith,f="[".concat(Jt(void 0===x?"":x),"]|$"),d="[".concat(Jt(p),"]"),m=s?"^":"",b=0,v=e;b<v.length;b++){var y=v[b];if("string"==typeof y)m+=Jt(l(y));else{var g=Jt(l(y.prefix)),w=Jt(l(y.suffix));if(y.pattern)if(t&&t.push(y),g||w)if("+"===y.modifier||"*"===y.modifier){var _="*"===y.modifier?"?":"";m+="(?:".concat(g,"((?:").concat(y.pattern,")(?:").concat(w).concat(g,"(?:").concat(y.pattern,"))*)").concat(w,")").concat(_)}else m+="(?:".concat(g,"(").concat(y.pattern,")").concat(w,")").concat(y.modifier);else"+"===y.modifier||"*"===y.modifier?m+="((?:".concat(y.pattern,")").concat(y.modifier,")"):m+="(".concat(y.pattern,")").concat(y.modifier);else m+="(?:".concat(g).concat(w,")").concat(y.modifier)}}if(u)i||(m+="".concat(d,"?")),m+=n.endsWith?"(?=".concat(f,")"):"$";else{var S=e[e.length-1],A="string"==typeof S?d.indexOf(S[S.length-1])>-1:void 0===S;i||(m+="(?:".concat(d,"(?=").concat(f,"))?")),A||(m+="(?=".concat(d,"|").concat(f,")"))}return new RegExp(m,Kt(n))}(function(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var i=1,o="";if("?"===e[a=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(a));for(;a<e.length;)if("\\"!==e[a]){if(")"===e[a]){if(0==--i){a++;break}}else if("("===e[a]&&(i++,"?"!==e[a+1]))throw new TypeError("Capturing groups are not allowed at ".concat(a));o+=e[a++]}else o+=e[a++]+e[a++];if(i)throw new TypeError("Unbalanced pattern at ".concat(n));if(!o)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:o}),n=a}else{for(var s="",a=n+1;a<e.length;){var u=e.charCodeAt(a);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;s+=e[a++]}if(!s)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:s}),n=a}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,o="[^".concat(Jt(t.delimiter||"/#?"),"]+?"),s=[],a=0,u=0,c="",l=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},h=function(e){var t=l(e);if(void 0!==t)return t;var r=n[u],i=r.type,o=r.index;throw new TypeError("Unexpected ".concat(i," at ").concat(o,", expected ").concat(e))},p=function(){for(var e,t="";e=l("CHAR")||l("ESCAPED_CHAR");)t+=e;return t};u<n.length;){var x=l("CHAR"),f=l("NAME"),d=l("PATTERN");if(f||d){var m=x||"";-1===i.indexOf(m)&&(c+=m,m=""),c&&(s.push(c),c=""),s.push({name:f||a++,prefix:m,suffix:"",pattern:d||o,modifier:l("MODIFIER")||""})}else{var b=x||l("ESCAPED_CHAR");if(b)c+=b;else if(c&&(s.push(c),c=""),l("OPEN")){m=p();var v=l("NAME")||"",y=l("PATTERN")||"",g=p();h("CLOSE"),s.push({name:v||(y?a++:""),pattern:v&&!y?o:y,prefix:m,suffix:g,modifier:l("MODIFIER")||""})}else h("END")}}return s}(e,n),t,n)}(e,t,n)}function Qt(e,t){return function(e,t,n=!0){const r=Array.isArray(t)?t:t.split("");if(r.indexOf(e[0])>-1){const t=Array.isArray(e)?e:e.split("");for(;r.indexOf(t[0])>-1;)t.shift();return n?t.join(""):t}return e}((Array.isArray(e)?e:e.split("")).reverse(),t,!1).reverse().join("")}function Xt(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var en=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function tn(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function nn(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?rn(on(e),(function(r){var i=encodeURIComponent(tn(r))+n;return en(e[r])?rn(e[r],(function(e){return i+encodeURIComponent(tn(e))})).join(t):i+encodeURIComponent(tn(e[r]))})).join(t):r?encodeURIComponent(tn(r))+n+encodeURIComponent(tn(e)):""}function rn(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var on=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};function sn(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,l,h,p,x=e[u].replace(o,"%20"),f=x.indexOf(n);f>=0?(c=x.substr(0,f),l=x.substr(f+1)):(c=x,l=""),h=decodeURIComponent(c),p=decodeURIComponent(l),Zt(i,h)?en(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i}var an={encode:nn,stringify:nn,decode:sn,parse:sn},un=Xt(Object.freeze({__proto__:null,stringify:nn,parse:sn,default:an,encode:nn,decode:sn})),cn=2147483647,ln=36,hn=1,pn=26,xn=38,fn=700,dn=72,mn=128,bn="-",vn=/^xn--/,yn=/[^\x20-\x7E]/,gn=/[\x2E\u3002\uFF0E\uFF61]/g,wn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_n=ln-hn,Sn=Math.floor,An=String.fromCharCode;function En(e){throw new RangeError(wn[e])}function Fn(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function Cn(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+Fn((e=e.replace(gn,".")).split("."),t).join(".")}function kn(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function Ln(e){return Fn(e,(function(e){var t="";return e>65535&&(t+=An((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+An(e)})).join("")}function Tn(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function On(e,t,n){var r=0;for(e=n?Sn(e/fn):e>>1,e+=Sn(e/t);e>_n*pn>>1;r+=ln)e=Sn(e/_n);return Sn(r+(_n+1)*e/(e+xn))}function In(e){var t,n,r,i,o,s,a,u,c,l,h,p=[],x=e.length,f=0,d=mn,m=dn;for((n=e.lastIndexOf(bn))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&En("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<x;){for(o=f,s=1,a=ln;i>=x&&En("invalid-input"),((u=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:ln)>=ln||u>Sn((cn-f)/s))&&En("overflow"),f+=u*s,!(u<(c=a<=m?hn:a>=m+pn?pn:a-m));a+=ln)s>Sn(cn/(l=ln-c))&&En("overflow"),s*=l;m=On(f-o,t=p.length+1,0==o),Sn(f/t)>cn-d&&En("overflow"),d+=Sn(f/t),f%=t,p.splice(f++,0,d)}return Ln(p)}function jn(e){var t,n,r,i,o,s,a,u,c,l,h,p,x,f,d,m=[];for(p=(e=kn(e)).length,t=mn,n=0,o=dn,s=0;s<p;++s)(h=e[s])<128&&m.push(An(h));for(r=i=m.length,i&&m.push(bn);r<p;){for(a=cn,s=0;s<p;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>Sn((cn-n)/(x=r+1))&&En("overflow"),n+=(a-t)*x,t=a,s=0;s<p;++s)if((h=e[s])<t&&++n>cn&&En("overflow"),h==t){for(u=n,c=ln;!(u<(l=c<=o?hn:c>=o+pn?pn:c-o));c+=ln)d=u-l,f=ln-l,m.push(An(Tn(l+d%f,0))),u=Sn(d/f);m.push(An(Tn(u,0))),o=On(n,x,r==i),n=0,++r}++n,++t}return m.join("")}function Pn(e){return Cn(e,(function(e){return vn.test(e)?In(e.slice(4).toLowerCase()):e}))}function Bn(e){return Cn(e,(function(e){return yn.test(e)?"xn--"+jn(e):e}))}var Dn="1.4.1",Mn={decode:kn,encode:Ln},Nn={version:Dn,ucs2:Mn,toASCII:Bn,toUnicode:Pn,encode:jn,decode:In},zn=Xt(Object.freeze({__proto__:null,decode:In,encode:jn,toUnicode:Pn,toASCII:Bn,version:Dn,ucs2:Mn,default:Nn}));function Un(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var Rn=un;Un.queryString=Rn,Un.prototype.parse=function(e,t,n,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);for(var i=0,o=e.length-1;e.charCodeAt(i)<=32;)i++;for(;e.charCodeAt(o)<=32;)o--;if(i=this._parseProtocol(e,i,o),"javascript"!==this._protocol){i=this._parseHost(e,i,o,n);var s=this._protocol;!this.hostname&&(this.slashes||s&&!er[s])&&(this.hostname=this.host="")}if(i<=o){var a=e.charCodeAt(i);47===a||92===a?this._parsePath(e,i,o,r):63===a?this._parseQuery(e,i,o,r):35===a?this._parseHash(e,i,o,r):"javascript"!==this._protocol?this._parsePath(e,i,o,r):this.pathname=e.slice(i,o+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),t){var u=this.search;null==u&&(u=this.search=""),63===u.charCodeAt(0)&&(u=u.slice(1)),this.query=Un.queryString.parse(u)}},Un.prototype.resolve=function(e){return this.resolveObject(Un.parse(e,!1,!0)).format()},Un.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=this.search||"",o="",s=this.hostname||"",a=this.port||"",u=!1,c="",l=this.query;l&&"object"==typeof l&&(o=Un.queryString.stringify(l)),i||(i=o?"?"+o:""),t&&58!==t.charCodeAt(t.length-1)&&(t+=":"),this.host?u=e+this.host:s&&(s.indexOf(":")>-1&&(s="["+s+"]"),u=e+s+(a?":"+a:""));var h=this.slashes||(!t||er[t])&&!1!==u;return t?c=t+(h?"//":""):h&&(c="//"),h&&n&&47!==n.charCodeAt(0)&&(n="/"+n),i&&63!==i.charCodeAt(0)&&(i="?"+i),r&&35!==r.charCodeAt(0)&&(r="#"+r),c+(!1===u?"":u)+(n=qn(n))+(i=Vn(i))+r},Un.prototype.resolveObject=function(e){"string"==typeof e&&(e=Un.parse(e,!1,!0));var t=this._clone();if(t.hash=e.hash,!e.href)return t._href="",t;if(e.slashes&&!e._protocol)return e._copyPropsTo(t,!0),er[t._protocol]&&t.hostname&&!t.pathname&&(t.pathname="/"),t._href="",t;if(e._protocol&&e._protocol!==t._protocol){if(!er[e._protocol])return e._copyPropsTo(t,!1),t._href="",t;if(t._protocol=e._protocol,e.host||"javascript"===e._protocol)t.pathname=e.pathname;else{for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),t.pathname=n.join("/")}return t.search=e.search,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t._port=e._port,t.slashes=t.slashes||e.slashes,t._href="",t}var r=t.pathname&&47===t.pathname.charCodeAt(0),i=e.host||e.pathname&&47===e.pathname.charCodeAt(0),o=i||r||t.host&&e.pathname,s=o,a=t.pathname&&t.pathname.split("/")||[],u=(n=e.pathname&&e.pathname.split("/")||[],t._protocol&&!er[t._protocol]);if(u&&(t.hostname="",t._port=-1,t.host&&(""===a[0]?a[0]=t.host:a.unshift(t.host)),t.host="",e._protocol&&(e.hostname="",e._port=-1,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=""),o=o&&(""===n[0]||""===a[0])),i)t.host=e.host?e.host:t.host,t.hostname=e.hostname?e.hostname:t.hostname,t.search=e.search,a=n;else if(n.length)a||(a=[]),a.pop(),a=a.concat(n),t.search=e.search;else if(e.search)return u&&(t.hostname=t.host=a.shift(),(x=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=x.shift(),t.host=t.hostname=x.shift())),t.search=e.search,t._href="",t;if(!a.length)return t.pathname=null,t._href="",t;for(var c=a.slice(-1)[0],l=(t.host||e.host)&&("."===c||".."===c)||""===c,h=0,p=a.length;p>=0;p--)"."===(c=a[p])?a.splice(p,1):".."===c?(a.splice(p,1),h++):h&&(a.splice(p,1),h--);if(!o&&!s)for(;h--;h)a.unshift("..");!o||""===a[0]||a[0]&&47===a[0].charCodeAt(0)||a.unshift(""),l&&"/"!==a.join("/").substr(-1)&&a.push("");var x,f=""===a[0]||a[0]&&47===a[0].charCodeAt(0);return u&&(t.hostname=t.host=f?"":a.length?a.shift():"",(x=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=x.shift(),t.host=t.hostname=x.shift())),(o=o||t.host&&a.length)&&!f&&a.unshift(""),t.pathname=0===a.length?null:a.join("/"),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t._href="",t};var Wn=zn;Un.prototype._hostIdna=function(e){return Wn.toASCII(e)};var qn=Un.prototype._escapePathName=function(e){return Hn(e,35,63)?function(e){return e.replace(/[?#]/g,(function(e){return encodeURIComponent(e)}))}(e):e},Vn=Un.prototype._escapeSearch=function(e){return Hn(e,35,-1)?function(e){return e.replace(/#/g,(function(e){return encodeURIComponent(e)}))}(e):e};function Hn(e,t,n){for(var r=0,i=e.length;r<i;++r){var o=e.charCodeAt(r);if(o===t||o===n)return!0}return!1}function Gn(e){var t=new Uint8Array(128);return e.forEach((function(e){if("number"==typeof e)t[e]=1;else for(var n=e[0],r=e[1],i=n;i<=r;++i)t[i]=1})),t}Un.prototype._parseProtocol=function(e,t,n){for(var r=!1,i=this._protocolCharacters,o=t;o<=n;++o){var s=e.charCodeAt(o);if(58===s){var a=e.slice(t,o);return r&&(a=a.toLowerCase()),this._protocol=a,o+1}if(1!==i[s])return t;s<97&&(r=!0)}return t},Un.prototype._parseAuth=function(e,t,n,r){var i=e.slice(t,n+1);r&&(i=decodeURIComponent(i)),this.auth=i},Un.prototype._parsePort=function(e,t,n){for(var r=0,i=!1,o=!0,s=t;s<=n;++s){var a=e.charCodeAt(s);if(!(48<=a&&a<=57)){o=!1,92!==a&&47!==a||(o=!0);break}r=10*r+(a-48),i=!0}return 0===r&&!i||!o?(o||(this._port=-2),0):(this._port=r,s-t)},Un.prototype._parseHost=function(e,t,n,r){var i=this._hostEndingCharacters,o=e.charCodeAt(t),s=e.charCodeAt(t+1);if(47!==o&&92!==o||47!==s&&92!==s){if(!this._protocol||er[this._protocol])return t}else{if(this.slashes=!0,0===t){if(n<2)return t;var a=function(e,t,n,r){for(var i=e.length,o=2;o<i;++o){var s=e.charCodeAt(o);if(64===s)return!0;if(1===r[s])return!1}return!1}(e,0,0,i);if(!a&&!r)return this.slashes=null,t}t+=2}for(var u=!1,c=!1,l=t,h=n,p=0,x=0,f=!1,d=-1,m=t;m<=n;++m)if(64===(v=e.charCodeAt(m)))d=m;else if(37===v)f=!0;else if(1===i[v])break;if(d>-1&&(this._parseAuth(e,t,d-1,f),t=l=d+1),91===e.charCodeAt(t)){for(m=t+1;m<=n;++m)if(93===(v=e.charCodeAt(m))){58===e.charCodeAt(m+1)&&(p=this._parsePort(e,m+2,n)+1);var b=e.slice(t+1,m).toLowerCase();return this.hostname=b,this.host=this._port>0?"["+b+"]:"+this._port:"["+b+"]",this.pathname="/",m+p+1}return t}for(m=t;m<=n;++m){if(x>62)return this.hostname=this.host=e.slice(t,m),m;var v;if(58===(v=e.charCodeAt(m))){p=this._parsePort(e,m+1,n)+1,h=m-1;break}if(v<97){if(46===v)x=-1;else if(65<=v&&v<=90)u=!0;else if(!(45===v||95===v||43===v||48<=v&&v<=57)){0===i[v]&&0===this._noPrependSlashHostEnders[v]&&(this._prependSlash=!0),h=m-1;break}}else if(v>=123){if(v<=126){0===this._noPrependSlashHostEnders[v]&&(this._prependSlash=!0),h=m-1;break}c=!0}x++}return h+1!==t&&h-l<=256&&(b=e.slice(l,h+1),u&&(b=b.toLowerCase()),c&&(b=this._hostIdna(b)),this.hostname=b,this.host=this._port>0?b+":"+this._port:b),h+1+p},Un.prototype._copyPropsTo=function(e,t){t||(e._protocol=this._protocol),e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname},Un.prototype._clone=function(){var e=new Un;return e._protocol=this._protocol,e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname,e},Un.prototype._getComponentEscaped=function(e,t,n,r){for(var i=t,o=t,s="",a=r?this._afterQueryAutoEscapeMap:this._autoEscapeMap;o<=n;++o){var u=a[e.charCodeAt(o)];""!==u&&void 0!==u&&(i<o&&(s+=e.slice(i,o)),s+=u,i=o+1)}return i<o+1&&(s+=e.slice(i,o)),s},Un.prototype._parsePath=function(e,t,n,r){for(var i,o=t,s=n,a=!1,u=this._autoEscapeCharacters,c=-2===this._port?"/:":"",l=t;l<=n;++l){var h=e.charCodeAt(l);if(35===h){this._parseHash(e,l,n,r),s=l-1;break}if(63===h){this._parseQuery(e,l,n,r),s=l-1;break}r||a||1!==u[h]||(a=!0)}o>s?this.pathname=""===c?"/":c:(i=a?this._getComponentEscaped(e,o,s,!1):e.slice(o,s+1),this.pathname=""===c?this._prependSlash?"/"+i:i:c+i)},Un.prototype._parseQuery=function(e,t,n,r){for(var i,o=t,s=n,a=!1,u=this._autoEscapeCharacters,c=t;c<=n;++c){var l=e.charCodeAt(c);if(35===l){this._parseHash(e,c,n,r),s=c-1;break}r||a||1!==u[l]||(a=!0)}o>s?this.search="":(i=a?this._getComponentEscaped(e,o,s,!0):e.slice(o,s+1),this.search=i)},Un.prototype._parseHash=function(e,t,n,r){this.hash=t>n?"":r?e.slice(t,n+1):this._getComponentEscaped(e,t,n,!0)},Object.defineProperty(Un.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(e){this._port=null==e?-1:parseInt(e,10)}}),Object.defineProperty(Un.prototype,"query",{get:function(){var e=this._query;if(null!=e)return e;var t=this.search;return t&&(63===t.charCodeAt(0)&&(t=t.slice(1)),""!==t)?(this._query=t,t):t},set:function(e){this._query=e}}),Object.defineProperty(Un.prototype,"path",{get:function(){var e=this.pathname||"",t=this.search||"";return e||t?e+t:null==e&&t?"/"+t:null},set:function(){}}),Object.defineProperty(Un.prototype,"protocol",{get:function(){var e=this._protocol;return e?e+":":e},set:function(e){if("string"==typeof e){var t=e.length-1;58===e.charCodeAt(t)?this._protocol=e.slice(0,t):this._protocol=e}else null==e&&(this._protocol=null)}}),Object.defineProperty(Un.prototype,"href",{get:function(){var e=this._href;return e||(e=this._href=this.format()),e},set:function(e){this._href=e}}),Un.parse=function(e,t,n,r){if(e instanceof Un)return e;var i=new Un;return i.parse(e,!!t,!!n,!!r),i},Un.format=function(e){return"string"==typeof e&&(e=Un.parse(e)),e instanceof Un?e.format():Un.prototype.format.call(e)},Un.resolve=function(e,t){return Un.parse(e,!1,!0).resolve(t)},Un.resolveObject=function(e,t){return e?Un.parse(e,!1,!0).resolveObject(t):t};for(var $n=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],Jn=new Array(128),Kn=0,Yn=Jn.length;Kn<Yn;++Kn)Jn[Kn]="";for(Kn=0,Yn=$n.length;Kn<Yn;++Kn){var Qn=$n[Kn],Xn=encodeURIComponent(Qn);Xn===Qn&&(Xn=escape(Qn)),Jn[Qn.charCodeAt(0)]=Xn}var Zn=Jn.slice();Jn[92]="/";var er=Un.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};Un.prototype._protocolCharacters=Gn([[97,122],[65,90],46,43,45]),Un.prototype._hostEndingCharacters=Gn([35,63,47,92]),Un.prototype._autoEscapeCharacters=Gn($n.map((function(e){return e.charCodeAt(0)}))),Un.prototype._noPrependSlashHostEnders=Gn(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map((function(e){return e.charCodeAt(0)}))),Un.prototype._autoEscapeMap=Jn,Un.prototype._afterQueryAutoEscapeMap=Zn;var tr=Un;Un.replace=function(){require.cache.url={exports:Un}},tr.format;var nr=tr.parse;tr.queryString,tr.replace,tr.resolve,tr.resolveObject;var rr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ir={},or={},sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.fromHex=sr.toHex=void 0;const ar=e=>new Number(e).toString(16).toLowerCase();sr.toHex=e=>`0x${1===ar(e).length?"0"+ar(e):ar(e)}`,sr.fromHex=e=>new Number(e);var ur={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createComplexNode=e.createNode=e.merge=void 0;const t=e=>({typename:e.typename,mime:e.info.mime,extension:e.info.extension}),n=e=>e[0],r=e=>e.slice(1,e.length);e.merge=(i,o)=>{if(0===i.bytes.length)return o;const s=n(i.bytes),a=r(i.bytes);if(((e,t)=>e&&0===t.length)(o.bytes[s],a)){const e=o.bytes[s];return o.bytes[s]={...e,matches:[...e.matches?e.matches:[],t(i)]},o}return o.bytes[s]?(o.bytes[s]=e.merge(e.createNode(i.typename,a,i.info),o.bytes[s]),o):(o.bytes[s]||(o.bytes[s]={...o.bytes[s],...e.createComplexNode(i.typename,a,i.info)}),o)},e.createNode=(e,t,n)=>({typename:e,bytes:t,info:n||{}}),e.createComplexNode=(i,o,s)=>{let a={bytes:{},matches:void 0};const u=n(o),c=r(o);return 0===o.length?{matches:[t({typename:i,info:s?{extension:s.extension,mime:s.mime}:{}})],bytes:{}}:(a.bytes[u]=e.createComplexNode(i,c,s),a)}}(ur),Object.defineProperty(or,"__esModule",{value:!0});const cr=sr,lr=ur;let hr={noOffset:null,offset:{}};const pr=(e,t,n,r)=>{if(r){const i=hr.offset[cr.toHex(r)];if(i){const o=lr.merge(lr.createNode(e,t.map((e=>e.toLowerCase())),n),{...i});hr.offset[cr.toHex(r)]=o}else hr.offset[cr.toHex(r)]=lr.createComplexNode(e,t.map((e=>e.toLowerCase())),n)}else null===hr.noOffset?hr.noOffset=lr.createComplexNode(e,t.map((e=>e.toLowerCase())),n):hr.noOffset=lr.merge(lr.createNode(e,t.map((e=>e.toLowerCase())),n),hr.noOffset)};function xr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}pr("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"}),pr("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"}),pr("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"}),pr("jpg",["0xFF","0xD8","0xFF","0xDB"],{mime:"image/jpeg",extension:"jpeg"}),pr("jpg",["0xFF","0xD8","0xFF","0xE0","?","?","0x4A","0x46","0x49","0x46","0x00","0x01"],{mime:"image/jpeg",extension:"jpeg"}),pr("jpg",["0xFF","0xD8","0xFF","0xE1","?","?","0x45","0x78","0x69","0x66","0x00","0x00"],{mime:"image/jpeg",extension:"jpeg"}),pr("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"}),pr("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4),pr("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4),pr("rpm",["0xed","0xab","0xee","0xdb"]),pr("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"}),pr("pic",["0x00"]),pr("pif",["0x00"]),pr("sea",["0x00"]),pr("ytr",["0x00"]),pr("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4),pr("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"}),pr("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"}),pr("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"}),pr("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"}),pr("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"}),pr("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]),pr("dba",["0xBE","0xBA","0xFE","0xCA"]),pr("dba2",["0x00","0x01","0x42","0x44"]),pr("tda",["0x00","0x01","0x44","0x54"]),pr("tda2",["0x00","0x01","0x00","0x00"]),pr("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"}),pr("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]),pr("z",["0x1F","0x9D"]),pr("tar.z",["0x1F","0xA0"]),pr("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]),pr("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"}),pr("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"}),pr("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"}),pr("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]),pr("cin",["0x80","0x2A","0x5F","0xD7"]),pr("cin1",["0x52","0x4E","0x43","0x01"]),pr("cin2",["0x52","0x4E","0x43","0x02"]),pr("dpx",["0x53","0x44","0x50","0x58"]),pr("dpx2",["0x58","0x50","0x44","0x53"]),pr("exr",["0x76","0x2F","0x31","0x01"]),pr("bpg",["0x42","0x50","0x47","0xFB"]),pr("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]),pr("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]),pr("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]),pr("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]),pr("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]),pr("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]),pr("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]),pr("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]),pr("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]),pr("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]),pr("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]),pr("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"}),pr("idx",["0x49","0x4E","0x44","0x58"]),pr("lz",["0x4C","0x5A","0x49","0x50"]),pr("exe",["0x4D","0x5A"]),pr("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"}),pr("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"}),pr("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"}),pr("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"}),pr("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"}),pr("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"}),pr("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),pr("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),pr("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"}),pr("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),pr("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),pr("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"}),pr("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),pr("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),pr("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"}),pr("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),pr("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),pr("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"}),pr("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),pr("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),pr("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"}),pr("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),pr("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),pr("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"}),pr("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),pr("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),pr("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"}),pr("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"}),pr("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"}),pr("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"}),pr("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"}),pr("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"}),pr("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"}),pr("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"}),pr("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"}),pr("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"}),pr("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"}),pr("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"}),pr("class",["0xCA","0xFE","0xBA","0xBE"]),pr("class",["0xEF","0xBB","0xBF"]),pr("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096),pr("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096),pr("class",["0xCE","0xFA","0xed","0xFE"]),pr("class",["0xCF","0xFA","0xed","0xFE"]),pr("class",["0xFF","0xFE"]),pr("class",["0xFF","0xFE"]),pr("class",["0xFF","0xFE","0x00","0x00"]),pr("ps",["0x25","0x21","0x50","0x53"]),pr("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"}),pr("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),pr("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),pr("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]),pr("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]),pr("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"}),pr("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"}),pr("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"}),pr("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"}),pr("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"}),pr("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"}),pr("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"}),pr("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]),pr("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"}),pr("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"}),pr("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"}),pr("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"}),pr("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"}),pr("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"}),pr("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"}),pr("iso",["0x43","0x44","0x30","0x30","0x31"]),pr("flac",["0x66","0x4C","0x61","0x43"]),pr("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"}),pr("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"}),pr("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"}),pr("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"}),pr("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"}),pr("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]),pr("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]),pr("vmdk",["0x4B","0x44","0x4D"]),pr("crx",["0x43","0x72","0x32","0x34"]),pr("fh8",["0x41","0x47","0x44","0x33"]),pr("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),pr("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]),pr("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]),pr("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]),pr("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]),pr("xar",["0x78","0x61","0x72","0x21"]),pr("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]),pr("nes",["0x4E","0x45","0x53","0x1A"]),pr("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],void 0,257),pr("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],void 0,257),pr("tox",["0x74","0x6F","0x78","0x33"]),pr("mlv",["0x4D","0x4C","0x56","0x49"]),pr("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]),pr("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"}),pr("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"}),pr("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"}),pr("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"}),pr("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"}),pr("lz2",["0x04","0x22","0x4D","0x18"]),pr("cab",["0x4D","0x53","0x43","0x46"]),pr("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"}),pr("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"}),pr("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"}),pr("mk3d",["0x1A","0x45","0xDF","0xA3"]),pr("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"}),pr("dcm",["0x44","0x49","0x43","0x4D"],void 0,128),pr("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"}),pr("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"}),pr("lep",["0xCF","0x84","0x01"]),pr("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),pr("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"}),pr("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]),pr("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"}),pr("m2p",["0x00","0x00","0x01","0xBA"]),pr("vob",["0x00","0x00","0x01","0xBA"]),pr("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"}),pr("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"}),pr("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"}),pr("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"}),pr("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4),pr("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4),pr("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]),pr("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"}),pr("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"}),pr("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"}),pr("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"}),pr("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"}),pr("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"}),pr("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"}),pr("Json",["0x7B"],{mime:"application/json",extension:".json"}),pr("Json",["0x5B"],{mime:"application/json",extension:".json"}),pr("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"}),pr("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"}),pr("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"}),pr("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"}),or.default=()=>hr,function(e){var t=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.filetypeextension=e.filetypemime=e.filetypename=e.filetypeinfo=void 0;const n=t(or),r=sr,i=n.default();e.filetypeinfo=e=>{let t=i;for(const n of Object.keys(t.offset)){const t=r.fromHex(n);if(t>=e.length)continue;const s=i.offset[n],a=o(t,e,s);if(a.length>0)return a}return null===t.noOffset?[]:o(0,e,t.noOffset)};const o=(e,t,n)=>{let i=n,o=[];for(;;){const n=r.toHex(t[e]);if(i=i.bytes["?"]&&!i.bytes[n]?i.bytes["?"]:i.bytes[n],!i)return o;i&&i.matches&&(o=i.matches.slice(0)),e+=1}};e.default=e.filetypeinfo,e.filetypename=t=>e.filetypeinfo(t).map((e=>e.typename)),e.filetypemime=t=>e.filetypeinfo(t).map((e=>e.mime?e.mime:null)).filter((e=>null!==e)),e.filetypeextension=t=>e.filetypeinfo(t).map((e=>e.extension?e.extension:null)).filter((e=>null!==e))}(ir);var fr,dr={exports:{}},mr="object"==typeof Reflect?Reflect:null,br=mr&&"function"==typeof mr.apply?mr.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};fr=mr&&"function"==typeof mr.ownKeys?mr.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var vr=Number.isNaN||function(e){return e!=e};function yr(){yr.init.call(this)}dr.exports=yr,dr.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}Lr(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Lr(e,"error",t,n)}(e,i,{once:!0})}))},yr.EventEmitter=yr,yr.prototype._events=void 0,yr.prototype._eventsCount=0,yr.prototype._maxListeners=void 0;var gr=10;function wr(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _r(e){return void 0===e._maxListeners?yr.defaultMaxListeners:e._maxListeners}function Sr(e,t,n,r){var i,o,s,a;if(wr(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=_r(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function Ar(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Er(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Ar.bind(r);return i.listener=n,r.wrapFn=i,i}function Fr(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):kr(i,i.length)}function Cr(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function kr(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Lr(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(yr,"defaultMaxListeners",{enumerable:!0,get:function(){return gr},set:function(e){if("number"!=typeof e||e<0||vr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");gr=e}}),yr.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||vr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},yr.prototype.getMaxListeners=function(){return _r(this)},yr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)br(a,this,t);else{var u=a.length,c=kr(a,u);for(n=0;n<u;++n)br(c[n],this,t)}return!0},yr.prototype.addListener=function(e,t){return Sr(this,e,t,!1)},yr.prototype.on=yr.prototype.addListener,yr.prototype.prependListener=function(e,t){return Sr(this,e,t,!0)},yr.prototype.once=function(e,t){return wr(t),this.on(e,Er(this,e,t)),this},yr.prototype.prependOnceListener=function(e,t){return wr(t),this.prependListener(e,Er(this,e,t)),this},yr.prototype.removeListener=function(e,t){var n,r,i,o,s;if(wr(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},yr.prototype.off=yr.prototype.removeListener,yr.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},yr.prototype.listeners=function(e){return Fr(this,e,!0)},yr.prototype.rawListeners=function(e){return Fr(this,e,!1)},yr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Cr.call(e,t)},yr.prototype.listenerCount=Cr,yr.prototype.eventNames=function(){return this._eventsCount>0?fr(this._events):[]};var Tr=dr.exports,Or="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);const Ir=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};const{EventEmitter:jr}=Tr,Pr=new Error("Stream was destroyed"),Br=new Error("Premature close"),Dr=Or,Mr=class{constructor(e){this.hwm=e||16,this.head=new Ir(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new Ir(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}},Nr=134217727,zr=1^Nr,Ur=64,Rr=128,Wr=256,qr=1024,Vr=2048,Hr=4096,Gr=8192,$r=16384,Jr=32768,Kr=768^Nr,Yr=134184959,Qr=1<<17,Xr=2<<17,Zr=4<<17,ei=8<<17,ti=16<<17,ni=32<<17,ri=64<<17,ii=128<<17,oi=256<<17,si=512<<17,ai=100532223,ui=133693439,ci=117440511,li=131088,hi=134086639,pi=4210688,xi=14,fi=15,di=4210702,mi=16809984,bi=16809999,vi=1179648,yi=1179663,gi=Symbol.asyncIterator||Symbol("asyncIterator");class wi{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:o}={}){this.stream=e,this.queue=new Mr,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||i||Vi,this.map=r||n,this.afterWrite=ki.bind(this),this.afterUpdateNextTick=Oi.bind(this)}get ended(){return 0!=(this.stream._duplexState&ni)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=ei,!0):(this.stream._duplexState|=3145728,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=133169151),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|si)&ui}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);(r._duplexState&yi)===vi;)n.push(r._writableState.shift());if(0!=(r._duplexState&fi))return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=Xr;do{for(;(e._duplexState&yi)===ei;){const t=this.shift();e._duplexState|=33685504,e._write(t,this.afterWrite)}0==(655360&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=133955583}updateNonPrimary(){const e=this.stream;if((72482831&e._duplexState)===si)return e._duplexState=67108863&(e._duplexState|Qr),void e._final(Fi.bind(this));4!=(e._duplexState&xi)?1==(e._duplexState&bi)&&(e._duplexState=(e._duplexState|li)&zr,e._open(Ii.bind(this))):0==(e._duplexState&mi)&&(e._duplexState|=li,e._destroy(Ci.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&ii)&&(this.stream._duplexState&=ci,!0)}updateCallback(){(17563663&this.stream._duplexState)===Zr?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&ii)&&(this.stream._duplexState|=ii,0==(this.stream._duplexState&Xr)&&Dr(this.afterUpdateNextTick))}}class _i{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:o}={}){this.stream=e,this.queue=new Mr,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||i||Vi,this.map=r||n,this.pipeTo=null,this.afterRead=Li.bind(this),this.afterUpdateNextTick=Ti.bind(this)}get ended(){return 0!=(this.stream._duplexState&$r)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new Ai(this.stream,e,t),t&&this.stream.on("error",Hi),qi(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",Hi),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Ei.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=134152127&(t._duplexState|qr),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=134152191&(t._duplexState|Rr),this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=134209407),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if((16527&e._duplexState)===Rr){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=Kr),0!=(e._duplexState&Vr)&&e.emit("data",t),t}return null}drain(){const e=this.stream;for(;(16527&e._duplexState)===Rr&&0!=(768&e._duplexState);){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=Kr),0!=(e._duplexState&Vr)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&0==(82975&e._duplexState);)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=Gr,e.emit("readable")),0==(80&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=134217695}updateNonPrimary(){const e=this.stream;(1167&e._duplexState)===qr&&(e._duplexState=134216703&(e._duplexState|$r),e.emit("end"),(e._duplexState&di)===pi&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(e._duplexState&xi)?1==(e._duplexState&bi)&&(e._duplexState=(e._duplexState|li)&zr,e._open(Ii.bind(this))):0==(e._duplexState&mi)&&(e._duplexState|=li,e._destroy(Ci.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&Jr)&&(this.stream._duplexState&=Yr,!0)}updateCallback(){(32879&this.stream._duplexState)===Ur?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&Jr)&&(this.stream._duplexState|=Jr,0==(32&this.stream._duplexState)&&Dr(this.afterUpdateNextTick))}}class Si{constructor(e){this.data=null,this.afterTransform=ji.bind(e),this.afterFinal=null}}class Ai{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(e._duplexState&$r)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&$r)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function Ei(){this.stream._duplexState|=512,this.updateCallback()}function Fi(e){const t=this.stream;e&&t.destroy(e),0==(t._duplexState&xi)&&(t._duplexState|=ni,t.emit("finish")),(t._duplexState&di)===pi&&(t._duplexState|=4),t._duplexState&=ai,0==(t._duplexState&Xr)?this.update():this.updateNextTick()}function Ci(e){const t=this.stream;e||this.error===Pr||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function ki(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=ai,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),(3276815&t._duplexState)===ti&&(t._duplexState&=132120575,(t._duplexState&ri)===ri&&t.emit("drain")),this.updateCallback()}function Li(e){e&&this.stream.destroy(e),this.stream._duplexState&=134217711,this.updateCallback()}function Ti(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=Yr,this.update())}function Oi(){0==(this.stream._duplexState&Xr)&&(this.stream._duplexState&=ci,this.update())}function Ii(e){const t=this.stream;e&&t.destroy(e),0==(4&t._duplexState)&&(0==(17423&t._duplexState)&&(t._duplexState|=Ur),0==(71303183&t._duplexState)&&(t._duplexState|=Zr),t.emit("open")),t._duplexState&=hi,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function ji(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function Pi(e){null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=Hr,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=ri,this._writableState.updateNextTick())}class Bi extends jr{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Gi.bind(this))),this.on("newListener",Pi)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(this._duplexState&xi)}destroy(e){0==(this._duplexState&xi)&&(e||(e=Pr),this._duplexState=133693375&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=134217725,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class Di extends Bi{constructor(e){super(e),this._duplexState|=4194305,this._readableState=new _i(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=Wr,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(e,t){let n;const r=new Di({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function i(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(qi(n=e)&&n.readable)return e;var n;if(e[gi])return this._fromAsyncIterator(e[gi](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let r=0;return new Di({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return 0!=(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(e._duplexState&Wr)}[gi](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&i(e.read())})),this.on("close",(function(){null!==n&&i(null)})),{[gi](){return this},next:()=>new Promise((function(t,o){n=t,r=o;const s=e.read();null!==s?i(s):0!=(8&e._duplexState)&&i(null)})),return:()=>o(null),throw:e=>o(e)};function i(i){null!==r&&(t?r(t):null===i&&0==(e._duplexState&$r)?r(Pr):n({value:i,done:null===i}),r=n=null)}function o(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?r(t):n({value:void 0,done:!0})}))}))}}}class Mi extends Bi{constructor(e){super(e),this._duplexState|=16385,this._writableState=new wi(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(73400334&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,n=function(e){return e._writev!==Mi.prototype._writev&&e._writev!==Ni.prototype._writev}(e)?Math.min(1,t.queue.length):t.queue.length,r=n+(e._duplexState&oi?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class Ni extends Di{constructor(e){super(e),this._duplexState=1,this._writableState=new wi(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class zi extends Ni{constructor(e){super(e),this._transformState=new Si(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Ui.bind(this))}}function Ui(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function Ri(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],o=null,s=null;for(let e=1;e<n.length;e++)o=n[e],qi(i)?i.pipe(o,u):(a(i,!0,e>1,u),i.pipe(o)),i=o;if(r){let e=!1;const t=qi(o)||!(!o._writableState||!o._writableState.autoDestroy);o.on("error",(e=>{null===s&&(s=e)})),o.on("finish",(()=>{e=!0,t||r(s)})),t&&o.on("close",(()=>r(s||(e?null:Br))))}return o;function a(e,t,n,r){e.on("error",r),e.on("close",(function(){if(t&&e._readableState&&!e._readableState.ended)return r(Br);if(n&&e._writableState&&!e._writableState.ended)return r(Br)}))}function u(e){if(e&&!s){s=e;for(const t of n)t.destroy(e)}}}function Wi(e){return!!e._readableState||!!e._writableState}function qi(e){return"number"==typeof e._duplexState&&Wi(e)}function Vi(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function Hi(){}function Gi(){this.destroy(new Error("Stream aborted."))}var $i={pipeline:Ri,pipelinePromise:function(...e){return new Promise(((t,n)=>Ri(...e,(e=>{if(e)return n(e);t()}))))},isStream:Wi,isStreamx:qi,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===Pr?null:t},Stream:Bi,Writable:Mi,Readable:Di,Duplex:Ni,Transform:zi,PassThrough:class extends zi{}},Ji={exports:{}};function Ki(e){return e.length}var Yi={byteLength:Ki,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},write:function(e,t,n=0,r=Ki(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++)e[n+r]=t.charCodeAt(r);return i}};const Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xi=new Uint8Array(256);for(let e=0;e<64;e++)Xi[Qi.charCodeAt(e)]=e;function Zi(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}Xi[45]=62,Xi[95]=63;var eo={byteLength:Zi,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r+=3)n+=Qi[e[r]>>2]+Qi[(3&e[r])<<4|e[r+1]>>4]+Qi[(15&e[r+1])<<2|e[r+2]>>6]+Qi[63&e[r+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,n=0,r=Zi(t)){const i=Math.min(r,e.byteLength-n);for(let n=0,r=0;r<i;n+=4){const i=Xi[t.charCodeAt(n)],o=Xi[t.charCodeAt(n+1)],s=Xi[t.charCodeAt(n+2)],a=Xi[t.charCodeAt(n+3)];e[r++]=i<<2|o>>4,e[r++]=(15&o)<<4|s>>2,e[r++]=(3&s)<<6|63&a}return i}};function to(e){return e.length>>>1}var no={byteLength:to,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let n="",r=0;for(let i=t-t%4;r<i;r+=4)n+=e.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)n+=e.getUint8(r).toString(16).padStart(2,"0");return n},write:function(e,t,n=0,r=to(t)){const i=Math.min(r,e.byteLength-n);for(let r=0;r<i;r++){const i=ro(t.charCodeAt(2*r)),o=ro(t.charCodeAt(2*r+1));if(void 0===i||void 0===o)return e.subarray(0,r);e[n+r]=i<<4|o}return i}};function ro(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}function io(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<r){const r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){t+=4,n++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let oo,so;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;oo=function(t){return e.decode(t)}}else oo=function(e){const t=e.byteLength;let n="",r=0;for(;r<t;){let i=e[r];if(i<=127){n+=String.fromCharCode(i),r++;continue}let o=0,s=0;if(i<=223?(o=1,s=31&i):i<=239?(o=2,s=15&i):i<=244&&(o=3,s=7&i),t-r-o>0){let t=0;for(;t<o;)i=e[r+t+1],s=s<<6|63&i,t+=1}else s=65533,o=t-r;n+=String.fromCodePoint(s),r+=o+1}return n};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;so=function(t,n,r=0,i=io(n)){const o=Math.min(i,t.byteLength-r);return e.encodeInto(n,t.subarray(r,r+o)),o}}else so=function(e,t,n=0,r=io(t)){const i=Math.min(r,e.byteLength-n);e=e.subarray(n,n+i);let o=0,s=0;for(;o<t.length;){const n=t.codePointAt(o);if(n<=127){e[s++]=n,o++;continue}let r=0,i=0;for(n<=2047?(r=6,i=192):n<=65535?(r=12,i=224):n<=2097151&&(r=18,i=240),e[s++]=i|n>>r,r-=6;r>=0;)e[s++]=128|n>>r&63,r-=6;o+=n>=65536?2:1}return i};var ao={byteLength:io,toString:oo,write:so};function uo(e){return 2*e.length}var co={byteLength:uo,toString:function(e){const t=e.byteLength;let n="";for(let r=0;r<t-1;r+=2)n+=String.fromCharCode(e[r]+256*e[r+1]);return n},write:function(e,t,n=0,r=uo(t)){const i=Math.min(r,e.byteLength-n);let o=i;for(let r=0;r<t.length&&!((o-=2)<0);++r){const i=t.charCodeAt(r),o=i>>8,s=i%256;e[n+2*r]=s,e[n+2*r+1]=o}return i}};!function(e,t){const n=Yi,r=eo,i=no,o=ao,s=co,a=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(e){switch(e){case"ascii":return n;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return o;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${e}`)}}function c(e){return e instanceof Uint8Array}function l(e,t,n){return"string"==typeof e?function(e,t){const n=u(t),r=new Uint8Array(n.byteLength(e));return n.write(r,e,0,r.byteLength),r}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,n){return new Uint8Array(e,t,n)}(e,t,n)}function h(e,t,n,r,i){if(0===e.byteLength)return-1;if("string"==typeof n?(r=n,n=0):void 0===n?n=i?0:e.length-1:n<0&&(n+=e.byteLength),n>=e.byteLength){if(i)return-1;n=e.byteLength-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t)t=l(t,r);else if("number"==typeof t)return t&=255,i?e.indexOf(t,n):e.lastIndexOf(t,n);if(0===t.byteLength)return-1;if(i){let r=-1;for(let i=n;i<e.byteLength;i++)if(e[i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.byteLength)return r}else-1!==r&&(i-=i-r),r=-1}else{n+t.byteLength>e.byteLength&&(n=e.byteLength-t.byteLength);for(let r=n;r>=0;r--){let n=!0;for(let i=0;i<t.byteLength;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}}return-1}function p(e,t,n,r){return h(e,t,n,r,!0)}function x(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}e.exports=t={isBuffer:c,isEncoding:function(e){try{return u(e),!0}catch{return!1}},alloc:function(e,n,r){const i=new Uint8Array(e);return void 0!==n&&t.fill(i,n,0,i.byteLength,r),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return u(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const n=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4){if(e.getUint32(r,a)!==t.getUint32(r,a))break}for(;r<n;r++){const n=e.getUint8(r),i=t.getUint8(r);if(n<i)return-1;if(n>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const n=new Uint8Array(t);let r=0;for(const t of e){if(r+t.byteLength>n.byteLength){const e=t.subarray(0,n.byteLength-r);return n.set(e,r),n}n.set(t,r),r+=t.byteLength}return n},copy:function(e,t,n=0,r=0,i=e.byteLength){if(i>0&&i<r)return 0;if(i===r)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(n<0)throw new RangeError("targetStart is out of range");if(r<0||r>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");n>=t.byteLength&&(n=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-n<i-r&&(i=t.length-n+r);const o=i-r;return e===t?t.copyWithin(n,r,i):t.set(e.subarray(r,i),n),o},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const n=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;for(let i=n-n%4;r<i;r+=4)if(e.getUint32(r,a)!==t.getUint32(r,a))return!1;for(;r<n;r++)if(e.getUint8(r)!==t.getUint8(r))return!1;return!0},fill:function(e,t,n,r,i){if("string"==typeof t?"string"==typeof n?(i=n,n=0,r=e.byteLength):"string"==typeof r&&(i=r,r=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),n<0||e.byteLength<n||e.byteLength<r)throw new RangeError("Out of range index");if(void 0===n&&(n=0),void 0===r&&(r=e.byteLength),r<=n)return e;if(t||(t=0),"number"==typeof t)for(let i=n;i<r;++i)e[i]=t;else{const o=(t=c(t)?t:l(t,i)).byteLength;for(let i=0;i<r-n;++i)e[i+n]=t[i%o]}return e},from:l,includes:function(e,t,n,r){return-1!==p(e,t,n,r)},indexOf:p,lastIndexOf:function(e,t,n,r){return h(e,t,n,r,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)x(e,n,n+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)x(e,n,n+3),x(e,n+1,n+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)x(e,n,n+7),x(e,n+1,n+6),x(e,n+2,n+5),x(e,n+3,n+4);return e},toBuffer:function(e){return e},toString:function(e,t,n=0,r=e.byteLength){const i=e.byteLength;return n>=i||r<=n?"":(n<0&&(n=0),r>i&&(r=i),(0!==n||r<i)&&(e=e.subarray(n,r)),u(t).toString(e))},write:function(e,t,n,r,i){return void 0===n?i="utf8":void 0===r&&"string"==typeof n?(i=n,n=void 0):void 0===i&&"string"==typeof r&&(i=r,r=void 0),u(i).write(e,t,n,r)},writeDoubleLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),n+8},writeFloatLE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),n+4},writeUInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(n,t,!0),n+4},writeInt32LE:function(e,t,n){return void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(n,t,!0),n+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}}(Ji,Ji.exports);var lo=xr(Ji.exports);function ho(e,t,n={}){const{map:r,highWaterMark:i,...o}=n;let s=[];if(e.createReadStream)s.push(e.createReadStream(t,o));else if(e.get){const n=new $i.Readable;s.push(n),Promise.resolve(e.get(t,o)).then((e=>{var t;if(null!=(t=e)&&"string"==typeof t.valueOf()&&(e=lo.from(e)),e&&lo.isBuffer(e)){const t=e.length;o.start??=0,o.length&&!o.end?o.end=o.length+(o.start??0):o.end?o.end+=1:o.end=t,e=e.slice(o.start,o.end),n.push(lo.from(e))}n.push(null)})).catch((e=>n.destroy(e)))}if(i&&s.push(function(e){let t=lo.alloc(0);const n=function(n,r){const i=lo.concat([t,n]),o=i.length%e;let s,a=0;for(;(s=a+e)<=i.length;){const t=i.subarray(a,s);this.push(t),a+=e}t=o>0?i.subarray(i.length-o,i.length):null,r()};return new $i.Transform({transform:n,flush(e){t&&t.length&&this.push(t),e()}})}(i)),r&&s.push(new $i.Transform({async transform(e,t){const n=this;await Promise.resolve(r(e)).then((e=>{n.push(e),t(null)})).catch((e=>{t(e)}))}})),0===s.length)throw new Error("createReadStream failed to infer from source.");return 1===s.length?s[0]:$i.pipeline(...s)}"\naac,audio/aac,.aac,AAC audio file\nabw,application/x-abiword,.abw,AbiWord document\narc,application/octet-stream,.arc,Archive document (multiple files embedded)\navi,video/x-msvideo,.avi,AVI: Audio Video Interleave\nazw,application/vnd.amazon.ebook,.azw,Amazon Kindle eBook format\nbin,application/octet-stream,.bin,Any kind of binary data\nbmp,image/bmp,.bmp,Bitmap image\nbz,application/x-bzip,.bz,BZip archive\nbz2,application/x-bzip2,.bz2,BZip2 archive\ncsh,application/x-csh,.csh,C-Shell script\ncss,text/css,.css,Cascading Style Sheets (CSS)\ncsv,text/csv,.csv,Comma-separated values (CSV)\ndoc,application/msword,.doc,Microsoft Word\nepub,application/epub+zip,.epub,Electronic publication (EPUB)\ngif,image/gif,.gif,Graphics Interchange Format (GIF)\nhtm,,.htm,\nhtml,text/html,.html,HyperText Markup Language (HTML)\nheif,image/heif,.heic,Heif Image\nico,image/x-icon,.ico,Icon format\nics,text/calendar,.ics,iCalendar format\njar,application/java-archive,.jar,Java Archive (JAR)\njpeg,,.jpeg,\njpg,image/jpeg,.jpg,JPEG images\njs,application/javascript,.js,JavaScript (ECMAScript)\njson,application/json,.json,JSON format\nmid,,.mid,\nmidi,audio/midi,.midi,Musical Instrument Digital Interface (MIDI)\nmp4,video/mp4,.mp4,MP4 video file\nmpeg,video/mpeg,.mpeg,MPEG Video\nmpg,video/mpeg,.mpg,MPEG Video\nmpkg,application/vnd.apple.installer+xml,.mpkg,Apple Installer Package\nmd,text/markdown,.md,Markdown file\nodp,application/vnd.oasis.opendocument.presentation,.odp,OpenDocuemnt presentation document\nods,application/vnd.oasis.opendocument.spreadsheet,.ods,OpenDocuemnt spreadsheet document\nodt,application/vnd.oasis.opendocument.text,.odt,OpenDocument text document\noga,audio/ogg,.oga,OGG audio\nogv,video/ogg,.ogv,OGG video\nogx,application/ogg,.ogx,OGG\npdf,application/pdf,.pdf,Adobe Portable Document Format (PDF)\nppt,application/vnd.ms-powerpoint,.ppt,Microsoft PowerPoint\nrar,application/x-rar-compressed,.rar,RAR archive\nrtf,application/rtf,.rtf,Rich Text Format (RTF)\nsh,application/x-sh,.sh,Bourne shell script\nsvg,image/svg+xml,.svg,Scalable Vector Graphics (SVG)\nswf,application/x-shockwave-flash,.swf,Small web format (SWF) or Adobe Flash document\ntar,application/x-tar,.tar,Tape Archive (TAR)\ntif,,.tif,\ntiff,image/tiff,.tiff,Tagged Image File Format (TIFF)\nttf,font/ttf,.ttf,TrueType Font\ntxt,text/plain,.txt,Text file\nvsd,application/vnd.visio,.vsd,Microsft Visio\nwav,audio/x-wav,.wav,Waveform Audio Format\nwasm,application/wasm,.wasm,Web Assembly\nweba,audio/webm,.weba,WEBM audio\nwebm,video/webm,.webm,WEBM video\nwebp,image/webp,.webp,WEBP image\nwoff,font/woff,.woff,Web Open Font Format (WOFF)\nwoff2,font/woff2,.woff2,Web Open Font Format (WOFF)\nxhtml,application/xhtml+xml,.xhtml,XHTML\nxls,application/vnd.ms-excel,.xls,Microsoft Excel\nxml,application/xml,.xml,XML\nxul,application/vnd.mozilla.xul+xml,.xul,XUL\nzip,application/zip,.zip,ZIP archive\n3gp,video/3gpp,.3gp,3GPP audio/video container\naudio/3gpp if it doesn't contain video,,audio/3gpp if it doesn't contain video,\n3g2,video/3gpp2,.3g2,3GPP2 audio/video container\naudio/3gpp2 if it doesn't contain video,,audio/3gpp2 if it doesn't contain video,\n7z,application/x-7z-compressed,.7z,7-zip archive\n".split("\n").map((e=>e.split(","))).filter((([e])=>""!==e)).map((([e,t,n,r])=>({name:e,mimeType:t,extension:n,description:r})));var po=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};po.now||po.mozNow||po.msNow||po.oNow||po.webkitNow;const xo=bo(!1),fo=bo(!0);xo.win32=fo,fo.posix=xo;var mo=xo;function bo(e){const t={};t.posix=t,t.win32=t;const n=t.sep=e?"\\":"/";return e?(t.isAbsolute=function(e){return 0!==e.length&&("\\"===e[0]||"/"===e[0]||2===e.length&&":"===e[1]||e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2]))},t.root=function(e){return 0===e.length?"":"\\"===e[0]||"/"===e[0]?e[0]:2===e.length&&":"===e[1]?e:e.length>2&&":"===e[1]&&("\\"===e[2]||"/"===e[2])?e.slice(0,3):""}):(t.isAbsolute=function(e){return e.length>0&&"/"===e[0]},t.root=function(e){return t.isAbsolute(e)?"/":""}),t.basename=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;return t<=0?"":e.slice(e.lastIndexOf(n,t)+1,t+1)},t.dirname=function(e){let t=e.length-1;for(;t>0&&e[t]===n;)t--;if(t<=0)return"";const r=e.lastIndexOf(n,t);return-1===r?"":e.slice(0,r)},t.extname=function(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)},t.resolve=function(e,n){return void 0===n?t.normalize(e):t.isAbsolute(n)?t.normalize(n):t.join(e,n)},t.join=function(e,...r){for(const t of r)e+=n+t;return t.normalize(e)},t.normalize=function(r){if(!0===e){let e=-1;for(;-1!==(e=r.indexOf("/",e+1));)r=r.slice(0,e)+n+r.slice(e+1)}const i=t.root(r),o=""!==i;let s=i.length,a="";for(;s<r.length;){let e=r.indexOf(n,s);-1===e&&(e=r.length);const t=r.slice(s,e);if(s=e+1,""!==t&&"."!==t)if(".."!==t)a+=a?n+t:t;else{const e=a.lastIndexOf(n);-1===e||".."===a.slice(e+1)?o?a="":a+=a?n+"..":"..":a=a.slice(0,e)}}return i&&(a=i+a),a||"."},t}mo.posix=mo;const vo=256<<17;function yo(e,t){let n,r=!1;const i={};if(e&&("number"!=typeof(o=e)._duplexState||!function(e){return!!e._readableState||!!e._writableState}(o))){let t;({readable:e,writable:n,duplex:t}=e),!t||e||n||(e=t,n=t)}var o;if(!e&&!n)throw new Error("Invalid stream");let s,a;return e&&(s=new ReadableStream({start:function(t){i.data=n,i.end=n,i.end=o,i.close=o,i.error=o;for(let t in i)e.on(t,i[t]);function n(n){r||(t.enqueue("string"==typeof n?lo.from(n):n),e.pause())}function o(n){if(!r){r=!0;for(let t in i)e.off(t,i[t]);n?t.error(n):t.close()}}e.pause()},pull:function(){r||e.resume()},cancel:function(){r=!0;for(let t in i)e.off(t,i[t]);e.push(null),e.pause(),e.destroy?e.destroy():e.close&&e.close()},type:t?"bytes":void 0}),!n)?s:n&&(a=new WritableStream({async write(e){n.write("string"==typeof e?lo.from(e):e)||await function(e,t=!1){if(e.destroyed)return Promise.resolve(!1);const n=e._writableState,r=(t?Math.min(1,n.queue.length):n.queue.length)+(e._duplexState&vo?1:0);return 0===r?Promise.resolve(!0):(null===n.drains&&(n.drains=[]),new Promise((e=>{n.drains.push({writes:r,resolve:e})})))}(n,!1)}}),!e)?a:{readable:s,writable:a}}const{takeSync:go,concatTap:wo}=Gt,_o={ReplaySubject:M,concatAll:Be,ignoreElements:Ze,map:Ie,takeWhile:vt,toArray:$e};let So,Ao=new _o.ReplaySubject,Eo=!1;function Fo(e,t={}){let n,r,i=new Promise(((e,t)=>{n=e,r=t})),o=[],s={method:e.method??"GET",body:e.body??null,mode:e.mode??"cors",credentials:e.credentials??"same-origin",redirect:e.redirect??"follow",priority:e.priority??"auto",...t,headers:{...e.headers||{},...t}};"string"==typeof e&&(s.url=e);const{response$:a,...u}=s;return Ao.pipe(go(),_o.toArray(),_o.map((e=>e.reverse())),_o.concatAll(),wo((async e=>{e(u,{request:u,async next(){let e,t,n=new Promise(((n,r)=>{e=n,t=r}));return o.unshift([e,t]),n},async end(){if(u.ended)return;u.ended=!0;const e=new Request(u.url,u);n(await So(e))},respond(e,t={}){u.ended||(u.ended=!0,t.status||=200,("undefined"!=typeof window&&e._readableState||e._writableState)&&(e=yo(e)),console.log("Constructing response object from",{req:u,options:t}),n(e instanceof Response?e:new Response(e,{...u,...t})))},error:e=>(u.ended=!0,u.error=e,r(e))})})),_o.takeWhile((()=>!u.ended)),_o.ignoreElements()).subscribe((async()=>{for await(const[e,t]of o)u.error?t(u.error):e(u);u.ended||(u.ended=!0,n(So(e,t)))})),i}function Co(e,t,n={}){!function(){if(!Eo){if("undefined"==typeof Request||"undefined"==typeof fetch)throw new Error("Fetch not supported.");So=fetch,fetch=Fo,Eo=!0}}(),n.protocol&&(n.protocol=Qt(n.protocol||":",":")+":");const{protocol:r,mapper:i=(async e=>e)}=n,o=$t(t);Ao.next((async(t,n)=>{const{pathname:s,protocol:a}=nr(t.url);if(r&&r!==a)return;let u=o(s);if(!u)return;let{path:c,index:l,params:h}=u;var p;h.path&&(c="/"+(p=h.path,Array.isArray(p)?p:[p]).join("/"),delete h.path);const x=await Promise.resolve(i({path:c,index:l,params:h}));if(null!=x){({path:c}=x);try{n.respond(ho(e,c))}catch(e){n.next()}}}))}function ko(e){Ao.next(e)}export{ko as addFetchHook,Co as fetchHookOfSource};
